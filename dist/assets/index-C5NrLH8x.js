function Om(e,s){for(var a=0;a<s.length;a++){const r=s[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const l=Object.getOwnPropertyDescriptor(r,n);l&&Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();function Lm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uc={exports:{}},hn={},Vc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=Symbol.for("react.element"),Im=Symbol.for("react.portal"),Fm=Symbol.for("react.fragment"),$m=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),zm=Symbol.for("react.provider"),Um=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),Wm=Symbol.for("react.memo"),qm=Symbol.for("react.lazy"),xo=Symbol.iterator;function Gm(e){return e===null||typeof e!="object"?null:(e=xo&&e[xo]||e["@@iterator"],typeof e=="function"?e:null)}var Hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wc=Object.assign,qc={};function Ys(e,s,a){this.props=e,this.context=s,this.refs=qc,this.updater=a||Hc}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gc(){}Gc.prototype=Ys.prototype;function mi(e,s,a){this.props=e,this.context=s,this.refs=qc,this.updater=a||Hc}var xi=mi.prototype=new Gc;xi.constructor=mi;Wc(xi,Ys.prototype);xi.isPureReactComponent=!0;var ho=Array.isArray,Qc=Object.prototype.hasOwnProperty,hi={current:null},Yc={key:!0,ref:!0,__self:!0,__source:!0};function Xc(e,s,a){var r,n={},l=null,i=null;if(s!=null)for(r in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)Qc.call(s,r)&&!Yc.hasOwnProperty(r)&&(n[r]=s[r]);var c=arguments.length-2;if(c===1)n.children=a;else if(1<c){for(var o=Array(c),x=0;x<c;x++)o[x]=arguments[x+2];n.children=o}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)n[r]===void 0&&(n[r]=c[r]);return{$$typeof:Ha,type:e,key:l,ref:i,props:n,_owner:hi.current}}function Qm(e,s){return{$$typeof:Ha,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function pi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ha}function Ym(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return s[a]})}var po=/\/+/g;function Ln(e,s){return typeof e=="object"&&e!==null&&e.key!=null?Ym(""+e.key):s.toString(36)}function Nr(e,s,a,r,n){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ha:case Im:i=!0}}if(i)return i=e,n=n(i),e=r===""?"."+Ln(i,0):r,ho(n)?(a="",e!=null&&(a=e.replace(po,"$&/")+"/"),Nr(n,s,a,"",function(x){return x})):n!=null&&(pi(n)&&(n=Qm(n,a+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(po,"$&/")+"/")+e)),s.push(n)),1;if(i=0,r=r===""?".":r+":",ho(e))for(var c=0;c<e.length;c++){l=e[c];var o=r+Ln(l,c);i+=Nr(l,s,a,o,n)}else if(o=Gm(e),typeof o=="function")for(e=o.call(e),c=0;!(l=e.next()).done;)l=l.value,o=r+Ln(l,c++),i+=Nr(l,s,a,o,n);else if(l==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function sr(e,s,a){if(e==null)return e;var r=[],n=0;return Nr(e,r,"","",function(l){return s.call(a,l,n++)}),r}function Xm(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},wr={transition:null},Km={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:wr,ReactCurrentOwner:hi};function Kc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:sr,forEach:function(e,s,a){sr(e,function(){s.apply(this,arguments)},a)},count:function(e){var s=0;return sr(e,function(){s++}),s},toArray:function(e){return sr(e,function(s){return s})||[]},only:function(e){if(!pi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=Ys;U.Fragment=Fm;U.Profiler=Bm;U.PureComponent=mi;U.StrictMode=$m;U.Suspense=Hm;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Km;U.act=Kc;U.cloneElement=function(e,s,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wc({},e.props),n=e.key,l=e.ref,i=e._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=hi.current),s.key!==void 0&&(n=""+s.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in s)Qc.call(s,o)&&!Yc.hasOwnProperty(o)&&(r[o]=s[o]===void 0&&c!==void 0?c[o]:s[o])}var o=arguments.length-2;if(o===1)r.children=a;else if(1<o){c=Array(o);for(var x=0;x<o;x++)c[x]=arguments[x+2];r.children=c}return{$$typeof:Ha,type:e.type,key:n,ref:l,props:r,_owner:i}};U.createContext=function(e){return e={$$typeof:Um,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zm,_context:e},e.Consumer=e};U.createElement=Xc;U.createFactory=function(e){var s=Xc.bind(null,e);return s.type=e,s};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Vm,render:e}};U.isValidElement=pi;U.lazy=function(e){return{$$typeof:qm,_payload:{_status:-1,_result:e},_init:Xm}};U.memo=function(e,s){return{$$typeof:Wm,type:e,compare:s===void 0?null:s}};U.startTransition=function(e){var s=wr.transition;wr.transition={};try{e()}finally{wr.transition=s}};U.unstable_act=Kc;U.useCallback=function(e,s){return Re.current.useCallback(e,s)};U.useContext=function(e){return Re.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};U.useEffect=function(e,s){return Re.current.useEffect(e,s)};U.useId=function(){return Re.current.useId()};U.useImperativeHandle=function(e,s,a){return Re.current.useImperativeHandle(e,s,a)};U.useInsertionEffect=function(e,s){return Re.current.useInsertionEffect(e,s)};U.useLayoutEffect=function(e,s){return Re.current.useLayoutEffect(e,s)};U.useMemo=function(e,s){return Re.current.useMemo(e,s)};U.useReducer=function(e,s,a){return Re.current.useReducer(e,s,a)};U.useRef=function(e){return Re.current.useRef(e)};U.useState=function(e){return Re.current.useState(e)};U.useSyncExternalStore=function(e,s,a){return Re.current.useSyncExternalStore(e,s,a)};U.useTransition=function(){return Re.current.useTransition()};U.version="18.3.1";Vc.exports=U;var S=Vc.exports;const Jm=Lm(S),Zm=Om({__proto__:null,default:Jm},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=S,tx=Symbol.for("react.element"),sx=Symbol.for("react.fragment"),ax=Object.prototype.hasOwnProperty,rx=ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nx={key:!0,ref:!0,__self:!0,__source:!0};function Jc(e,s,a){var r,n={},l=null,i=null;a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(r in s)ax.call(s,r)&&!nx.hasOwnProperty(r)&&(n[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:tx,type:e,key:l,ref:i,props:n,_owner:rx.current}}hn.Fragment=sx;hn.jsx=Jc;hn.jsxs=Jc;Uc.exports=hn;var t=Uc.exports,Zc={exports:{}},He={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(P,L){var z=P.length;P.push(L);e:for(;0<z;){var _=z-1>>>1,I=P[_];if(0<n(I,L))P[_]=L,P[z]=I,z=_;else break e}}function a(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var L=P[0],z=P.pop();if(z!==L){P[0]=z;e:for(var _=0,I=P.length,ce=I>>>1;_<ce;){var me=2*(_+1)-1,On=P[me],Xt=me+1,tr=P[Xt];if(0>n(On,z))Xt<I&&0>n(tr,On)?(P[_]=tr,P[Xt]=z,_=Xt):(P[_]=On,P[me]=z,_=me);else if(Xt<I&&0>n(tr,z))P[_]=tr,P[Xt]=z,_=Xt;else break e}}return L}function n(P,L){var z=P.sortIndex-L.sortIndex;return z!==0?z:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],x=[],d=1,h=null,p=3,b=!1,m=!1,g=!1,j=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(P){for(var L=a(x);L!==null;){if(L.callback===null)r(x);else if(L.startTime<=P)r(x),L.sortIndex=L.expirationTime,s(o,L);else break;L=a(x)}}function y(P){if(g=!1,u(P),!m)if(a(o)!==null)m=!0,oe(k);else{var L=a(x);L!==null&&D(y,L.startTime-P)}}function k(P,L){m=!1,g&&(g=!1,f(C),C=-1),b=!0;var z=p;try{for(u(L),h=a(o);h!==null&&(!(h.expirationTime>L)||P&&!T());){var _=h.callback;if(typeof _=="function"){h.callback=null,p=h.priorityLevel;var I=_(h.expirationTime<=L);L=e.unstable_now(),typeof I=="function"?h.callback=I:h===a(o)&&r(o),u(L)}else r(o);h=a(o)}if(h!==null)var ce=!0;else{var me=a(x);me!==null&&D(y,me.startTime-L),ce=!1}return ce}finally{h=null,p=z,b=!1}}var N=!1,w=null,C=-1,A=5,M=-1;function T(){return!(e.unstable_now()-M<A)}function $(){if(w!==null){var P=e.unstable_now();M=P;var L=!0;try{L=w(!0,P)}finally{L?E():(N=!1,w=null)}}else N=!1}var E;if(typeof v=="function")E=function(){v($)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=$,E=function(){H.postMessage(null)}}else E=function(){j($,0)};function oe(P){w=P,N||(N=!0,E())}function D(P,L){C=j(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){m||b||(m=!0,oe(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return a(o)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var z=p;p=L;try{return P()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=p;p=P;try{return L()}finally{p=z}},e.unstable_scheduleCallback=function(P,L,z){var _=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?_+z:_):z=_,P){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=z+I,P={id:d++,callback:L,priorityLevel:P,startTime:z,expirationTime:I,sortIndex:-1},z>_?(P.sortIndex=z,s(x,P),a(o)===null&&P===a(x)&&(g?(f(C),C=-1):g=!0,D(y,z-_))):(P.sortIndex=I,s(o,P),m||b||(m=!0,oe(k))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var L=p;return function(){var z=p;p=L;try{return P.apply(this,arguments)}finally{p=z}}}})(td);ed.exports=td;var lx=ed.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=S,Ue=lx;function R(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sd=new Set,Sa={};function xs(e,s){$s(e,s),$s(e+"Capture",s)}function $s(e,s){for(Sa[e]=s,e=0;e<s.length;e++)sd.add(s[e])}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=Object.prototype.hasOwnProperty,ox=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fo={},go={};function cx(e){return ul.call(go,e)?!0:ul.call(fo,e)?!1:ox.test(e)?go[e]=!0:(fo[e]=!0,!1)}function dx(e,s,a,r){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ux(e,s,a,r){if(s===null||typeof s>"u"||dx(e,s,a,r))return!0;if(r)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ae(e,s,a,r,n,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=e,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];Ne[s]=new Ae(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var fi=/[\-:]([a-z])/g;function gi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(fi,gi);Ne[s]=new Ae(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(fi,gi);Ne[s]=new Ae(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(fi,gi);Ne[s]=new Ae(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function vi(e,s,a,r){var n=Ne.hasOwnProperty(s)?Ne[s]:null;(n!==null?n.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(ux(s,a,n,r)&&(a=null),r||n===null?cx(s)&&(a===null?e.removeAttribute(s):e.setAttribute(s,""+a)):n.mustUseProperty?e[n.propertyName]=a===null?n.type===3?!1:"":a:(s=n.attributeName,r=n.attributeNamespace,a===null?e.removeAttribute(s):(n=n.type,a=n===3||n===4&&a===!0?"":""+a,r?e.setAttributeNS(r,s,a):e.setAttribute(s,a))))}var kt=ix.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ar=Symbol.for("react.element"),js=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),bi=Symbol.for("react.strict_mode"),ml=Symbol.for("react.profiler"),ad=Symbol.for("react.provider"),rd=Symbol.for("react.context"),ji=Symbol.for("react.forward_ref"),xl=Symbol.for("react.suspense"),hl=Symbol.for("react.suspense_list"),yi=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),nd=Symbol.for("react.offscreen"),vo=Symbol.iterator;function ea(e){return e===null||typeof e!="object"?null:(e=vo&&e[vo]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,In;function ua(e){if(In===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);In=s&&s[1]||""}return`
`+In+e}var Fn=!1;function $n(e,s){if(!e||Fn)return"";Fn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(x){var r=x}Reflect.construct(e,[],s)}else{try{s.call()}catch(x){r=x}e.call(s.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var n=x.stack.split(`
`),l=r.stack.split(`
`),i=n.length-1,c=l.length-1;1<=i&&0<=c&&n[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(n[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||n[i]!==l[c]){var o=`
`+n[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{Fn=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?ua(e):""}function mx(e){switch(e.tag){case 5:return ua(e.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 2:case 15:return e=$n(e.type,!1),e;case 11:return e=$n(e.type.render,!1),e;case 1:return e=$n(e.type,!0),e;default:return""}}function pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case js:return"Portal";case ml:return"Profiler";case bi:return"StrictMode";case xl:return"Suspense";case hl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rd:return(e.displayName||"Context")+".Consumer";case ad:return(e._context.displayName||"Context")+".Provider";case ji:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yi:return s=e.displayName||null,s!==null?s:pl(e.type)||"Memo";case Tt:s=e._payload,e=e._init;try{return pl(e(s))}catch{}}return null}function xx(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pl(s);case 8:return s===bi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ht(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ld(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hx(e){var s=ld(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),r=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,l=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function rr(e){e._valueTracker||(e._valueTracker=hx(e))}function id(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return e&&(r=ld(e)?e.checked?"true":"false":e.value),e=r,e!==a?(s.setValue(e),!0):!1}function Lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fl(e,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function bo(e,s){var a=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;a=Ht(s.value!=null?s.value:a),e._wrapperState={initialChecked:r,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function od(e,s){s=s.checked,s!=null&&vi(e,"checked",s,!1)}function gl(e,s){od(e,s);var a=Ht(s.value),r=s.type;if(a!=null)r==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?vl(e,s.type,a):s.hasOwnProperty("defaultValue")&&vl(e,s.type,Ht(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function jo(e,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,a||s===e.value||(e.value=s),e.defaultValue=s}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function vl(e,s,a){(s!=="number"||Lr(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var ma=Array.isArray;function As(e,s,a,r){if(e=e.options,s){s={};for(var n=0;n<a.length;n++)s["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=s.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),s=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,r&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function bl(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(R(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yo(e,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(R(92));if(ma(a)){if(1<a.length)throw Error(R(93));a=a[0]}s=a}s==null&&(s=""),a=s}e._wrapperState={initialValue:Ht(a)}}function cd(e,s){var a=Ht(s.value),r=Ht(s.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),s.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),r!=null&&(e.defaultValue=""+r)}function No(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function dd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jl(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?dd(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nr,ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,r,n){MSApp.execUnsafeLocalFunction(function(){return e(s,a,r,n)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=nr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function Ca(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},px=["Webkit","ms","Moz","O"];Object.keys(pa).forEach(function(e){px.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pa[s]=pa[e]})});function md(e,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||pa.hasOwnProperty(e)&&pa[e]?(""+s).trim():s+"px"}function xd(e,s){e=e.style;for(var a in s)if(s.hasOwnProperty(a)){var r=a.indexOf("--")===0,n=md(a,s[a],r);a==="float"&&(a="cssFloat"),r?e.setProperty(a,n):e[a]=n}}var fx=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yl(e,s){if(s){if(fx[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(R(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(R(61))}if(s.style!=null&&typeof s.style!="object")throw Error(R(62))}}function Nl(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wl=null;function Ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sl=null,Ms=null,_s=null;function wo(e){if(e=Ga(e)){if(typeof Sl!="function")throw Error(R(280));var s=e.stateNode;s&&(s=bn(s),Sl(e.stateNode,e.type,s))}}function hd(e){Ms?_s?_s.push(e):_s=[e]:Ms=e}function pd(){if(Ms){var e=Ms,s=_s;if(_s=Ms=null,wo(e),s)for(e=0;e<s.length;e++)wo(s[e])}}function fd(e,s){return e(s)}function gd(){}var Bn=!1;function vd(e,s,a){if(Bn)return e(s,a);Bn=!0;try{return fd(e,s,a)}finally{Bn=!1,(Ms!==null||_s!==null)&&(gd(),pd())}}function ka(e,s){var a=e.stateNode;if(a===null)return null;var r=bn(a);if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(R(231,s,typeof a));return a}var Cl=!1;if(Nt)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Cl=!1}function gx(e,s,a,r,n,l,i,c,o){var x=Array.prototype.slice.call(arguments,3);try{s.apply(a,x)}catch(d){this.onError(d)}}var fa=!1,Ir=null,Fr=!1,kl=null,vx={onError:function(e){fa=!0,Ir=e}};function bx(e,s,a,r,n,l,i,c,o){fa=!1,Ir=null,gx.apply(vx,arguments)}function jx(e,s,a,r,n,l,i,c,o){if(bx.apply(this,arguments),fa){if(fa){var x=Ir;fa=!1,Ir=null}else throw Error(R(198));Fr||(Fr=!0,kl=x)}}function hs(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function bd(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function So(e){if(hs(e)!==e)throw Error(R(188))}function yx(e){var s=e.alternate;if(!s){if(s=hs(e),s===null)throw Error(R(188));return s!==e?null:e}for(var a=e,r=s;;){var n=a.return;if(n===null)break;var l=n.alternate;if(l===null){if(r=n.return,r!==null){a=r;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===a)return So(n),e;if(l===r)return So(n),s;l=l.sibling}throw Error(R(188))}if(a.return!==r.return)a=n,r=l;else{for(var i=!1,c=n.child;c;){if(c===a){i=!0,a=n,r=l;break}if(c===r){i=!0,r=n,a=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===a){i=!0,a=l,r=n;break}if(c===r){i=!0,r=l,a=n;break}c=c.sibling}if(!i)throw Error(R(189))}}if(a.alternate!==r)throw Error(R(190))}if(a.tag!==3)throw Error(R(188));return a.stateNode.current===a?e:s}function jd(e){return e=yx(e),e!==null?yd(e):null}function yd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=yd(e);if(s!==null)return s;e=e.sibling}return null}var Nd=Ue.unstable_scheduleCallback,Co=Ue.unstable_cancelCallback,Nx=Ue.unstable_shouldYield,wx=Ue.unstable_requestPaint,ie=Ue.unstable_now,Sx=Ue.unstable_getCurrentPriorityLevel,wi=Ue.unstable_ImmediatePriority,wd=Ue.unstable_UserBlockingPriority,$r=Ue.unstable_NormalPriority,Cx=Ue.unstable_LowPriority,Sd=Ue.unstable_IdlePriority,pn=null,ut=null;function kx(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(pn,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Tx,Px=Math.log,Ex=Math.LN2;function Tx(e){return e>>>=0,e===0?32:31-(Px(e)/Ex|0)|0}var lr=64,ir=4194304;function xa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Br(e,s){var a=e.pendingLanes;if(a===0)return 0;var r=0,n=e.suspendedLanes,l=e.pingedLanes,i=a&268435455;if(i!==0){var c=i&~n;c!==0?r=xa(c):(l&=i,l!==0&&(r=xa(l)))}else i=a&~n,i!==0?r=xa(i):l!==0&&(r=xa(l));if(r===0)return 0;if(s!==0&&s!==r&&!(s&n)&&(n=r&-r,l=s&-s,n>=l||n===16&&(l&4194240)!==0))return s;if(r&4&&(r|=a&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=r;0<s;)a=31-at(s),n=1<<a,r|=e[a],s&=~n;return r}function Dx(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rx(e,s){for(var a=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-at(l),c=1<<i,o=n[i];o===-1?(!(c&a)||c&r)&&(n[i]=Dx(c,s)):o<=s&&(e.expiredLanes|=c),l&=~c}}function Pl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cd(){var e=lr;return lr<<=1,!(lr&4194240)&&(lr=64),e}function zn(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Wa(e,s,a){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-at(s),e[s]=a}function Ax(e,s){var a=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<a;){var n=31-at(a),l=1<<n;s[n]=0,r[n]=-1,e[n]=-1,a&=~l}}function Si(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var r=31-at(a),n=1<<r;n&s|e[r]&s&&(e[r]|=s),a&=~n}}var G=0;function kd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pd,Ci,Ed,Td,Dd,El=!1,or=[],Lt=null,It=null,Ft=null,Pa=new Map,Ea=new Map,Rt=[],Mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ko(e,s){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Pa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(s.pointerId)}}function sa(e,s,a,r,n,l){return e===null||e.nativeEvent!==l?(e={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:l,targetContainers:[n]},s!==null&&(s=Ga(s),s!==null&&Ci(s)),e):(e.eventSystemFlags|=r,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function _x(e,s,a,r,n){switch(s){case"focusin":return Lt=sa(Lt,e,s,a,r,n),!0;case"dragenter":return It=sa(It,e,s,a,r,n),!0;case"mouseover":return Ft=sa(Ft,e,s,a,r,n),!0;case"pointerover":var l=n.pointerId;return Pa.set(l,sa(Pa.get(l)||null,e,s,a,r,n)),!0;case"gotpointercapture":return l=n.pointerId,Ea.set(l,sa(Ea.get(l)||null,e,s,a,r,n)),!0}return!1}function Rd(e){var s=es(e.target);if(s!==null){var a=hs(s);if(a!==null){if(s=a.tag,s===13){if(s=bd(a),s!==null){e.blockedOn=s,Dd(e.priority,function(){Ed(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sr(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Tl(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);wl=r,a.target.dispatchEvent(r),wl=null}else return s=Ga(a),s!==null&&Ci(s),e.blockedOn=a,!1;s.shift()}return!0}function Po(e,s,a){Sr(e)&&a.delete(s)}function Ox(){El=!1,Lt!==null&&Sr(Lt)&&(Lt=null),It!==null&&Sr(It)&&(It=null),Ft!==null&&Sr(Ft)&&(Ft=null),Pa.forEach(Po),Ea.forEach(Po)}function aa(e,s){e.blockedOn===s&&(e.blockedOn=null,El||(El=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Ox)))}function Ta(e){function s(n){return aa(n,e)}if(0<or.length){aa(or[0],e);for(var a=1;a<or.length;a++){var r=or[a];r.blockedOn===e&&(r.blockedOn=null)}}for(Lt!==null&&aa(Lt,e),It!==null&&aa(It,e),Ft!==null&&aa(Ft,e),Pa.forEach(s),Ea.forEach(s),a=0;a<Rt.length;a++)r=Rt[a],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&(a=Rt[0],a.blockedOn===null);)Rd(a),a.blockedOn===null&&Rt.shift()}var Os=kt.ReactCurrentBatchConfig,zr=!0;function Lx(e,s,a,r){var n=G,l=Os.transition;Os.transition=null;try{G=1,ki(e,s,a,r)}finally{G=n,Os.transition=l}}function Ix(e,s,a,r){var n=G,l=Os.transition;Os.transition=null;try{G=4,ki(e,s,a,r)}finally{G=n,Os.transition=l}}function ki(e,s,a,r){if(zr){var n=Tl(e,s,a,r);if(n===null)Kn(e,s,r,Ur,a),ko(e,r);else if(_x(n,e,s,a,r))r.stopPropagation();else if(ko(e,r),s&4&&-1<Mx.indexOf(e)){for(;n!==null;){var l=Ga(n);if(l!==null&&Pd(l),l=Tl(e,s,a,r),l===null&&Kn(e,s,r,Ur,a),l===n)break;n=l}n!==null&&r.stopPropagation()}else Kn(e,s,r,null,a)}}var Ur=null;function Tl(e,s,a,r){if(Ur=null,e=Ni(r),e=es(e),e!==null)if(s=hs(e),s===null)e=null;else if(a=s.tag,a===13){if(e=bd(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return Ur=e,null}function Ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sx()){case wi:return 1;case wd:return 4;case $r:case Cx:return 16;case Sd:return 536870912;default:return 16}default:return 16}}var Mt=null,Pi=null,Cr=null;function Md(){if(Cr)return Cr;var e,s=Pi,a=s.length,r,n="value"in Mt?Mt.value:Mt.textContent,l=n.length;for(e=0;e<a&&s[e]===n[e];e++);var i=a-e;for(r=1;r<=i&&s[a-r]===n[l-r];r++);return Cr=n.slice(e,1<r?1-r:void 0)}function kr(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function cr(){return!0}function Eo(){return!1}function We(e){function s(a,r,n,l,i){this._reactName=a,this._targetInst=n,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?cr:Eo,this.isPropagationStopped=Eo,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),s}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=We(Xs),qa=ae({},Xs,{view:0,detail:0}),Fx=We(qa),Un,Vn,ra,fn=ae({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(Un=e.screenX-ra.screenX,Vn=e.screenY-ra.screenY):Vn=Un=0,ra=e),Un)},movementY:function(e){return"movementY"in e?e.movementY:Vn}}),To=We(fn),$x=ae({},fn,{dataTransfer:0}),Bx=We($x),zx=ae({},qa,{relatedTarget:0}),Hn=We(zx),Ux=ae({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Vx=We(Ux),Hx=ae({},Xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wx=We(Hx),qx=ae({},Xs,{data:0}),Do=We(qx),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Yx[e])?!!s[e]:!1}function Ti(){return Xx}var Kx=ae({},qa,{key:function(e){if(e.key){var s=Gx[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(e){return e.type==="keypress"?kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jx=We(Kx),Zx=ae({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=We(Zx),e0=ae({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),t0=We(e0),s0=ae({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),a0=We(s0),r0=ae({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n0=We(r0),l0=[9,13,27,32],Di=Nt&&"CompositionEvent"in window,ga=null;Nt&&"documentMode"in document&&(ga=document.documentMode);var i0=Nt&&"TextEvent"in window&&!ga,_d=Nt&&(!Di||ga&&8<ga&&11>=ga),Ao=" ",Mo=!1;function Od(e,s){switch(e){case"keyup":return l0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function o0(e,s){switch(e){case"compositionend":return Ld(s);case"keypress":return s.which!==32?null:(Mo=!0,Ao);case"textInput":return e=s.data,e===Ao&&Mo?null:e;default:return null}}function c0(e,s){if(Ns)return e==="compositionend"||!Di&&Od(e,s)?(e=Md(),Cr=Pi=Mt=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _d&&s.locale!=="ko"?null:s.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _o(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!d0[e.type]:s==="textarea"}function Id(e,s,a,r){hd(r),s=Vr(s,"onChange"),0<s.length&&(a=new Ei("onChange","change",null,a,r),e.push({event:a,listeners:s}))}var va=null,Da=null;function u0(e){Qd(e,0)}function gn(e){var s=Cs(e);if(id(s))return e}function m0(e,s){if(e==="change")return s}var Fd=!1;if(Nt){var Wn;if(Nt){var qn="oninput"in document;if(!qn){var Oo=document.createElement("div");Oo.setAttribute("oninput","return;"),qn=typeof Oo.oninput=="function"}Wn=qn}else Wn=!1;Fd=Wn&&(!document.documentMode||9<document.documentMode)}function Lo(){va&&(va.detachEvent("onpropertychange",$d),Da=va=null)}function $d(e){if(e.propertyName==="value"&&gn(Da)){var s=[];Id(s,Da,e,Ni(e)),vd(u0,s)}}function x0(e,s,a){e==="focusin"?(Lo(),va=s,Da=a,va.attachEvent("onpropertychange",$d)):e==="focusout"&&Lo()}function h0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gn(Da)}function p0(e,s){if(e==="click")return gn(s)}function f0(e,s){if(e==="input"||e==="change")return gn(s)}function g0(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var nt=typeof Object.is=="function"?Object.is:g0;function Ra(e,s){if(nt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var n=a[r];if(!ul.call(s,n)||!nt(e[n],s[n]))return!1}return!0}function Io(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fo(e,s){var a=Io(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=s&&r>=s)return{node:a,offset:s-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Io(a)}}function Bd(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Bd(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function zd(){for(var e=window,s=Lr();s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Lr(e.document)}return s}function Ri(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function v0(e){var s=zd(),a=e.focusedElem,r=e.selectionRange;if(s!==a&&a&&a.ownerDocument&&Bd(a.ownerDocument.documentElement,a)){if(r!==null&&Ri(a)){if(s=r.start,e=r.end,e===void 0&&(e=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(e,a.value.length);else if(e=(s=a.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var n=a.textContent.length,l=Math.min(r.start,n);r=r.end===void 0?l:Math.min(r.end,n),!e.extend&&l>r&&(n=r,r=l,l=n),n=Fo(a,l);var i=Fo(a,r);n&&i&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),e.removeAllRanges(),l>r?(e.addRange(s),e.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),e.addRange(s)))}}for(s=[],e=a;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)e=s[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var b0=Nt&&"documentMode"in document&&11>=document.documentMode,ws=null,Dl=null,ba=null,Rl=!1;function $o(e,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rl||ws==null||ws!==Lr(r)||(r=ws,"selectionStart"in r&&Ri(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ba&&Ra(ba,r)||(ba=r,r=Vr(Dl,"onSelect"),0<r.length&&(s=new Ei("onSelect","select",null,s,a),e.push({event:s,listeners:r}),s.target=ws)))}function dr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Ss={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionend:dr("Transition","TransitionEnd")},Gn={},Ud={};Nt&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function vn(e){if(Gn[e])return Gn[e];if(!Ss[e])return e;var s=Ss[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ud)return Gn[e]=s[a];return e}var Vd=vn("animationend"),Hd=vn("animationiteration"),Wd=vn("animationstart"),qd=vn("transitionend"),Gd=new Map,Bo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,s){Gd.set(e,s),xs(s,[e])}for(var Qn=0;Qn<Bo.length;Qn++){var Yn=Bo[Qn],j0=Yn.toLowerCase(),y0=Yn[0].toUpperCase()+Yn.slice(1);Gt(j0,"on"+y0)}Gt(Vd,"onAnimationEnd");Gt(Hd,"onAnimationIteration");Gt(Wd,"onAnimationStart");Gt("dblclick","onDoubleClick");Gt("focusin","onFocus");Gt("focusout","onBlur");Gt(qd,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function zo(e,s,a){var r=e.type||"unknown-event";e.currentTarget=a,jx(r,s,void 0,e),e.currentTarget=null}function Qd(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],n=r.event;r=r.listeners;e:{var l=void 0;if(s)for(var i=r.length-1;0<=i;i--){var c=r[i],o=c.instance,x=c.currentTarget;if(c=c.listener,o!==l&&n.isPropagationStopped())break e;zo(n,c,x),l=o}else for(i=0;i<r.length;i++){if(c=r[i],o=c.instance,x=c.currentTarget,c=c.listener,o!==l&&n.isPropagationStopped())break e;zo(n,c,x),l=o}}}if(Fr)throw e=kl,Fr=!1,kl=null,e}function K(e,s){var a=s[Ll];a===void 0&&(a=s[Ll]=new Set);var r=e+"__bubble";a.has(r)||(Yd(s,e,2,!1),a.add(r))}function Xn(e,s,a){var r=0;s&&(r|=4),Yd(a,e,r,s)}var ur="_reactListening"+Math.random().toString(36).slice(2);function Aa(e){if(!e[ur]){e[ur]=!0,sd.forEach(function(a){a!=="selectionchange"&&(N0.has(a)||Xn(a,!1,e),Xn(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[ur]||(s[ur]=!0,Xn("selectionchange",!1,s))}}function Yd(e,s,a,r){switch(Ad(s)){case 1:var n=Lx;break;case 4:n=Ix;break;default:n=ki}a=n.bind(null,s,a,e),n=void 0,!Cl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),r?n!==void 0?e.addEventListener(s,a,{capture:!0,passive:n}):e.addEventListener(s,a,!0):n!==void 0?e.addEventListener(s,a,{passive:n}):e.addEventListener(s,a,!1)}function Kn(e,s,a,r,n){var l=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var c=r.stateNode.containerInfo;if(c===n||c.nodeType===8&&c.parentNode===n)break;if(i===4)for(i=r.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===n||o.nodeType===8&&o.parentNode===n))return;i=i.return}for(;c!==null;){if(i=es(c),i===null)return;if(o=i.tag,o===5||o===6){r=l=i;continue e}c=c.parentNode}}r=r.return}vd(function(){var x=l,d=Ni(a),h=[];e:{var p=Gd.get(e);if(p!==void 0){var b=Ei,m=e;switch(e){case"keypress":if(kr(a)===0)break e;case"keydown":case"keyup":b=Jx;break;case"focusin":m="focus",b=Hn;break;case"focusout":m="blur",b=Hn;break;case"beforeblur":case"afterblur":b=Hn;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=t0;break;case Vd:case Hd:case Wd:b=Vx;break;case qd:b=a0;break;case"scroll":b=Fx;break;case"wheel":b=n0;break;case"copy":case"cut":case"paste":b=Wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Ro}var g=(s&4)!==0,j=!g&&e==="scroll",f=g?p!==null?p+"Capture":null:p;g=[];for(var v=x,u;v!==null;){u=v;var y=u.stateNode;if(u.tag===5&&y!==null&&(u=y,f!==null&&(y=ka(v,f),y!=null&&g.push(Ma(v,y,u)))),j)break;v=v.return}0<g.length&&(p=new b(p,m,null,a,d),h.push({event:p,listeners:g}))}}if(!(s&7)){e:{if(p=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",p&&a!==wl&&(m=a.relatedTarget||a.fromElement)&&(es(m)||m[wt]))break e;if((b||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,b?(m=a.relatedTarget||a.toElement,b=x,m=m?es(m):null,m!==null&&(j=hs(m),m!==j||m.tag!==5&&m.tag!==6)&&(m=null)):(b=null,m=x),b!==m)){if(g=To,y="onMouseLeave",f="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ro,y="onPointerLeave",f="onPointerEnter",v="pointer"),j=b==null?p:Cs(b),u=m==null?p:Cs(m),p=new g(y,v+"leave",b,a,d),p.target=j,p.relatedTarget=u,y=null,es(d)===x&&(g=new g(f,v+"enter",m,a,d),g.target=u,g.relatedTarget=j,y=g),j=y,b&&m)t:{for(g=b,f=m,v=0,u=g;u;u=gs(u))v++;for(u=0,y=f;y;y=gs(y))u++;for(;0<v-u;)g=gs(g),v--;for(;0<u-v;)f=gs(f),u--;for(;v--;){if(g===f||f!==null&&g===f.alternate)break t;g=gs(g),f=gs(f)}g=null}else g=null;b!==null&&Uo(h,p,b,g,!1),m!==null&&j!==null&&Uo(h,j,m,g,!0)}}e:{if(p=x?Cs(x):window,b=p.nodeName&&p.nodeName.toLowerCase(),b==="select"||b==="input"&&p.type==="file")var k=m0;else if(_o(p))if(Fd)k=f0;else{k=h0;var N=x0}else(b=p.nodeName)&&b.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=p0);if(k&&(k=k(e,x))){Id(h,k,a,d);break e}N&&N(e,p,x),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&vl(p,"number",p.value)}switch(N=x?Cs(x):window,e){case"focusin":(_o(N)||N.contentEditable==="true")&&(ws=N,Dl=x,ba=null);break;case"focusout":ba=Dl=ws=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,$o(h,a,d);break;case"selectionchange":if(b0)break;case"keydown":case"keyup":$o(h,a,d)}var w;if(Di)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ns?Od(e,a)&&(C="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(C="onCompositionStart");C&&(_d&&a.locale!=="ko"&&(Ns||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ns&&(w=Md()):(Mt=d,Pi="value"in Mt?Mt.value:Mt.textContent,Ns=!0)),N=Vr(x,C),0<N.length&&(C=new Do(C,e,null,a,d),h.push({event:C,listeners:N}),w?C.data=w:(w=Ld(a),w!==null&&(C.data=w)))),(w=i0?o0(e,a):c0(e,a))&&(x=Vr(x,"onBeforeInput"),0<x.length&&(d=new Do("onBeforeInput","beforeinput",null,a,d),h.push({event:d,listeners:x}),d.data=w))}Qd(h,s)})}function Ma(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Vr(e,s){for(var a=s+"Capture",r=[];e!==null;){var n=e,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=ka(e,a),l!=null&&r.unshift(Ma(e,l,n)),l=ka(e,s),l!=null&&r.push(Ma(e,l,n))),e=e.return}return r}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uo(e,s,a,r,n){for(var l=s._reactName,i=[];a!==null&&a!==r;){var c=a,o=c.alternate,x=c.stateNode;if(o!==null&&o===r)break;c.tag===5&&x!==null&&(c=x,n?(o=ka(a,l),o!=null&&i.unshift(Ma(a,o,c))):n||(o=ka(a,l),o!=null&&i.push(Ma(a,o,c)))),a=a.return}i.length!==0&&e.push({event:s,listeners:i})}var w0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function Vo(e){return(typeof e=="string"?e:""+e).replace(w0,`
`).replace(S0,"")}function mr(e,s,a){if(s=Vo(s),Vo(e)!==s&&a)throw Error(R(425))}function Hr(){}var Al=null,Ml=null;function _l(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,C0=typeof clearTimeout=="function"?clearTimeout:void 0,Ho=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ho<"u"?function(e){return Ho.resolve(null).then(e).catch(P0)}:Ol;function P0(e){setTimeout(function(){throw e})}function Jn(e,s){var a=s,r=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){e.removeChild(n),Ta(s);return}r--}else a!=="$"&&a!=="$?"&&a!=="$!"||r++;a=n}while(a);Ta(s)}function $t(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Wo(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),dt="__reactFiber$"+Ks,_a="__reactProps$"+Ks,wt="__reactContainer$"+Ks,Ll="__reactEvents$"+Ks,E0="__reactListeners$"+Ks,T0="__reactHandles$"+Ks;function es(e){var s=e[dt];if(s)return s;for(var a=e.parentNode;a;){if(s=a[wt]||a[dt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Wo(e);e!==null;){if(a=e[dt])return a;e=Wo(e)}return s}e=a,a=e.parentNode}return null}function Ga(e){return e=e[dt]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function bn(e){return e[_a]||null}var Il=[],ks=-1;function Qt(e){return{current:e}}function J(e){0>ks||(e.current=Il[ks],Il[ks]=null,ks--)}function X(e,s){ks++,Il[ks]=e.current,e.current=s}var Wt={},ke=Qt(Wt),Oe=Qt(!1),is=Wt;function Bs(e,s){var a=e.type.contextTypes;if(!a)return Wt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in a)n[l]=s[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),n}function Le(e){return e=e.childContextTypes,e!=null}function Wr(){J(Oe),J(ke)}function qo(e,s,a){if(ke.current!==Wt)throw Error(R(168));X(ke,s),X(Oe,a)}function Xd(e,s,a){var r=e.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return a;r=r.getChildContext();for(var n in r)if(!(n in s))throw Error(R(108,xx(e)||"Unknown",n));return ae({},a,r)}function qr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wt,is=ke.current,X(ke,e),X(Oe,Oe.current),!0}function Go(e,s,a){var r=e.stateNode;if(!r)throw Error(R(169));a?(e=Xd(e,s,is),r.__reactInternalMemoizedMergedChildContext=e,J(Oe),J(ke),X(ke,e)):J(Oe),X(Oe,a)}var gt=null,jn=!1,Zn=!1;function Kd(e){gt===null?gt=[e]:gt.push(e)}function D0(e){jn=!0,Kd(e)}function Yt(){if(!Zn&&gt!==null){Zn=!0;var e=0,s=G;try{var a=gt;for(G=1;e<a.length;e++){var r=a[e];do r=r(!0);while(r!==null)}gt=null,jn=!1}catch(n){throw gt!==null&&(gt=gt.slice(e+1)),Nd(wi,Yt),n}finally{G=s,Zn=!1}}return null}var Ps=[],Es=0,Gr=null,Qr=0,qe=[],Ge=0,os=null,vt=1,bt="";function Kt(e,s){Ps[Es++]=Qr,Ps[Es++]=Gr,Gr=e,Qr=s}function Jd(e,s,a){qe[Ge++]=vt,qe[Ge++]=bt,qe[Ge++]=os,os=e;var r=vt;e=bt;var n=32-at(r)-1;r&=~(1<<n),a+=1;var l=32-at(s)+n;if(30<l){var i=n-n%5;l=(r&(1<<i)-1).toString(32),r>>=i,n-=i,vt=1<<32-at(s)+n|a<<n|r,bt=l+e}else vt=1<<l|a<<n|r,bt=e}function Ai(e){e.return!==null&&(Kt(e,1),Jd(e,1,0))}function Mi(e){for(;e===Gr;)Gr=Ps[--Es],Ps[Es]=null,Qr=Ps[--Es],Ps[Es]=null;for(;e===os;)os=qe[--Ge],qe[Ge]=null,bt=qe[--Ge],qe[Ge]=null,vt=qe[--Ge],qe[Ge]=null}var ze=null,Be=null,Z=!1,tt=null;function Zd(e,s){var a=Qe(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=e,s=e.deletions,s===null?(e.deletions=[a],e.flags|=16):s.push(a)}function Qo(e,s){switch(e.tag){case 5:var a=e.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,ze=e,Be=$t(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,ze=e,Be=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=os!==null?{id:vt,overflow:bt}:null,e.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Qe(18,null,null,0),a.stateNode=s,a.return=e,e.child=a,ze=e,Be=null,!0):!1;default:return!1}}function Fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $l(e){if(Z){var s=Be;if(s){var a=s;if(!Qo(e,s)){if(Fl(e))throw Error(R(418));s=$t(a.nextSibling);var r=ze;s&&Qo(e,s)?Zd(r,a):(e.flags=e.flags&-4097|2,Z=!1,ze=e)}}else{if(Fl(e))throw Error(R(418));e.flags=e.flags&-4097|2,Z=!1,ze=e}}}function Yo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function xr(e){if(e!==ze)return!1;if(!Z)return Yo(e),Z=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!_l(e.type,e.memoizedProps)),s&&(s=Be)){if(Fl(e))throw eu(),Error(R(418));for(;s;)Zd(e,s),s=$t(s.nextSibling)}if(Yo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(s===0){Be=$t(e.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}e=e.nextSibling}Be=null}}else Be=ze?$t(e.stateNode.nextSibling):null;return!0}function eu(){for(var e=Be;e;)e=$t(e.nextSibling)}function zs(){Be=ze=null,Z=!1}function _i(e){tt===null?tt=[e]:tt.push(e)}var R0=kt.ReactCurrentBatchConfig;function na(e,s,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(R(309));var r=a.stateNode}if(!r)throw Error(R(147,e));var n=r,l=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var c=n.refs;i===null?delete c[l]:c[l]=i},s._stringRef=l,s)}if(typeof e!="string")throw Error(R(284));if(!a._owner)throw Error(R(290,e))}return e}function hr(e,s){throw e=Object.prototype.toString.call(s),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Xo(e){var s=e._init;return s(e._payload)}function tu(e){function s(f,v){if(e){var u=f.deletions;u===null?(f.deletions=[v],f.flags|=16):u.push(v)}}function a(f,v){if(!e)return null;for(;v!==null;)s(f,v),v=v.sibling;return null}function r(f,v){for(f=new Map;v!==null;)v.key!==null?f.set(v.key,v):f.set(v.index,v),v=v.sibling;return f}function n(f,v){return f=Vt(f,v),f.index=0,f.sibling=null,f}function l(f,v,u){return f.index=u,e?(u=f.alternate,u!==null?(u=u.index,u<v?(f.flags|=2,v):u):(f.flags|=2,v)):(f.flags|=1048576,v)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,v,u,y){return v===null||v.tag!==6?(v=ll(u,f.mode,y),v.return=f,v):(v=n(v,u),v.return=f,v)}function o(f,v,u,y){var k=u.type;return k===ys?d(f,v,u.props.children,y,u.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tt&&Xo(k)===v.type)?(y=n(v,u.props),y.ref=na(f,v,u),y.return=f,y):(y=Mr(u.type,u.key,u.props,null,f.mode,y),y.ref=na(f,v,u),y.return=f,y)}function x(f,v,u,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==u.containerInfo||v.stateNode.implementation!==u.implementation?(v=il(u,f.mode,y),v.return=f,v):(v=n(v,u.children||[]),v.return=f,v)}function d(f,v,u,y,k){return v===null||v.tag!==7?(v=rs(u,f.mode,y,k),v.return=f,v):(v=n(v,u),v.return=f,v)}function h(f,v,u){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ll(""+v,f.mode,u),v.return=f,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ar:return u=Mr(v.type,v.key,v.props,null,f.mode,u),u.ref=na(f,null,v),u.return=f,u;case js:return v=il(v,f.mode,u),v.return=f,v;case Tt:var y=v._init;return h(f,y(v._payload),u)}if(ma(v)||ea(v))return v=rs(v,f.mode,u,null),v.return=f,v;hr(f,v)}return null}function p(f,v,u,y){var k=v!==null?v.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return k!==null?null:c(f,v,""+u,y);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case ar:return u.key===k?o(f,v,u,y):null;case js:return u.key===k?x(f,v,u,y):null;case Tt:return k=u._init,p(f,v,k(u._payload),y)}if(ma(u)||ea(u))return k!==null?null:d(f,v,u,y,null);hr(f,u)}return null}function b(f,v,u,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return f=f.get(u)||null,c(v,f,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ar:return f=f.get(y.key===null?u:y.key)||null,o(v,f,y,k);case js:return f=f.get(y.key===null?u:y.key)||null,x(v,f,y,k);case Tt:var N=y._init;return b(f,v,u,N(y._payload),k)}if(ma(y)||ea(y))return f=f.get(u)||null,d(v,f,y,k,null);hr(v,y)}return null}function m(f,v,u,y){for(var k=null,N=null,w=v,C=v=0,A=null;w!==null&&C<u.length;C++){w.index>C?(A=w,w=null):A=w.sibling;var M=p(f,w,u[C],y);if(M===null){w===null&&(w=A);break}e&&w&&M.alternate===null&&s(f,w),v=l(M,v,C),N===null?k=M:N.sibling=M,N=M,w=A}if(C===u.length)return a(f,w),Z&&Kt(f,C),k;if(w===null){for(;C<u.length;C++)w=h(f,u[C],y),w!==null&&(v=l(w,v,C),N===null?k=w:N.sibling=w,N=w);return Z&&Kt(f,C),k}for(w=r(f,w);C<u.length;C++)A=b(w,f,C,u[C],y),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?C:A.key),v=l(A,v,C),N===null?k=A:N.sibling=A,N=A);return e&&w.forEach(function(T){return s(f,T)}),Z&&Kt(f,C),k}function g(f,v,u,y){var k=ea(u);if(typeof k!="function")throw Error(R(150));if(u=k.call(u),u==null)throw Error(R(151));for(var N=k=null,w=v,C=v=0,A=null,M=u.next();w!==null&&!M.done;C++,M=u.next()){w.index>C?(A=w,w=null):A=w.sibling;var T=p(f,w,M.value,y);if(T===null){w===null&&(w=A);break}e&&w&&T.alternate===null&&s(f,w),v=l(T,v,C),N===null?k=T:N.sibling=T,N=T,w=A}if(M.done)return a(f,w),Z&&Kt(f,C),k;if(w===null){for(;!M.done;C++,M=u.next())M=h(f,M.value,y),M!==null&&(v=l(M,v,C),N===null?k=M:N.sibling=M,N=M);return Z&&Kt(f,C),k}for(w=r(f,w);!M.done;C++,M=u.next())M=b(w,f,C,M.value,y),M!==null&&(e&&M.alternate!==null&&w.delete(M.key===null?C:M.key),v=l(M,v,C),N===null?k=M:N.sibling=M,N=M);return e&&w.forEach(function($){return s(f,$)}),Z&&Kt(f,C),k}function j(f,v,u,y){if(typeof u=="object"&&u!==null&&u.type===ys&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case ar:e:{for(var k=u.key,N=v;N!==null;){if(N.key===k){if(k=u.type,k===ys){if(N.tag===7){a(f,N.sibling),v=n(N,u.props.children),v.return=f,f=v;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tt&&Xo(k)===N.type){a(f,N.sibling),v=n(N,u.props),v.ref=na(f,N,u),v.return=f,f=v;break e}a(f,N);break}else s(f,N);N=N.sibling}u.type===ys?(v=rs(u.props.children,f.mode,y,u.key),v.return=f,f=v):(y=Mr(u.type,u.key,u.props,null,f.mode,y),y.ref=na(f,v,u),y.return=f,f=y)}return i(f);case js:e:{for(N=u.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===u.containerInfo&&v.stateNode.implementation===u.implementation){a(f,v.sibling),v=n(v,u.children||[]),v.return=f,f=v;break e}else{a(f,v);break}else s(f,v);v=v.sibling}v=il(u,f.mode,y),v.return=f,f=v}return i(f);case Tt:return N=u._init,j(f,v,N(u._payload),y)}if(ma(u))return m(f,v,u,y);if(ea(u))return g(f,v,u,y);hr(f,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,v!==null&&v.tag===6?(a(f,v.sibling),v=n(v,u),v.return=f,f=v):(a(f,v),v=ll(u,f.mode,y),v.return=f,f=v),i(f)):a(f,v)}return j}var Us=tu(!0),su=tu(!1),Yr=Qt(null),Xr=null,Ts=null,Oi=null;function Li(){Oi=Ts=Xr=null}function Ii(e){var s=Yr.current;J(Yr),e._currentValue=s}function Bl(e,s,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),e===a)break;e=e.return}}function Ls(e,s){Xr=e,Oi=Ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(_e=!0),e.firstContext=null)}function Xe(e){var s=e._currentValue;if(Oi!==e)if(e={context:e,memoizedValue:s,next:null},Ts===null){if(Xr===null)throw Error(R(308));Ts=e,Xr.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return s}var ts=null;function Fi(e){ts===null?ts=[e]:ts.push(e)}function au(e,s,a,r){var n=s.interleaved;return n===null?(a.next=a,Fi(s)):(a.next=n.next,n.next=a),s.interleaved=a,St(e,r)}function St(e,s){e.lanes|=s;var a=e.alternate;for(a!==null&&(a.lanes|=s),a=e,e=e.return;e!==null;)e.childLanes|=s,a=e.alternate,a!==null&&(a.childLanes|=s),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Dt=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ru(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function Bt(e,s,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var n=r.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),r.pending=s,St(e,a)}return n=r.interleaved,n===null?(s.next=s,Fi(r)):(s.next=n.next,n.next=s),r.interleaved=s,St(e,a)}function Pr(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var r=s.lanes;r&=e.pendingLanes,a|=r,s.lanes=a,Si(e,a)}}function Ko(e,s){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var n=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};l===null?n=l=i:l=l.next=i,a=a.next}while(a!==null);l===null?n=l=s:l=l.next=s}else n=l=s;a={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}function Kr(e,s,a,r){var n=e.updateQueue;Dt=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var o=c,x=o.next;o.next=null,i===null?l=x:i.next=x,i=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==i&&(c===null?d.firstBaseUpdate=x:c.next=x,d.lastBaseUpdate=o))}if(l!==null){var h=n.baseState;i=0,d=x=o=null,c=l;do{var p=c.lane,b=c.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var m=e,g=c;switch(p=s,b=a,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(b,h,p);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(b,h,p):m,p==null)break e;h=ae({},h,p);break e;case 2:Dt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,p=n.effects,p===null?n.effects=[c]:p.push(c))}else b={eventTime:b,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(x=d=b,o=h):d=d.next=b,i|=p;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;p=c,c=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(!0);if(d===null&&(o=h),n.baseState=o,n.firstBaseUpdate=x,n.lastBaseUpdate=d,s=n.shared.interleaved,s!==null){n=s;do i|=n.lane,n=n.next;while(n!==s)}else l===null&&(n.shared.lanes=0);ds|=i,e.lanes=i,e.memoizedState=h}}function Jo(e,s,a){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var r=e[s],n=r.callback;if(n!==null){if(r.callback=null,r=a,typeof n!="function")throw Error(R(191,n));n.call(r)}}}var Qa={},mt=Qt(Qa),Oa=Qt(Qa),La=Qt(Qa);function ss(e){if(e===Qa)throw Error(R(174));return e}function Bi(e,s){switch(X(La,s),X(Oa,e),X(mt,Qa),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:jl(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=jl(s,e)}J(mt),X(mt,s)}function Vs(){J(mt),J(Oa),J(La)}function nu(e){ss(La.current);var s=ss(mt.current),a=jl(s,e.type);s!==a&&(X(Oa,e),X(mt,a))}function zi(e){Oa.current===e&&(J(mt),J(Oa))}var te=Qt(0);function Jr(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var el=[];function Ui(){for(var e=0;e<el.length;e++)el[e]._workInProgressVersionPrimary=null;el.length=0}var Er=kt.ReactCurrentDispatcher,tl=kt.ReactCurrentBatchConfig,cs=0,se=null,xe=null,pe=null,Zr=!1,ja=!1,Ia=0,A0=0;function we(){throw Error(R(321))}function Vi(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!nt(e[a],s[a]))return!1;return!0}function Hi(e,s,a,r,n,l){if(cs=l,se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Er.current=e===null||e.memoizedState===null?L0:I0,e=a(r,n),ja){l=0;do{if(ja=!1,Ia=0,25<=l)throw Error(R(301));l+=1,pe=xe=null,s.updateQueue=null,Er.current=F0,e=a(r,n)}while(ja)}if(Er.current=en,s=xe!==null&&xe.next!==null,cs=0,pe=xe=se=null,Zr=!1,s)throw Error(R(300));return e}function Wi(){var e=Ia!==0;return Ia=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?se.memoizedState=pe=e:pe=pe.next=e,pe}function Ke(){if(xe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var s=pe===null?se.memoizedState:pe.next;if(s!==null)pe=s,xe=e;else{if(e===null)throw Error(R(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},pe===null?se.memoizedState=pe=e:pe=pe.next=e}return pe}function Fa(e,s){return typeof s=="function"?s(e):s}function sl(e){var s=Ke(),a=s.queue;if(a===null)throw Error(R(311));a.lastRenderedReducer=e;var r=xe,n=r.baseQueue,l=a.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}r.baseQueue=n=l,a.pending=null}if(n!==null){l=n.next,r=r.baseState;var c=i=null,o=null,x=l;do{var d=x.lane;if((cs&d)===d)o!==null&&(o=o.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var h={lane:d,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};o===null?(c=o=h,i=r):o=o.next=h,se.lanes|=d,ds|=d}x=x.next}while(x!==null&&x!==l);o===null?i=r:o.next=c,nt(r,s.memoizedState)||(_e=!0),s.memoizedState=r,s.baseState=i,s.baseQueue=o,a.lastRenderedState=r}if(e=a.interleaved,e!==null){n=e;do l=n.lane,se.lanes|=l,ds|=l,n=n.next;while(n!==e)}else n===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function al(e){var s=Ke(),a=s.queue;if(a===null)throw Error(R(311));a.lastRenderedReducer=e;var r=a.dispatch,n=a.pending,l=s.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do l=e(l,i.action),i=i.next;while(i!==n);nt(l,s.memoizedState)||(_e=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),a.lastRenderedState=l}return[l,r]}function lu(){}function iu(e,s){var a=se,r=Ke(),n=s(),l=!nt(r.memoizedState,n);if(l&&(r.memoizedState=n,_e=!0),r=r.queue,qi(du.bind(null,a,r,e),[e]),r.getSnapshot!==s||l||pe!==null&&pe.memoizedState.tag&1){if(a.flags|=2048,$a(9,cu.bind(null,a,r,n,s),void 0,null),fe===null)throw Error(R(349));cs&30||ou(a,s,n)}return n}function ou(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=se.updateQueue,s===null?(s={lastEffect:null,stores:null},se.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function cu(e,s,a,r){s.value=a,s.getSnapshot=r,uu(s)&&mu(e)}function du(e,s,a){return a(function(){uu(s)&&mu(e)})}function uu(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!nt(e,a)}catch{return!0}}function mu(e){var s=St(e,1);s!==null&&rt(s,e,1,-1)}function Zo(e){var s=ct();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:e},s.queue=e,e=e.dispatch=O0.bind(null,se,e),[s.memoizedState,e]}function $a(e,s,a,r){return e={tag:e,create:s,destroy:a,deps:r,next:null},s=se.updateQueue,s===null?(s={lastEffect:null,stores:null},se.updateQueue=s,s.lastEffect=e.next=e):(a=s.lastEffect,a===null?s.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,s.lastEffect=e)),e}function xu(){return Ke().memoizedState}function Tr(e,s,a,r){var n=ct();se.flags|=e,n.memoizedState=$a(1|s,a,void 0,r===void 0?null:r)}function yn(e,s,a,r){var n=Ke();r=r===void 0?null:r;var l=void 0;if(xe!==null){var i=xe.memoizedState;if(l=i.destroy,r!==null&&Vi(r,i.deps)){n.memoizedState=$a(s,a,l,r);return}}se.flags|=e,n.memoizedState=$a(1|s,a,l,r)}function ec(e,s){return Tr(8390656,8,e,s)}function qi(e,s){return yn(2048,8,e,s)}function hu(e,s){return yn(4,2,e,s)}function pu(e,s){return yn(4,4,e,s)}function fu(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function gu(e,s,a){return a=a!=null?a.concat([e]):null,yn(4,4,fu.bind(null,s,e),a)}function Gi(){}function vu(e,s){var a=Ke();s=s===void 0?null:s;var r=a.memoizedState;return r!==null&&s!==null&&Vi(s,r[1])?r[0]:(a.memoizedState=[e,s],e)}function bu(e,s){var a=Ke();s=s===void 0?null:s;var r=a.memoizedState;return r!==null&&s!==null&&Vi(s,r[1])?r[0]:(e=e(),a.memoizedState=[e,s],e)}function ju(e,s,a){return cs&21?(nt(a,s)||(a=Cd(),se.lanes|=a,ds|=a,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,_e=!0),e.memoizedState=a)}function M0(e,s){var a=G;G=a!==0&&4>a?a:4,e(!0);var r=tl.transition;tl.transition={};try{e(!1),s()}finally{G=a,tl.transition=r}}function yu(){return Ke().memoizedState}function _0(e,s,a){var r=Ut(e);if(a={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null},Nu(e))wu(s,a);else if(a=au(e,s,a,r),a!==null){var n=Te();rt(a,e,r,n),Su(a,s,r)}}function O0(e,s,a){var r=Ut(e),n={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nu(e))wu(s,n);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,c=l(i,a);if(n.hasEagerState=!0,n.eagerState=c,nt(c,i)){var o=s.interleaved;o===null?(n.next=n,Fi(s)):(n.next=o.next,o.next=n),s.interleaved=n;return}}catch{}finally{}a=au(e,s,n,r),a!==null&&(n=Te(),rt(a,e,r,n),Su(a,s,r))}}function Nu(e){var s=e.alternate;return e===se||s!==null&&s===se}function wu(e,s){ja=Zr=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Su(e,s,a){if(a&4194240){var r=s.lanes;r&=e.pendingLanes,a|=r,s.lanes=a,Si(e,a)}}var en={readContext:Xe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},L0={readContext:Xe,useCallback:function(e,s){return ct().memoizedState=[e,s===void 0?null:s],e},useContext:Xe,useEffect:ec,useImperativeHandle:function(e,s,a){return a=a!=null?a.concat([e]):null,Tr(4194308,4,fu.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Tr(4194308,4,e,s)},useInsertionEffect:function(e,s){return Tr(4,2,e,s)},useMemo:function(e,s){var a=ct();return s=s===void 0?null:s,e=e(),a.memoizedState=[e,s],e},useReducer:function(e,s,a){var r=ct();return s=a!==void 0?a(s):s,r.memoizedState=r.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=_0.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var s=ct();return e={current:e},s.memoizedState=e},useState:Zo,useDebugValue:Gi,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=Zo(!1),s=e[0];return e=M0.bind(null,e[1]),ct().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,a){var r=se,n=ct();if(Z){if(a===void 0)throw Error(R(407));a=a()}else{if(a=s(),fe===null)throw Error(R(349));cs&30||ou(r,s,a)}n.memoizedState=a;var l={value:a,getSnapshot:s};return n.queue=l,ec(du.bind(null,r,l,e),[e]),r.flags|=2048,$a(9,cu.bind(null,r,l,a,s),void 0,null),a},useId:function(){var e=ct(),s=fe.identifierPrefix;if(Z){var a=bt,r=vt;a=(r&~(1<<32-at(r)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ia++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=A0++,s=":"+s+"r"+a.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},I0={readContext:Xe,useCallback:vu,useContext:Xe,useEffect:qi,useImperativeHandle:gu,useInsertionEffect:hu,useLayoutEffect:pu,useMemo:bu,useReducer:sl,useRef:xu,useState:function(){return sl(Fa)},useDebugValue:Gi,useDeferredValue:function(e){var s=Ke();return ju(s,xe.memoizedState,e)},useTransition:function(){var e=sl(Fa)[0],s=Ke().memoizedState;return[e,s]},useMutableSource:lu,useSyncExternalStore:iu,useId:yu,unstable_isNewReconciler:!1},F0={readContext:Xe,useCallback:vu,useContext:Xe,useEffect:qi,useImperativeHandle:gu,useInsertionEffect:hu,useLayoutEffect:pu,useMemo:bu,useReducer:al,useRef:xu,useState:function(){return al(Fa)},useDebugValue:Gi,useDeferredValue:function(e){var s=Ke();return xe===null?s.memoizedState=e:ju(s,xe.memoizedState,e)},useTransition:function(){var e=al(Fa)[0],s=Ke().memoizedState;return[e,s]},useMutableSource:lu,useSyncExternalStore:iu,useId:yu,unstable_isNewReconciler:!1};function Ze(e,s){if(e&&e.defaultProps){s=ae({},s),e=e.defaultProps;for(var a in e)s[a]===void 0&&(s[a]=e[a]);return s}return s}function zl(e,s,a,r){s=e.memoizedState,a=a(r,s),a=a==null?s:ae({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nn={isMounted:function(e){return(e=e._reactInternals)?hs(e)===e:!1},enqueueSetState:function(e,s,a){e=e._reactInternals;var r=Te(),n=Ut(e),l=jt(r,n);l.payload=s,a!=null&&(l.callback=a),s=Bt(e,l,n),s!==null&&(rt(s,e,n,r),Pr(s,e,n))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var r=Te(),n=Ut(e),l=jt(r,n);l.tag=1,l.payload=s,a!=null&&(l.callback=a),s=Bt(e,l,n),s!==null&&(rt(s,e,n,r),Pr(s,e,n))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Te(),r=Ut(e),n=jt(a,r);n.tag=2,s!=null&&(n.callback=s),s=Bt(e,n,r),s!==null&&(rt(s,e,r,a),Pr(s,e,r))}};function tc(e,s,a,r,n,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):s.prototype&&s.prototype.isPureReactComponent?!Ra(a,r)||!Ra(n,l):!0}function Cu(e,s,a){var r=!1,n=Wt,l=s.contextType;return typeof l=="object"&&l!==null?l=Xe(l):(n=Le(s)?is:ke.current,r=s.contextTypes,l=(r=r!=null)?Bs(e,n):Wt),s=new s(a,l),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Nn,e.stateNode=s,s._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),s}function sc(e,s,a,r){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==e&&Nn.enqueueReplaceState(s,s.state,null)}function Ul(e,s,a,r){var n=e.stateNode;n.props=a,n.state=e.memoizedState,n.refs={},$i(e);var l=s.contextType;typeof l=="object"&&l!==null?n.context=Xe(l):(l=Le(s)?is:ke.current,n.context=Bs(e,l)),n.state=e.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(zl(e,s,l,a),n.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&Nn.enqueueReplaceState(n,n.state,null),Kr(e,a,n,r),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Hs(e,s){try{var a="",r=s;do a+=mx(r),r=r.return;while(r);var n=a}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:s,stack:n,digest:null}}function rl(e,s,a){return{value:e,source:null,stack:a??null,digest:s??null}}function Vl(e,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var $0=typeof WeakMap=="function"?WeakMap:Map;function ku(e,s,a){a=jt(-1,a),a.tag=3,a.payload={element:null};var r=s.value;return a.callback=function(){sn||(sn=!0,Zl=r),Vl(e,s)},a}function Pu(e,s,a){a=jt(-1,a),a.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var n=s.value;a.payload=function(){return r(n)},a.callback=function(){Vl(e,s)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(a.callback=function(){Vl(e,s),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),a}function ac(e,s,a){var r=e.pingCache;if(r===null){r=e.pingCache=new $0;var n=new Set;r.set(s,n)}else n=r.get(s),n===void 0&&(n=new Set,r.set(s,n));n.has(a)||(n.add(a),e=Z0.bind(null,e,s,a),s.then(e,e))}function rc(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function nc(e,s,a,r,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===s?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=jt(-1,1),s.tag=2,Bt(a,s,1))),a.lanes|=1),e)}var B0=kt.ReactCurrentOwner,_e=!1;function Pe(e,s,a,r){s.child=e===null?su(s,null,a,r):Us(s,e.child,a,r)}function lc(e,s,a,r,n){a=a.render;var l=s.ref;return Ls(s,n),r=Hi(e,s,a,r,l,n),a=Wi(),e!==null&&!_e?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,Ct(e,s,n)):(Z&&a&&Ai(s),s.flags|=1,Pe(e,s,r,n),s.child)}function ic(e,s,a,r,n){if(e===null){var l=a.type;return typeof l=="function"&&!to(l)&&l.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=l,Eu(e,s,l,r,n)):(e=Mr(a.type,null,r,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(l=e.child,!(e.lanes&n)){var i=l.memoizedProps;if(a=a.compare,a=a!==null?a:Ra,a(i,r)&&e.ref===s.ref)return Ct(e,s,n)}return s.flags|=1,e=Vt(l,r),e.ref=s.ref,e.return=s,s.child=e}function Eu(e,s,a,r,n){if(e!==null){var l=e.memoizedProps;if(Ra(l,r)&&e.ref===s.ref)if(_e=!1,s.pendingProps=r=l,(e.lanes&n)!==0)e.flags&131072&&(_e=!0);else return s.lanes=e.lanes,Ct(e,s,n)}return Hl(e,s,a,r,n)}function Tu(e,s,a){var r=s.pendingProps,n=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Rs,$e),$e|=a;else{if(!(a&1073741824))return e=l!==null?l.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,X(Rs,$e),$e|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:a,X(Rs,$e),$e|=r}else l!==null?(r=l.baseLanes|a,s.memoizedState=null):r=a,X(Rs,$e),$e|=r;return Pe(e,s,n,a),s.child}function Du(e,s){var a=s.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Hl(e,s,a,r,n){var l=Le(a)?is:ke.current;return l=Bs(s,l),Ls(s,n),a=Hi(e,s,a,r,l,n),r=Wi(),e!==null&&!_e?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,Ct(e,s,n)):(Z&&r&&Ai(s),s.flags|=1,Pe(e,s,a,n),s.child)}function oc(e,s,a,r,n){if(Le(a)){var l=!0;qr(s)}else l=!1;if(Ls(s,n),s.stateNode===null)Dr(e,s),Cu(s,a,r),Ul(s,a,r,n),r=!0;else if(e===null){var i=s.stateNode,c=s.memoizedProps;i.props=c;var o=i.context,x=a.contextType;typeof x=="object"&&x!==null?x=Xe(x):(x=Le(a)?is:ke.current,x=Bs(s,x));var d=a.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==r||o!==x)&&sc(s,i,r,x),Dt=!1;var p=s.memoizedState;i.state=p,Kr(s,r,i,n),o=s.memoizedState,c!==r||p!==o||Oe.current||Dt?(typeof d=="function"&&(zl(s,a,d,r),o=s.memoizedState),(c=Dt||tc(s,a,c,r,p,o,x))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=o),i.props=r,i.state=o,i.context=x,r=c):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{i=s.stateNode,ru(e,s),c=s.memoizedProps,x=s.type===s.elementType?c:Ze(s.type,c),i.props=x,h=s.pendingProps,p=i.context,o=a.contextType,typeof o=="object"&&o!==null?o=Xe(o):(o=Le(a)?is:ke.current,o=Bs(s,o));var b=a.getDerivedStateFromProps;(d=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==h||p!==o)&&sc(s,i,r,o),Dt=!1,p=s.memoizedState,i.state=p,Kr(s,r,i,n);var m=s.memoizedState;c!==h||p!==m||Oe.current||Dt?(typeof b=="function"&&(zl(s,a,b,r),m=s.memoizedState),(x=Dt||tc(s,a,x,r,p,m,o)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,m,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,m,o)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=m),i.props=r,i.state=m,i.context=o,r=x):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(s.flags|=1024),r=!1)}return Wl(e,s,a,r,l,n)}function Wl(e,s,a,r,n,l){Du(e,s);var i=(s.flags&128)!==0;if(!r&&!i)return n&&Go(s,a,!1),Ct(e,s,l);r=s.stateNode,B0.current=s;var c=i&&typeof a.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,e!==null&&i?(s.child=Us(s,e.child,null,l),s.child=Us(s,null,c,l)):Pe(e,s,c,l),s.memoizedState=r.state,n&&Go(s,a,!0),s.child}function Ru(e){var s=e.stateNode;s.pendingContext?qo(e,s.pendingContext,s.pendingContext!==s.context):s.context&&qo(e,s.context,!1),Bi(e,s.containerInfo)}function cc(e,s,a,r,n){return zs(),_i(n),s.flags|=256,Pe(e,s,a,r),s.child}var ql={dehydrated:null,treeContext:null,retryLane:0};function Gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Au(e,s,a){var r=s.pendingProps,n=te.current,l=!1,i=(s.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(n&2)!==0),c?(l=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),X(te,n&1),e===null)return $l(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=r.children,e=r.fallback,l?(r=s.mode,l=s.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Cn(i,r,0,null),e=rs(e,r,a,null),l.return=s,e.return=s,l.sibling=e,s.child=l,s.child.memoizedState=Gl(a),s.memoizedState=ql,e):Qi(s,i));if(n=e.memoizedState,n!==null&&(c=n.dehydrated,c!==null))return z0(e,s,i,r,c,n,a);if(l){l=r.fallback,i=s.mode,n=e.child,c=n.sibling;var o={mode:"hidden",children:r.children};return!(i&1)&&s.child!==n?(r=s.child,r.childLanes=0,r.pendingProps=o,s.deletions=null):(r=Vt(n,o),r.subtreeFlags=n.subtreeFlags&14680064),c!==null?l=Vt(c,l):(l=rs(l,i,a,null),l.flags|=2),l.return=s,r.return=s,r.sibling=l,s.child=r,r=l,l=s.child,i=e.child.memoizedState,i=i===null?Gl(a):{baseLanes:i.baseLanes|a,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~a,s.memoizedState=ql,r}return l=e.child,e=l.sibling,r=Vt(l,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=a),r.return=s,r.sibling=null,e!==null&&(a=s.deletions,a===null?(s.deletions=[e],s.flags|=16):a.push(e)),s.child=r,s.memoizedState=null,r}function Qi(e,s){return s=Cn({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function pr(e,s,a,r){return r!==null&&_i(r),Us(s,e.child,null,a),e=Qi(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function z0(e,s,a,r,n,l,i){if(a)return s.flags&256?(s.flags&=-257,r=rl(Error(R(422))),pr(e,s,i,r)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(l=r.fallback,n=s.mode,r=Cn({mode:"visible",children:r.children},n,0,null),l=rs(l,n,i,null),l.flags|=2,r.return=s,l.return=s,r.sibling=l,s.child=r,s.mode&1&&Us(s,e.child,null,i),s.child.memoizedState=Gl(i),s.memoizedState=ql,l);if(!(s.mode&1))return pr(e,s,i,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(R(419)),r=rl(l,r,void 0),pr(e,s,i,r)}if(c=(i&e.childLanes)!==0,_e||c){if(r=fe,r!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,St(e,n),rt(r,e,n,-1))}return eo(),r=rl(Error(R(421))),pr(e,s,i,r)}return n.data==="$?"?(s.flags|=128,s.child=e.child,s=eh.bind(null,e),n._reactRetry=s,null):(e=l.treeContext,Be=$t(n.nextSibling),ze=s,Z=!0,tt=null,e!==null&&(qe[Ge++]=vt,qe[Ge++]=bt,qe[Ge++]=os,vt=e.id,bt=e.overflow,os=s),s=Qi(s,r.children),s.flags|=4096,s)}function dc(e,s,a){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s),Bl(e.return,s,a)}function nl(e,s,a,r,n){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:n}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=a,l.tailMode=n)}function Mu(e,s,a){var r=s.pendingProps,n=r.revealOrder,l=r.tail;if(Pe(e,s,r.children,a),r=te.current,r&2)r=r&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dc(e,a,s);else if(e.tag===19)dc(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(te,r),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(a=s.child,n=null;a!==null;)e=a.alternate,e!==null&&Jr(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=s.child,s.child=null):(n=a.sibling,a.sibling=null),nl(s,!1,n,a,l);break;case"backwards":for(a=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&Jr(e)===null){s.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}nl(s,!0,a,null,l);break;case"together":nl(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Dr(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Ct(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),ds|=s.lanes,!(a&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(R(153));if(s.child!==null){for(e=s.child,a=Vt(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Vt(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function U0(e,s,a){switch(s.tag){case 3:Ru(s),zs();break;case 5:nu(s);break;case 1:Le(s.type)&&qr(s);break;case 4:Bi(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,n=s.memoizedProps.value;X(Yr,r._currentValue),r._currentValue=n;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(X(te,te.current&1),s.flags|=128,null):a&s.child.childLanes?Au(e,s,a):(X(te,te.current&1),e=Ct(e,s,a),e!==null?e.sibling:null);X(te,te.current&1);break;case 19:if(r=(a&s.childLanes)!==0,e.flags&128){if(r)return Mu(e,s,a);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),X(te,te.current),r)break;return null;case 22:case 23:return s.lanes=0,Tu(e,s,a)}return Ct(e,s,a)}var _u,Ql,Ou,Lu;_u=function(e,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Ql=function(){};Ou=function(e,s,a,r){var n=e.memoizedProps;if(n!==r){e=s.stateNode,ss(mt.current);var l=null;switch(a){case"input":n=fl(e,n),r=fl(e,r),l=[];break;case"select":n=ae({},n,{value:void 0}),r=ae({},r,{value:void 0}),l=[];break;case"textarea":n=bl(e,n),r=bl(e,r),l=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hr)}yl(a,r);var i;a=null;for(x in n)if(!r.hasOwnProperty(x)&&n.hasOwnProperty(x)&&n[x]!=null)if(x==="style"){var c=n[x];for(i in c)c.hasOwnProperty(i)&&(a||(a={}),a[i]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Sa.hasOwnProperty(x)?l||(l=[]):(l=l||[]).push(x,null));for(x in r){var o=r[x];if(c=n!=null?n[x]:void 0,r.hasOwnProperty(x)&&o!==c&&(o!=null||c!=null))if(x==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(a||(a={}),a[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(a||(a={}),a[i]=o[i])}else a||(l||(l=[]),l.push(x,a)),a=o;else x==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(x,o)):x==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(x,""+o):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Sa.hasOwnProperty(x)?(o!=null&&x==="onScroll"&&K("scroll",e),l||c===o||(l=[])):(l=l||[]).push(x,o))}a&&(l=l||[]).push("style",a);var x=l;(s.updateQueue=x)&&(s.flags|=4)}};Lu=function(e,s,a,r){a!==r&&(s.flags|=4)};function la(e,s){if(!Z)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(s)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=a,s}function V0(e,s,a){var r=s.pendingProps;switch(Mi(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Le(s.type)&&Wr(),Se(s),null;case 3:return r=s.stateNode,Vs(),J(Oe),J(ke),Ui(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xr(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,tt!==null&&(si(tt),tt=null))),Ql(e,s),Se(s),null;case 5:zi(s);var n=ss(La.current);if(a=s.type,e!==null&&s.stateNode!=null)Ou(e,s,a,r,n),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(R(166));return Se(s),null}if(e=ss(mt.current),xr(s)){r=s.stateNode,a=s.type;var l=s.memoizedProps;switch(r[dt]=s,r[_a]=l,e=(s.mode&1)!==0,a){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(n=0;n<ha.length;n++)K(ha[n],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":bo(r,l),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},K("invalid",r);break;case"textarea":yo(r,l),K("invalid",r)}yl(a,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&mr(r.textContent,c,e),n=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&mr(r.textContent,c,e),n=["children",""+c]):Sa.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&K("scroll",r)}switch(a){case"input":rr(r),jo(r,l,!0);break;case"textarea":rr(r),No(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Hr)}r=n,s.updateQueue=r,r!==null&&(s.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dd(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(a,{is:r.is}):(e=i.createElement(a),a==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,a),e[dt]=s,e[_a]=r,_u(e,s,!1,!1),s.stateNode=e;e:{switch(i=Nl(a,r),a){case"dialog":K("cancel",e),K("close",e),n=r;break;case"iframe":case"object":case"embed":K("load",e),n=r;break;case"video":case"audio":for(n=0;n<ha.length;n++)K(ha[n],e);n=r;break;case"source":K("error",e),n=r;break;case"img":case"image":case"link":K("error",e),K("load",e),n=r;break;case"details":K("toggle",e),n=r;break;case"input":bo(e,r),n=fl(e,r),K("invalid",e);break;case"option":n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=ae({},r,{value:void 0}),K("invalid",e);break;case"textarea":yo(e,r),n=bl(e,r),K("invalid",e);break;default:n=r}yl(a,n),c=n;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?xd(e,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&ud(e,o)):l==="children"?typeof o=="string"?(a!=="textarea"||o!=="")&&Ca(e,o):typeof o=="number"&&Ca(e,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Sa.hasOwnProperty(l)?o!=null&&l==="onScroll"&&K("scroll",e):o!=null&&vi(e,l,o,i))}switch(a){case"input":rr(e),jo(e,r,!1);break;case"textarea":rr(e),No(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ht(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?As(e,!!r.multiple,l,!1):r.defaultValue!=null&&As(e,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Hr)}switch(a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Se(s),null;case 6:if(e&&s.stateNode!=null)Lu(e,s,e.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(R(166));if(a=ss(La.current),ss(mt.current),xr(s)){if(r=s.stateNode,a=s.memoizedProps,r[dt]=s,(l=r.nodeValue!==a)&&(e=ze,e!==null))switch(e.tag){case 3:mr(r.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mr(r.nodeValue,a,(e.mode&1)!==0)}l&&(s.flags|=4)}else r=(a.nodeType===9?a:a.ownerDocument).createTextNode(r),r[dt]=s,s.stateNode=r}return Se(s),null;case 13:if(J(te),r=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&Be!==null&&s.mode&1&&!(s.flags&128))eu(),zs(),s.flags|=98560,l=!1;else if(l=xr(s),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(R(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(R(317));l[dt]=s}else zs(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Se(s),l=!1}else tt!==null&&(si(tt),tt=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(e===null||te.current&1?he===0&&(he=3):eo())),s.updateQueue!==null&&(s.flags|=4),Se(s),null);case 4:return Vs(),Ql(e,s),e===null&&Aa(s.stateNode.containerInfo),Se(s),null;case 10:return Ii(s.type._context),Se(s),null;case 17:return Le(s.type)&&Wr(),Se(s),null;case 19:if(J(te),l=s.memoizedState,l===null)return Se(s),null;if(r=(s.flags&128)!==0,i=l.rendering,i===null)if(r)la(l,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(i=Jr(e),i!==null){for(s.flags|=128,la(l,!1),r=i.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=a,a=s.child;a!==null;)l=a,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return X(te,te.current&1|2),s.child}e=e.sibling}l.tail!==null&&ie()>Ws&&(s.flags|=128,r=!0,la(l,!1),s.lanes=4194304)}else{if(!r)if(e=Jr(i),e!==null){if(s.flags|=128,r=!0,a=e.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),la(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Z)return Se(s),null}else 2*ie()-l.renderingStartTime>Ws&&a!==1073741824&&(s.flags|=128,r=!0,la(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(a=l.last,a!==null?a.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=ie(),s.sibling=null,a=te.current,X(te,r?a&1|2:a&1),s):(Se(s),null);case 22:case 23:return Zi(),r=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?$e&1073741824&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),null;case 24:return null;case 25:return null}throw Error(R(156,s.tag))}function H0(e,s){switch(Mi(s),s.tag){case 1:return Le(s.type)&&Wr(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Vs(),J(Oe),J(ke),Ui(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return zi(s),null;case 13:if(J(te),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(R(340));zs()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return J(te),null;case 4:return Vs(),null;case 10:return Ii(s.type._context),null;case 22:case 23:return Zi(),null;case 24:return null;default:return null}}var fr=!1,Ce=!1,W0=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ds(e,s){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(r){re(e,s,r)}else a.current=null}function Yl(e,s,a){try{a()}catch(r){re(e,s,r)}}var uc=!1;function q0(e,s){if(Al=zr,e=zd(),Ri(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var n=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var i=0,c=-1,o=-1,x=0,d=0,h=e,p=null;t:for(;;){for(var b;h!==a||n!==0&&h.nodeType!==3||(c=i+n),h!==l||r!==0&&h.nodeType!==3||(o=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(b=h.firstChild)!==null;)p=h,h=b;for(;;){if(h===e)break t;if(p===a&&++x===n&&(c=i),p===l&&++d===r&&(o=i),(b=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=b}a=c===-1||o===-1?null:{start:c,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ml={focusedElem:e,selectionRange:a},zr=!1,F=s;F!==null;)if(s=F,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,F=e;else for(;F!==null;){s=F;try{var m=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,j=m.memoizedState,f=s.stateNode,v=f.getSnapshotBeforeUpdate(s.elementType===s.type?g:Ze(s.type,g),j);f.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var u=s.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(y){re(s,s.return,y)}if(e=s.sibling,e!==null){e.return=s.return,F=e;break}F=s.return}return m=uc,uc=!1,m}function ya(e,s,a){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var l=n.destroy;n.destroy=void 0,l!==void 0&&Yl(s,a,l)}n=n.next}while(n!==r)}}function wn(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var r=a.create;a.destroy=r()}a=a.next}while(a!==s)}}function Xl(e){var s=e.ref;if(s!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof s=="function"?s(e):s.current=e}}function Iu(e){var s=e.alternate;s!==null&&(e.alternate=null,Iu(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[dt],delete s[_a],delete s[Ll],delete s[E0],delete s[T0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fu(e){return e.tag===5||e.tag===3||e.tag===4}function mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kl(e,s,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(e,s):a.insertBefore(e,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(e,a)):(s=a,s.appendChild(e)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Hr));else if(r!==4&&(e=e.child,e!==null))for(Kl(e,s,a),e=e.sibling;e!==null;)Kl(e,s,a),e=e.sibling}function Jl(e,s,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jl(e,s,a),e=e.sibling;e!==null;)Jl(e,s,a),e=e.sibling}var ve=null,et=!1;function Pt(e,s,a){for(a=a.child;a!==null;)$u(e,s,a),a=a.sibling}function $u(e,s,a){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(pn,a)}catch{}switch(a.tag){case 5:Ce||Ds(a,s);case 6:var r=ve,n=et;ve=null,Pt(e,s,a),ve=r,et=n,ve!==null&&(et?(e=ve,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):ve.removeChild(a.stateNode));break;case 18:ve!==null&&(et?(e=ve,a=a.stateNode,e.nodeType===8?Jn(e.parentNode,a):e.nodeType===1&&Jn(e,a),Ta(e)):Jn(ve,a.stateNode));break;case 4:r=ve,n=et,ve=a.stateNode.containerInfo,et=!0,Pt(e,s,a),ve=r,et=n;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=a.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Yl(a,s,i),n=n.next}while(n!==r)}Pt(e,s,a);break;case 1:if(!Ce&&(Ds(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=a.memoizedProps,r.state=a.memoizedState,r.componentWillUnmount()}catch(c){re(a,s,c)}Pt(e,s,a);break;case 21:Pt(e,s,a);break;case 22:a.mode&1?(Ce=(r=Ce)||a.memoizedState!==null,Pt(e,s,a),Ce=r):Pt(e,s,a);break;default:Pt(e,s,a)}}function xc(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new W0),s.forEach(function(r){var n=th.bind(null,e,r);a.has(r)||(a.add(r),r.then(n,n))})}}function Je(e,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var n=a[r];try{var l=e,i=s,c=i;e:for(;c!==null;){switch(c.tag){case 5:ve=c.stateNode,et=!1;break e;case 3:ve=c.stateNode.containerInfo,et=!0;break e;case 4:ve=c.stateNode.containerInfo,et=!0;break e}c=c.return}if(ve===null)throw Error(R(160));$u(l,i,n),ve=null,et=!1;var o=n.alternate;o!==null&&(o.return=null),n.return=null}catch(x){re(n,s,x)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Bu(s,e),s=s.sibling}function Bu(e,s){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(s,e),it(e),r&4){try{ya(3,e,e.return),wn(3,e)}catch(g){re(e,e.return,g)}try{ya(5,e,e.return)}catch(g){re(e,e.return,g)}}break;case 1:Je(s,e),it(e),r&512&&a!==null&&Ds(a,a.return);break;case 5:if(Je(s,e),it(e),r&512&&a!==null&&Ds(a,a.return),e.flags&32){var n=e.stateNode;try{Ca(n,"")}catch(g){re(e,e.return,g)}}if(r&4&&(n=e.stateNode,n!=null)){var l=e.memoizedProps,i=a!==null?a.memoizedProps:l,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&od(n,l),Nl(c,i);var x=Nl(c,l);for(i=0;i<o.length;i+=2){var d=o[i],h=o[i+1];d==="style"?xd(n,h):d==="dangerouslySetInnerHTML"?ud(n,h):d==="children"?Ca(n,h):vi(n,d,h,x)}switch(c){case"input":gl(n,l);break;case"textarea":cd(n,l);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?As(n,!!l.multiple,b,!1):p!==!!l.multiple&&(l.defaultValue!=null?As(n,!!l.multiple,l.defaultValue,!0):As(n,!!l.multiple,l.multiple?[]:"",!1))}n[_a]=l}catch(g){re(e,e.return,g)}}break;case 6:if(Je(s,e),it(e),r&4){if(e.stateNode===null)throw Error(R(162));n=e.stateNode,l=e.memoizedProps;try{n.nodeValue=l}catch(g){re(e,e.return,g)}}break;case 3:if(Je(s,e),it(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Ta(s.containerInfo)}catch(g){re(e,e.return,g)}break;case 4:Je(s,e),it(e);break;case 13:Je(s,e),it(e),n=e.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(Ki=ie())),r&4&&xc(e);break;case 22:if(d=a!==null&&a.memoizedState!==null,e.mode&1?(Ce=(x=Ce)||d,Je(s,e),Ce=x):Je(s,e),it(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(h=F=d;F!==null;){switch(p=F,b=p.child,p.tag){case 0:case 11:case 14:case 15:ya(4,p,p.return);break;case 1:Ds(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,a=p.return;try{s=r,m.props=s.memoizedProps,m.state=s.memoizedState,m.componentWillUnmount()}catch(g){re(r,a,g)}}break;case 5:Ds(p,p.return);break;case 22:if(p.memoizedState!==null){pc(h);continue}}b!==null?(b.return=p,F=b):pc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{n=h.stateNode,x?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=h.stateNode,o=h.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=md("display",i))}catch(g){re(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=x?"":h.memoizedProps}catch(g){re(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Je(s,e),it(e),r&4&&xc(e);break;case 21:break;default:Je(s,e),it(e)}}function it(e){var s=e.flags;if(s&2){try{e:{for(var a=e.return;a!==null;){if(Fu(a)){var r=a;break e}a=a.return}throw Error(R(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(Ca(n,""),r.flags&=-33);var l=mc(e);Jl(e,l,n);break;case 3:case 4:var i=r.stateNode.containerInfo,c=mc(e);Kl(e,c,i);break;default:throw Error(R(161))}}catch(o){re(e,e.return,o)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function G0(e,s,a){F=e,zu(e)}function zu(e,s,a){for(var r=(e.mode&1)!==0;F!==null;){var n=F,l=n.child;if(n.tag===22&&r){var i=n.memoizedState!==null||fr;if(!i){var c=n.alternate,o=c!==null&&c.memoizedState!==null||Ce;c=fr;var x=Ce;if(fr=i,(Ce=o)&&!x)for(F=n;F!==null;)i=F,o=i.child,i.tag===22&&i.memoizedState!==null?fc(n):o!==null?(o.return=i,F=o):fc(n);for(;l!==null;)F=l,zu(l),l=l.sibling;F=n,fr=c,Ce=x}hc(e)}else n.subtreeFlags&8772&&l!==null?(l.return=n,F=l):hc(e)}}function hc(e){for(;F!==null;){var s=F;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ce||wn(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!Ce)if(a===null)r.componentDidMount();else{var n=s.elementType===s.type?a.memoizedProps:Ze(s.type,a.memoizedProps);r.componentDidUpdate(n,a.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Jo(s,l,r);break;case 3:var i=s.updateQueue;if(i!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Jo(s,i,a)}break;case 5:var c=s.stateNode;if(a===null&&s.flags&4){a=c;var o=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&a.focus();break;case"img":o.src&&(a.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var x=s.alternate;if(x!==null){var d=x.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ta(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ce||s.flags&512&&Xl(s)}catch(p){re(s,s.return,p)}}if(s===e){F=null;break}if(a=s.sibling,a!==null){a.return=s.return,F=a;break}F=s.return}}function pc(e){for(;F!==null;){var s=F;if(s===e){F=null;break}var a=s.sibling;if(a!==null){a.return=s.return,F=a;break}F=s.return}}function fc(e){for(;F!==null;){var s=F;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{wn(4,s)}catch(o){re(s,a,o)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var n=s.return;try{r.componentDidMount()}catch(o){re(s,n,o)}}var l=s.return;try{Xl(s)}catch(o){re(s,l,o)}break;case 5:var i=s.return;try{Xl(s)}catch(o){re(s,i,o)}}}catch(o){re(s,s.return,o)}if(s===e){F=null;break}var c=s.sibling;if(c!==null){c.return=s.return,F=c;break}F=s.return}}var Q0=Math.ceil,tn=kt.ReactCurrentDispatcher,Yi=kt.ReactCurrentOwner,Ye=kt.ReactCurrentBatchConfig,V=0,fe=null,de=null,je=0,$e=0,Rs=Qt(0),he=0,Ba=null,ds=0,Sn=0,Xi=0,Na=null,Me=null,Ki=0,Ws=1/0,ft=null,sn=!1,Zl=null,zt=null,gr=!1,_t=null,an=0,wa=0,ei=null,Rr=-1,Ar=0;function Te(){return V&6?ie():Rr!==-1?Rr:Rr=ie()}function Ut(e){return e.mode&1?V&2&&je!==0?je&-je:R0.transition!==null?(Ar===0&&(Ar=Cd()),Ar):(e=G,e!==0||(e=window.event,e=e===void 0?16:Ad(e.type)),e):1}function rt(e,s,a,r){if(50<wa)throw wa=0,ei=null,Error(R(185));Wa(e,a,r),(!(V&2)||e!==fe)&&(e===fe&&(!(V&2)&&(Sn|=a),he===4&&At(e,je)),Ie(e,r),a===1&&V===0&&!(s.mode&1)&&(Ws=ie()+500,jn&&Yt()))}function Ie(e,s){var a=e.callbackNode;Rx(e,s);var r=Br(e,e===fe?je:0);if(r===0)a!==null&&Co(a),e.callbackNode=null,e.callbackPriority=0;else if(s=r&-r,e.callbackPriority!==s){if(a!=null&&Co(a),s===1)e.tag===0?D0(gc.bind(null,e)):Kd(gc.bind(null,e)),k0(function(){!(V&6)&&Yt()}),a=null;else{switch(kd(r)){case 1:a=wi;break;case 4:a=wd;break;case 16:a=$r;break;case 536870912:a=Sd;break;default:a=$r}a=Yu(a,Uu.bind(null,e))}e.callbackPriority=s,e.callbackNode=a}}function Uu(e,s){if(Rr=-1,Ar=0,V&6)throw Error(R(327));var a=e.callbackNode;if(Is()&&e.callbackNode!==a)return null;var r=Br(e,e===fe?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||s)s=rn(e,r);else{s=r;var n=V;V|=2;var l=Hu();(fe!==e||je!==s)&&(ft=null,Ws=ie()+500,as(e,s));do try{K0();break}catch(c){Vu(e,c)}while(!0);Li(),tn.current=l,V=n,de!==null?s=0:(fe=null,je=0,s=he)}if(s!==0){if(s===2&&(n=Pl(e),n!==0&&(r=n,s=ti(e,n))),s===1)throw a=Ba,as(e,0),At(e,r),Ie(e,ie()),a;if(s===6)At(e,r);else{if(n=e.current.alternate,!(r&30)&&!Y0(n)&&(s=rn(e,r),s===2&&(l=Pl(e),l!==0&&(r=l,s=ti(e,l))),s===1))throw a=Ba,as(e,0),At(e,r),Ie(e,ie()),a;switch(e.finishedWork=n,e.finishedLanes=r,s){case 0:case 1:throw Error(R(345));case 2:Jt(e,Me,ft);break;case 3:if(At(e,r),(r&130023424)===r&&(s=Ki+500-ie(),10<s)){if(Br(e,0)!==0)break;if(n=e.suspendedLanes,(n&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Ol(Jt.bind(null,e,Me,ft),s);break}Jt(e,Me,ft);break;case 4:if(At(e,r),(r&4194240)===r)break;for(s=e.eventTimes,n=-1;0<r;){var i=31-at(r);l=1<<i,i=s[i],i>n&&(n=i),r&=~l}if(r=n,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q0(r/1960))-r,10<r){e.timeoutHandle=Ol(Jt.bind(null,e,Me,ft),r);break}Jt(e,Me,ft);break;case 5:Jt(e,Me,ft);break;default:throw Error(R(329))}}}return Ie(e,ie()),e.callbackNode===a?Uu.bind(null,e):null}function ti(e,s){var a=Na;return e.current.memoizedState.isDehydrated&&(as(e,s).flags|=256),e=rn(e,s),e!==2&&(s=Me,Me=a,s!==null&&si(s)),e}function si(e){Me===null?Me=e:Me.push.apply(Me,e)}function Y0(e){for(var s=e;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var r=0;r<a.length;r++){var n=a[r],l=n.getSnapshot;n=n.value;try{if(!nt(l(),n))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function At(e,s){for(s&=~Xi,s&=~Sn,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var a=31-at(s),r=1<<a;e[a]=-1,s&=~r}}function gc(e){if(V&6)throw Error(R(327));Is();var s=Br(e,0);if(!(s&1))return Ie(e,ie()),null;var a=rn(e,s);if(e.tag!==0&&a===2){var r=Pl(e);r!==0&&(s=r,a=ti(e,r))}if(a===1)throw a=Ba,as(e,0),At(e,s),Ie(e,ie()),a;if(a===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Jt(e,Me,ft),Ie(e,ie()),null}function Ji(e,s){var a=V;V|=1;try{return e(s)}finally{V=a,V===0&&(Ws=ie()+500,jn&&Yt())}}function us(e){_t!==null&&_t.tag===0&&!(V&6)&&Is();var s=V;V|=1;var a=Ye.transition,r=G;try{if(Ye.transition=null,G=1,e)return e()}finally{G=r,Ye.transition=a,V=s,!(V&6)&&Yt()}}function Zi(){$e=Rs.current,J(Rs)}function as(e,s){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,C0(a)),de!==null)for(a=de.return;a!==null;){var r=a;switch(Mi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wr();break;case 3:Vs(),J(Oe),J(ke),Ui();break;case 5:zi(r);break;case 4:Vs();break;case 13:J(te);break;case 19:J(te);break;case 10:Ii(r.type._context);break;case 22:case 23:Zi()}a=a.return}if(fe=e,de=e=Vt(e.current,null),je=$e=s,he=0,Ba=null,Xi=Sn=ds=0,Me=Na=null,ts!==null){for(s=0;s<ts.length;s++)if(a=ts[s],r=a.interleaved,r!==null){a.interleaved=null;var n=r.next,l=a.pending;if(l!==null){var i=l.next;l.next=n,r.next=i}a.pending=r}ts=null}return e}function Vu(e,s){do{var a=de;try{if(Li(),Er.current=en,Zr){for(var r=se.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Zr=!1}if(cs=0,pe=xe=se=null,ja=!1,Ia=0,Yi.current=null,a===null||a.return===null){he=1,Ba=s,de=null;break}e:{var l=e,i=a.return,c=a,o=s;if(s=je,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var x=o,d=c,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var b=rc(i);if(b!==null){b.flags&=-257,nc(b,i,c,l,s),b.mode&1&&ac(l,x,s),s=b,o=x;var m=s.updateQueue;if(m===null){var g=new Set;g.add(o),s.updateQueue=g}else m.add(o);break e}else{if(!(s&1)){ac(l,x,s),eo();break e}o=Error(R(426))}}else if(Z&&c.mode&1){var j=rc(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),nc(j,i,c,l,s),_i(Hs(o,c));break e}}l=o=Hs(o,c),he!==4&&(he=2),Na===null?Na=[l]:Na.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var f=ku(l,o,s);Ko(l,f);break e;case 1:c=o;var v=l.type,u=l.stateNode;if(!(l.flags&128)&&(typeof v.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(zt===null||!zt.has(u)))){l.flags|=65536,s&=-s,l.lanes|=s;var y=Pu(l,c,s);Ko(l,y);break e}}l=l.return}while(l!==null)}qu(a)}catch(k){s=k,de===a&&a!==null&&(de=a=a.return);continue}break}while(!0)}function Hu(){var e=tn.current;return tn.current=en,e===null?en:e}function eo(){(he===0||he===3||he===2)&&(he=4),fe===null||!(ds&268435455)&&!(Sn&268435455)||At(fe,je)}function rn(e,s){var a=V;V|=2;var r=Hu();(fe!==e||je!==s)&&(ft=null,as(e,s));do try{X0();break}catch(n){Vu(e,n)}while(!0);if(Li(),V=a,tn.current=r,de!==null)throw Error(R(261));return fe=null,je=0,he}function X0(){for(;de!==null;)Wu(de)}function K0(){for(;de!==null&&!Nx();)Wu(de)}function Wu(e){var s=Qu(e.alternate,e,$e);e.memoizedProps=e.pendingProps,s===null?qu(e):de=s,Yi.current=null}function qu(e){var s=e;do{var a=s.alternate;if(e=s.return,s.flags&32768){if(a=H0(a,s),a!==null){a.flags&=32767,de=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,de=null;return}}else if(a=V0(a,s,$e),a!==null){de=a;return}if(s=s.sibling,s!==null){de=s;return}de=s=e}while(s!==null);he===0&&(he=5)}function Jt(e,s,a){var r=G,n=Ye.transition;try{Ye.transition=null,G=1,J0(e,s,a,r)}finally{Ye.transition=n,G=r}return null}function J0(e,s,a,r){do Is();while(_t!==null);if(V&6)throw Error(R(327));a=e.finishedWork;var n=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var l=a.lanes|a.childLanes;if(Ax(e,l),e===fe&&(de=fe=null,je=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||gr||(gr=!0,Yu($r,function(){return Is(),null})),l=(a.flags&15990)!==0,a.subtreeFlags&15990||l){l=Ye.transition,Ye.transition=null;var i=G;G=1;var c=V;V|=4,Yi.current=null,q0(e,a),Bu(a,e),v0(Ml),zr=!!Al,Ml=Al=null,e.current=a,G0(a),wx(),V=c,G=i,Ye.transition=l}else e.current=a;if(gr&&(gr=!1,_t=e,an=n),l=e.pendingLanes,l===0&&(zt=null),kx(a.stateNode),Ie(e,ie()),s!==null)for(r=e.onRecoverableError,a=0;a<s.length;a++)n=s[a],r(n.value,{componentStack:n.stack,digest:n.digest});if(sn)throw sn=!1,e=Zl,Zl=null,e;return an&1&&e.tag!==0&&Is(),l=e.pendingLanes,l&1?e===ei?wa++:(wa=0,ei=e):wa=0,Yt(),null}function Is(){if(_t!==null){var e=kd(an),s=Ye.transition,a=G;try{if(Ye.transition=null,G=16>e?16:e,_t===null)var r=!1;else{if(e=_t,_t=null,an=0,V&6)throw Error(R(331));var n=V;for(V|=4,F=e.current;F!==null;){var l=F,i=l.child;if(F.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var x=c[o];for(F=x;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:ya(8,d,l)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var p=d.sibling,b=d.return;if(Iu(d),d===x){F=null;break}if(p!==null){p.return=b,F=p;break}F=b}}}var m=l.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var j=g.sibling;g.sibling=null,g=j}while(g!==null)}}F=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,F=i;else e:for(;F!==null;){if(l=F,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ya(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,F=f;break e}F=l.return}}var v=e.current;for(F=v;F!==null;){i=F;var u=i.child;if(i.subtreeFlags&2064&&u!==null)u.return=i,F=u;else e:for(i=v;F!==null;){if(c=F,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:wn(9,c)}}catch(k){re(c,c.return,k)}if(c===i){F=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,F=y;break e}F=c.return}}if(V=n,Yt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(pn,e)}catch{}r=!0}return r}finally{G=a,Ye.transition=s}}return!1}function vc(e,s,a){s=Hs(a,s),s=ku(e,s,1),e=Bt(e,s,1),s=Te(),e!==null&&(Wa(e,1,s),Ie(e,s))}function re(e,s,a){if(e.tag===3)vc(e,e,a);else for(;s!==null;){if(s.tag===3){vc(s,e,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){e=Hs(a,e),e=Pu(s,e,1),s=Bt(s,e,1),e=Te(),s!==null&&(Wa(s,1,e),Ie(s,e));break}}s=s.return}}function Z0(e,s,a){var r=e.pingCache;r!==null&&r.delete(s),s=Te(),e.pingedLanes|=e.suspendedLanes&a,fe===e&&(je&a)===a&&(he===4||he===3&&(je&130023424)===je&&500>ie()-Ki?as(e,0):Xi|=a),Ie(e,s)}function Gu(e,s){s===0&&(e.mode&1?(s=ir,ir<<=1,!(ir&130023424)&&(ir=4194304)):s=1);var a=Te();e=St(e,s),e!==null&&(Wa(e,s,a),Ie(e,a))}function eh(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Gu(e,a)}function th(e,s){var a=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(s),Gu(e,a)}var Qu;Qu=function(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps||Oe.current)_e=!0;else{if(!(e.lanes&a)&&!(s.flags&128))return _e=!1,U0(e,s,a);_e=!!(e.flags&131072)}else _e=!1,Z&&s.flags&1048576&&Jd(s,Qr,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;Dr(e,s),e=s.pendingProps;var n=Bs(s,ke.current);Ls(s,a),n=Hi(null,s,r,e,n,a);var l=Wi();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Le(r)?(l=!0,qr(s)):l=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,$i(s),n.updater=Nn,s.stateNode=n,n._reactInternals=s,Ul(s,r,e,a),s=Wl(null,s,r,!0,l,a)):(s.tag=0,Z&&l&&Ai(s),Pe(null,s,n,a),s=s.child),s;case 16:r=s.elementType;e:{switch(Dr(e,s),e=s.pendingProps,n=r._init,r=n(r._payload),s.type=r,n=s.tag=ah(r),e=Ze(r,e),n){case 0:s=Hl(null,s,r,e,a);break e;case 1:s=oc(null,s,r,e,a);break e;case 11:s=lc(null,s,r,e,a);break e;case 14:s=ic(null,s,r,Ze(r.type,e),a);break e}throw Error(R(306,r,""))}return s;case 0:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:Ze(r,n),Hl(e,s,r,n,a);case 1:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:Ze(r,n),oc(e,s,r,n,a);case 3:e:{if(Ru(s),e===null)throw Error(R(387));r=s.pendingProps,l=s.memoizedState,n=l.element,ru(e,s),Kr(s,r,null,a);var i=s.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){n=Hs(Error(R(423)),s),s=cc(e,s,r,a,n);break e}else if(r!==n){n=Hs(Error(R(424)),s),s=cc(e,s,r,a,n);break e}else for(Be=$t(s.stateNode.containerInfo.firstChild),ze=s,Z=!0,tt=null,a=su(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zs(),r===n){s=Ct(e,s,a);break e}Pe(e,s,r,a)}s=s.child}return s;case 5:return nu(s),e===null&&$l(s),r=s.type,n=s.pendingProps,l=e!==null?e.memoizedProps:null,i=n.children,_l(r,n)?i=null:l!==null&&_l(r,l)&&(s.flags|=32),Du(e,s),Pe(e,s,i,a),s.child;case 6:return e===null&&$l(s),null;case 13:return Au(e,s,a);case 4:return Bi(s,s.stateNode.containerInfo),r=s.pendingProps,e===null?s.child=Us(s,null,r,a):Pe(e,s,r,a),s.child;case 11:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:Ze(r,n),lc(e,s,r,n,a);case 7:return Pe(e,s,s.pendingProps,a),s.child;case 8:return Pe(e,s,s.pendingProps.children,a),s.child;case 12:return Pe(e,s,s.pendingProps.children,a),s.child;case 10:e:{if(r=s.type._context,n=s.pendingProps,l=s.memoizedProps,i=n.value,X(Yr,r._currentValue),r._currentValue=i,l!==null)if(nt(l.value,i)){if(l.children===n.children&&!Oe.current){s=Ct(e,s,a);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var o=c.firstContext;o!==null;){if(o.context===r){if(l.tag===1){o=jt(-1,a&-a),o.tag=2;var x=l.updateQueue;if(x!==null){x=x.shared;var d=x.pending;d===null?o.next=o:(o.next=d.next,d.next=o),x.pending=o}}l.lanes|=a,o=l.alternate,o!==null&&(o.lanes|=a),Bl(l.return,a,s),c.lanes|=a;break}o=o.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(R(341));i.lanes|=a,c=i.alternate,c!==null&&(c.lanes|=a),Bl(i,a,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Pe(e,s,n.children,a),s=s.child}return s;case 9:return n=s.type,r=s.pendingProps.children,Ls(s,a),n=Xe(n),r=r(n),s.flags|=1,Pe(e,s,r,a),s.child;case 14:return r=s.type,n=Ze(r,s.pendingProps),n=Ze(r.type,n),ic(e,s,r,n,a);case 15:return Eu(e,s,s.type,s.pendingProps,a);case 17:return r=s.type,n=s.pendingProps,n=s.elementType===r?n:Ze(r,n),Dr(e,s),s.tag=1,Le(r)?(e=!0,qr(s)):e=!1,Ls(s,a),Cu(s,r,n),Ul(s,r,n,a),Wl(null,s,r,!0,e,a);case 19:return Mu(e,s,a);case 22:return Tu(e,s,a)}throw Error(R(156,s.tag))};function Yu(e,s){return Nd(e,s)}function sh(e,s,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,s,a,r){return new sh(e,s,a,r)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ah(e){if(typeof e=="function")return to(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ji)return 11;if(e===yi)return 14}return 2}function Vt(e,s){var a=e.alternate;return a===null?(a=Qe(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Mr(e,s,a,r,n,l){var i=2;if(r=e,typeof e=="function")to(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ys:return rs(a.children,n,l,s);case bi:i=8,n|=8;break;case ml:return e=Qe(12,a,s,n|2),e.elementType=ml,e.lanes=l,e;case xl:return e=Qe(13,a,s,n),e.elementType=xl,e.lanes=l,e;case hl:return e=Qe(19,a,s,n),e.elementType=hl,e.lanes=l,e;case nd:return Cn(a,n,l,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ad:i=10;break e;case rd:i=9;break e;case ji:i=11;break e;case yi:i=14;break e;case Tt:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return s=Qe(i,a,s,n),s.elementType=e,s.type=r,s.lanes=l,s}function rs(e,s,a,r){return e=Qe(7,e,r,s),e.lanes=a,e}function Cn(e,s,a,r){return e=Qe(22,e,r,s),e.elementType=nd,e.lanes=a,e.stateNode={isHidden:!1},e}function ll(e,s,a){return e=Qe(6,e,null,s),e.lanes=a,e}function il(e,s,a){return s=Qe(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function rh(e,s,a,r,n){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zn(0),this.expirationTimes=zn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zn(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function so(e,s,a,r,n,l,i,c,o){return e=new rh(e,s,a,c,o),s===1?(s=1,l===!0&&(s|=8)):s=0,l=Qe(3,null,null,s),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},$i(l),e}function nh(e,s,a){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:e,containerInfo:s,implementation:a}}function Xu(e){if(!e)return Wt;e=e._reactInternals;e:{if(hs(e)!==e||e.tag!==1)throw Error(R(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Le(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(R(171))}if(e.tag===1){var a=e.type;if(Le(a))return Xd(e,a,s)}return s}function Ku(e,s,a,r,n,l,i,c,o){return e=so(a,r,!0,e,n,l,i,c,o),e.context=Xu(null),a=e.current,r=Te(),n=Ut(a),l=jt(r,n),l.callback=s??null,Bt(a,l,n),e.current.lanes=n,Wa(e,n,r),Ie(e,r),e}function kn(e,s,a,r){var n=s.current,l=Te(),i=Ut(n);return a=Xu(a),s.context===null?s.context=a:s.pendingContext=a,s=jt(l,i),s.payload={element:e},r=r===void 0?null:r,r!==null&&(s.callback=r),e=Bt(n,s,i),e!==null&&(rt(e,n,i,l),Pr(e,n,i)),i}function nn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bc(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function ao(e,s){bc(e,s),(e=e.alternate)&&bc(e,s)}function lh(){return null}var Ju=typeof reportError=="function"?reportError:function(e){console.error(e)};function ro(e){this._internalRoot=e}Pn.prototype.render=ro.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(R(409));kn(e,s,null,null)};Pn.prototype.unmount=ro.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;us(function(){kn(null,e,null,null)}),s[wt]=null}};function Pn(e){this._internalRoot=e}Pn.prototype.unstable_scheduleHydration=function(e){if(e){var s=Td();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Rt.length&&s!==0&&s<Rt[a].priority;a++);Rt.splice(a,0,e),a===0&&Rd(e)}};function no(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function En(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jc(){}function ih(e,s,a,r,n){if(n){if(typeof r=="function"){var l=r;r=function(){var x=nn(i);l.call(x)}}var i=Ku(s,r,e,0,null,!1,!1,"",jc);return e._reactRootContainer=i,e[wt]=i.current,Aa(e.nodeType===8?e.parentNode:e),us(),i}for(;n=e.lastChild;)e.removeChild(n);if(typeof r=="function"){var c=r;r=function(){var x=nn(o);c.call(x)}}var o=so(e,0,!1,null,null,!1,!1,"",jc);return e._reactRootContainer=o,e[wt]=o.current,Aa(e.nodeType===8?e.parentNode:e),us(function(){kn(s,o,a,r)}),o}function Tn(e,s,a,r,n){var l=a._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var c=n;n=function(){var o=nn(i);c.call(o)}}kn(s,i,e,n)}else i=ih(a,s,e,n,r);return nn(i)}Pd=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var a=xa(s.pendingLanes);a!==0&&(Si(s,a|1),Ie(s,ie()),!(V&6)&&(Ws=ie()+500,Yt()))}break;case 13:us(function(){var r=St(e,1);if(r!==null){var n=Te();rt(r,e,1,n)}}),ao(e,1)}};Ci=function(e){if(e.tag===13){var s=St(e,134217728);if(s!==null){var a=Te();rt(s,e,134217728,a)}ao(e,134217728)}};Ed=function(e){if(e.tag===13){var s=Ut(e),a=St(e,s);if(a!==null){var r=Te();rt(a,e,s,r)}ao(e,s)}};Td=function(){return G};Dd=function(e,s){var a=G;try{return G=e,s()}finally{G=a}};Sl=function(e,s,a){switch(s){case"input":if(gl(e,a),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==e&&r.form===e.form){var n=bn(r);if(!n)throw Error(R(90));id(r),gl(r,n)}}}break;case"textarea":cd(e,a);break;case"select":s=a.value,s!=null&&As(e,!!a.multiple,s,!1)}};fd=Ji;gd=us;var oh={usingClientEntryPoint:!1,Events:[Ga,Cs,bn,hd,pd,Ji]},ia={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ch={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jd(e),e===null?null:e.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||lh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vr.isDisabled&&vr.supportsFiber)try{pn=vr.inject(ch),ut=vr}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oh;He.createPortal=function(e,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!no(s))throw Error(R(200));return nh(e,s,null,a)};He.createRoot=function(e,s){if(!no(e))throw Error(R(299));var a=!1,r="",n=Ju;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=so(e,1,!1,null,null,a,!1,r,n),e[wt]=s.current,Aa(e.nodeType===8?e.parentNode:e),new ro(s)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=jd(s),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return us(e)};He.hydrate=function(e,s,a){if(!En(s))throw Error(R(200));return Tn(null,e,s,!0,a)};He.hydrateRoot=function(e,s,a){if(!no(e))throw Error(R(405));var r=a!=null&&a.hydratedSources||null,n=!1,l="",i=Ju;if(a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onRecoverableError!==void 0&&(i=a.onRecoverableError)),s=Ku(s,null,e,1,a??null,n,!1,l,i),e[wt]=s.current,Aa(e),r)for(e=0;e<r.length;e++)a=r[e],n=a._getVersion,n=n(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,n]:s.mutableSourceEagerHydrationData.push(a,n);return new Pn(s)};He.render=function(e,s,a){if(!En(s))throw Error(R(200));return Tn(null,e,s,!1,a)};He.unmountComponentAtNode=function(e){if(!En(e))throw Error(R(40));return e._reactRootContainer?(us(function(){Tn(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};He.unstable_batchedUpdates=Ji;He.unstable_renderSubtreeIntoContainer=function(e,s,a,r){if(!En(a))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Tn(e,s,a,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function Zu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zu)}catch(e){console.error(e)}}Zu(),Zc.exports=He;var dh=Zc.exports,em,yc=dh;em=yc.createRoot,yc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},za.apply(this,arguments)}var Ot;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ot||(Ot={}));const Nc="popstate";function uh(e){e===void 0&&(e={});function s(r,n){let{pathname:l,search:i,hash:c}=r.location;return ai("",{pathname:l,search:i,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:sm(n)}return xh(s,a,null,e)}function ue(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function tm(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function mh(){return Math.random().toString(36).substr(2,8)}function wc(e,s){return{usr:e.state,key:e.key,idx:s}}function ai(e,s,a,r){return a===void 0&&(a=null),za({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?Js(s):s,{state:a,key:s&&s.key||r||mh()})}function sm(e){let{pathname:s="/",search:a="",hash:r=""}=e;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Js(e){let s={};if(e){let a=e.indexOf("#");a>=0&&(s.hash=e.substr(a),e=e.substr(0,a));let r=e.indexOf("?");r>=0&&(s.search=e.substr(r),e=e.substr(0,r)),e&&(s.pathname=e)}return s}function xh(e,s,a,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:l=!1}=r,i=n.history,c=Ot.Pop,o=null,x=d();x==null&&(x=0,i.replaceState(za({},i.state,{idx:x}),""));function d(){return(i.state||{idx:null}).idx}function h(){c=Ot.Pop;let j=d(),f=j==null?null:j-x;x=j,o&&o({action:c,location:g.location,delta:f})}function p(j,f){c=Ot.Push;let v=ai(g.location,j,f);x=d()+1;let u=wc(v,x),y=g.createHref(v);try{i.pushState(u,"",y)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;n.location.assign(y)}l&&o&&o({action:c,location:g.location,delta:1})}function b(j,f){c=Ot.Replace;let v=ai(g.location,j,f);x=d();let u=wc(v,x),y=g.createHref(v);i.replaceState(u,"",y),l&&o&&o({action:c,location:g.location,delta:0})}function m(j){let f=n.location.origin!=="null"?n.location.origin:n.location.href,v=typeof j=="string"?j:sm(j);return v=v.replace(/ $/,"%20"),ue(f,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,f)}let g={get action(){return c},get location(){return e(n,i)},listen(j){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(Nc,h),o=j,()=>{n.removeEventListener(Nc,h),o=null}},createHref(j){return s(n,j)},createURL:m,encodeLocation(j){let f=m(j);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:b,go(j){return i.go(j)}};return g}var Sc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sc||(Sc={}));function hh(e,s,a){return a===void 0&&(a="/"),ph(e,s,a,!1)}function ph(e,s,a,r){let n=typeof s=="string"?Js(s):s,l=nm(n.pathname||"/",a);if(l==null)return null;let i=am(e);fh(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let x=Ph(l);c=Ch(i[o],x,r)}return c}function am(e,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let n=(l,i,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};o.relativePath.startsWith("/")&&(ue(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let x=ns([r,o.relativePath]),d=a.concat(o);l.children&&l.children.length>0&&(ue(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),am(l.children,s,d,x)),!(l.path==null&&!l.index)&&s.push({path:x,score:wh(x,l.index),routesMeta:d})};return e.forEach((l,i)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))n(l,i);else for(let o of rm(l.path))n(l,i,o)}),s}function rm(e){let s=e.split("/");if(s.length===0)return[];let[a,...r]=s,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(r.length===0)return n?[l,""]:[l];let i=rm(r.join("/")),c=[];return c.push(...i.map(o=>o===""?l:[l,o].join("/"))),n&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function fh(e){e.sort((s,a)=>s.score!==a.score?a.score-s.score:Sh(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const gh=/^:[\w-]+$/,vh=3,bh=2,jh=1,yh=10,Nh=-2,Cc=e=>e==="*";function wh(e,s){let a=e.split("/"),r=a.length;return a.some(Cc)&&(r+=Nh),s&&(r+=bh),a.filter(n=>!Cc(n)).reduce((n,l)=>n+(gh.test(l)?vh:l===""?jh:yh),r)}function Sh(e,s){return e.length===s.length&&e.slice(0,-1).every((r,n)=>r===s[n])?e[e.length-1]-s[s.length-1]:0}function Ch(e,s,a){let{routesMeta:r}=e,n={},l="/",i=[];for(let c=0;c<r.length;++c){let o=r[c],x=c===r.length-1,d=l==="/"?s:s.slice(l.length)||"/",h=kc({path:o.relativePath,caseSensitive:o.caseSensitive,end:x},d),p=o.route;if(!h&&x&&a&&!r[r.length-1].route.index&&(h=kc({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},d)),!h)return null;Object.assign(n,h.params),i.push({params:n,pathname:ns([l,h.pathname]),pathnameBase:Rh(ns([l,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(l=ns([l,h.pathnameBase]))}return i}function kc(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=kh(e.path,e.caseSensitive,e.end),n=s.match(a);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:r.reduce((x,d,h)=>{let{paramName:p,isOptional:b}=d;if(p==="*"){let g=c[h]||"";i=l.slice(0,l.length-g.length).replace(/(.)\/+$/,"$1")}const m=c[h];return b&&!m?x[p]=void 0:x[p]=(m||"").replace(/%2F/g,"/"),x},{}),pathname:l,pathnameBase:i,pattern:e}}function kh(e,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),tm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(r.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),r]}function Ph(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return tm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function nm(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}function Eh(e,s){s===void 0&&(s="/");let{pathname:a,search:r="",hash:n=""}=typeof e=="string"?Js(e):e;return{pathname:a?a.startsWith("/")?a:Th(a,s):s,search:Ah(r),hash:Mh(n)}}function Th(e,s){let a=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function ol(e,s,a,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dh(e){return e.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function lm(e,s){let a=Dh(e);return s?a.map((r,n)=>n===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function im(e,s,a,r){r===void 0&&(r=!1);let n;typeof e=="string"?n=Js(e):(n=za({},e),ue(!n.pathname||!n.pathname.includes("?"),ol("?","pathname","search",n)),ue(!n.pathname||!n.pathname.includes("#"),ol("#","pathname","hash",n)),ue(!n.search||!n.search.includes("#"),ol("#","search","hash",n)));let l=e===""||n.pathname==="",i=l?"/":n.pathname,c;if(i==null)c=a;else{let h=s.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;n.pathname=p.join("/")}c=h>=0?s[h]:"/"}let o=Eh(n,c),x=i&&i!=="/"&&i.endsWith("/"),d=(l||i===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(x||d)&&(o.pathname+="/"),o}const ns=e=>e.join("/").replace(/\/\/+/g,"/"),Rh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ah=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mh=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _h(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const om=["post","put","patch","delete"];new Set(om);const Oh=["get",...om];new Set(Oh);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ua.apply(this,arguments)}const lo=S.createContext(null),Lh=S.createContext(null),Ya=S.createContext(null),Dn=S.createContext(null),ps=S.createContext({outlet:null,matches:[],isDataRoute:!1}),cm=S.createContext(null);function Xa(){return S.useContext(Dn)!=null}function Ka(){return Xa()||ue(!1),S.useContext(Dn).location}function dm(e){S.useContext(Ya).static||S.useLayoutEffect(e)}function Rn(){let{isDataRoute:e}=S.useContext(ps);return e?Yh():Ih()}function Ih(){Xa()||ue(!1);let e=S.useContext(lo),{basename:s,future:a,navigator:r}=S.useContext(Ya),{matches:n}=S.useContext(ps),{pathname:l}=Ka(),i=JSON.stringify(lm(n,a.v7_relativeSplatPath)),c=S.useRef(!1);return dm(()=>{c.current=!0}),S.useCallback(function(x,d){if(d===void 0&&(d={}),!c.current)return;if(typeof x=="number"){r.go(x);return}let h=im(x,JSON.parse(i),l,d.relative==="path");e==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:ns([s,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[s,r,i,l,e])}function Fh(e,s){return $h(e,s)}function $h(e,s,a,r){Xa()||ue(!1);let{navigator:n}=S.useContext(Ya),{matches:l}=S.useContext(ps),i=l[l.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let x=Ka(),d;if(s){var h;let j=typeof s=="string"?Js(s):s;o==="/"||(h=j.pathname)!=null&&h.startsWith(o)||ue(!1),d=j}else d=x;let p=d.pathname||"/",b=p;if(o!=="/"){let j=o.replace(/^\//,"").split("/");b="/"+p.replace(/^\//,"").split("/").slice(j.length).join("/")}let m=hh(e,{pathname:b}),g=Hh(m&&m.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:ns([o,n.encodeLocation?n.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?o:ns([o,n.encodeLocation?n.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,a,r);return s&&g?S.createElement(Dn.Provider,{value:{location:Ua({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ot.Pop}},g):g}function Bh(){let e=Qh(),s=_h(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},s),a?S.createElement("pre",{style:n},a):null,null)}const zh=S.createElement(Bh,null);class Uh extends S.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?S.createElement(ps.Provider,{value:this.props.routeContext},S.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vh(e){let{routeContext:s,match:a,children:r}=e,n=S.useContext(lo);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),S.createElement(ps.Provider,{value:s},r)}function Hh(e,s,a,r){var n;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),e==null){var l;if(!a)return null;if(a.errors)e=a.matches;else if((l=r)!=null&&l.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let i=e,c=(n=a)==null?void 0:n.errors;if(c!=null){let d=i.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);d>=0||ue(!1),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,x=-1;if(a&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(x=d),h.route.id){let{loaderData:p,errors:b}=a,m=h.route.loader&&p[h.route.id]===void 0&&(!b||b[h.route.id]===void 0);if(h.route.lazy||m){o=!0,x>=0?i=i.slice(0,x+1):i=[i[0]];break}}}return i.reduceRight((d,h,p)=>{let b,m=!1,g=null,j=null;a&&(b=c&&h.route.id?c[h.route.id]:void 0,g=h.route.errorElement||zh,o&&(x<0&&p===0?(m=!0,j=null):x===p&&(m=!0,j=h.route.hydrateFallbackElement||null)));let f=s.concat(i.slice(0,p+1)),v=()=>{let u;return b?u=g:m?u=j:h.route.Component?u=S.createElement(h.route.Component,null):h.route.element?u=h.route.element:u=d,S.createElement(Vh,{match:h,routeContext:{outlet:d,matches:f,isDataRoute:a!=null},children:u})};return a&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?S.createElement(Uh,{location:a.location,revalidation:a.revalidation,component:g,error:b,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}var um=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(um||{}),ln=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ln||{});function Wh(e){let s=S.useContext(lo);return s||ue(!1),s}function qh(e){let s=S.useContext(Lh);return s||ue(!1),s}function Gh(e){let s=S.useContext(ps);return s||ue(!1),s}function mm(e){let s=Gh(),a=s.matches[s.matches.length-1];return a.route.id||ue(!1),a.route.id}function Qh(){var e;let s=S.useContext(cm),a=qh(ln.UseRouteError),r=mm(ln.UseRouteError);return s!==void 0?s:(e=a.errors)==null?void 0:e[r]}function Yh(){let{router:e}=Wh(um.UseNavigateStable),s=mm(ln.UseNavigateStable),a=S.useRef(!1);return dm(()=>{a.current=!0}),S.useCallback(function(n,l){l===void 0&&(l={}),a.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Ua({fromRouteId:s},l)))},[e,s])}function Xh(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ri(e){let{to:s,replace:a,state:r,relative:n}=e;Xa()||ue(!1);let{future:l,static:i}=S.useContext(Ya),{matches:c}=S.useContext(ps),{pathname:o}=Ka(),x=Rn(),d=im(s,lm(c,l.v7_relativeSplatPath),o,n==="path"),h=JSON.stringify(d);return S.useEffect(()=>x(JSON.parse(h),{replace:a,state:r,relative:n}),[x,h,n,a,r]),null}function ot(e){ue(!1)}function Kh(e){let{basename:s="/",children:a=null,location:r,navigationType:n=Ot.Pop,navigator:l,static:i=!1,future:c}=e;Xa()&&ue(!1);let o=s.replace(/^\/*/,"/"),x=S.useMemo(()=>({basename:o,navigator:l,static:i,future:Ua({v7_relativeSplatPath:!1},c)}),[o,c,l,i]);typeof r=="string"&&(r=Js(r));let{pathname:d="/",search:h="",hash:p="",state:b=null,key:m="default"}=r,g=S.useMemo(()=>{let j=nm(d,o);return j==null?null:{location:{pathname:j,search:h,hash:p,state:b,key:m},navigationType:n}},[o,d,h,p,b,m,n]);return g==null?null:S.createElement(Ya.Provider,{value:x},S.createElement(Dn.Provider,{children:a,value:g}))}function Jh(e){let{children:s,location:a}=e;return Fh(ni(s),a)}new Promise(()=>{});function ni(e,s){s===void 0&&(s=[]);let a=[];return S.Children.forEach(e,(r,n)=>{if(!S.isValidElement(r))return;let l=[...s,n];if(r.type===S.Fragment){a.push.apply(a,ni(r.props.children,l));return}r.type!==ot&&ue(!1),!r.props.index||!r.props.children||ue(!1);let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ni(r.props.children,l)),a.push(i)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Zh="6";try{window.__reactRouterVersion=Zh}catch{}const ep="startTransition",Pc=Zm[ep];function tp(e){let{basename:s,children:a,future:r,window:n}=e,l=S.useRef();l.current==null&&(l.current=uh({window:n,v5Compat:!0}));let i=l.current,[c,o]=S.useState({action:i.action,location:i.location}),{v7_startTransition:x}=r||{},d=S.useCallback(h=>{x&&Pc?Pc(()=>o(h)):o(h)},[o,x]);return S.useLayoutEffect(()=>i.listen(d),[i,d]),S.useEffect(()=>Xh(r),[r]),S.createElement(Kh,{basename:s,children:a,location:c.location,navigationType:c.action,navigator:i,future:r})}var Ec;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ec||(Ec={}));var Tc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tc||(Tc={}));const sp={currentUser:null,clients:[],barbers:[],services:[],appointments:[],payments:[],dashboardStats:{todayRevenue:0,todayAppointments:0,monthRevenue:0,monthAppointments:0,activeClients:0,averageTicket:0,revenueGrowth:0,appointmentGrowth:0},loading:!1};function ap(e,s){switch(s.type){case"SET_LOADING":return{...e,loading:s.payload};case"SET_USER":return{...e,currentUser:s.payload};case"SET_CLIENTS":return{...e,clients:s.payload};case"ADD_CLIENT":return{...e,clients:[...e.clients,s.payload]};case"UPDATE_CLIENT":return{...e,clients:e.clients.map(a=>a.id===s.payload.id?s.payload:a)};case"SET_BARBERS":return{...e,barbers:s.payload};case"SET_SERVICES":return{...e,services:s.payload};case"SET_APPOINTMENTS":return{...e,appointments:s.payload};case"ADD_APPOINTMENT":return{...e,appointments:[...e.appointments,s.payload]};case"UPDATE_APPOINTMENT":return{...e,appointments:e.appointments.map(a=>a.id===s.payload.id?s.payload:a)};case"SET_PAYMENTS":return{...e,payments:s.payload};case"ADD_PAYMENT":return{...e,payments:[...e.payments,s.payload]};case"SET_DASHBOARD_STATS":return{...e,dashboardStats:s.payload};default:return e}}const xm=S.createContext(null);function rp({children:e}){const[s,a]=S.useReducer(ap,sp);return S.useEffect(()=>{(async()=>{a({type:"SET_LOADING",payload:!0});const n={id:"1",name:"Admin",email:"admin@barbearia.com",phone:"11999999999",role:"admin",createdAt:new Date},l=[{id:"b1",name:"João Silva",email:"joao@barbearia.com",phone:"11988887777",role:"barber",specialties:["Corte tradicional","Barba"],commissionRate:.6,workingHours:{monday:{start:"08:00",end:"18:00",available:!0},tuesday:{start:"08:00",end:"18:00",available:!0},wednesday:{start:"08:00",end:"18:00",available:!0},thursday:{start:"08:00",end:"18:00",available:!0},friday:{start:"08:00",end:"18:00",available:!0},saturday:{start:"08:00",end:"16:00",available:!0},sunday:{start:"08:00",end:"16:00",available:!1}},rating:4.8,totalRevenue:15e3,createdAt:new Date},{id:"b2",name:"Pedro Santos",email:"pedro@barbearia.com",phone:"11977776666",role:"barber",specialties:["Corte moderno","Sobrancelha"],commissionRate:.5,workingHours:{monday:{start:"09:00",end:"19:00",available:!0},tuesday:{start:"09:00",end:"19:00",available:!0},wednesday:{start:"09:00",end:"19:00",available:!0},thursday:{start:"09:00",end:"19:00",available:!0},friday:{start:"09:00",end:"19:00",available:!0},saturday:{start:"08:00",end:"16:00",available:!0},sunday:{start:"08:00",end:"16:00",available:!1}},rating:4.6,totalRevenue:12e3,createdAt:new Date}],i=[{id:"s1",name:"Corte de Cabelo",description:"Corte tradicional ou moderno",duration:30,price:35,category:"Cabelo",isActive:!0},{id:"s2",name:"Barba",description:"Aparar e modelar barba",duration:20,price:25,category:"Barba",isActive:!0},{id:"s3",name:"Corte + Barba",description:"Pacote completo",duration:45,price:55,category:"Combo",isActive:!0},{id:"s4",name:"Sobrancelha",description:"Design de sobrancelha",duration:15,price:15,category:"Estética",isActive:!0}],c=[{id:"c1",name:"Carlos Oliveira",email:"carlos@email.com",phone:"11955554444",role:"client",preferences:{preferredBarber:"b1",preferredServices:["s1","s2"],notes:"Prefere corte baixo nas laterais"},loyaltyPoints:150,totalSpent:280,lastVisit:new Date("2024-01-10"),createdAt:new Date("2023-06-15")},{id:"c2",name:"Marcos Lima",email:"marcos@email.com",phone:"11944443333",role:"client",preferences:{preferredBarber:"b2",preferredServices:["s3"],notes:"Cliente pontual"},loyaltyPoints:200,totalSpent:440,lastVisit:new Date("2024-01-08"),createdAt:new Date("2023-08-20")}],o={todayRevenue:280,todayAppointments:8,monthRevenue:8500,monthAppointments:156,activeClients:89,averageTicket:42,revenueGrowth:12.5,appointmentGrowth:8.3};a({type:"SET_USER",payload:n}),a({type:"SET_BARBERS",payload:l}),a({type:"SET_SERVICES",payload:i}),a({type:"SET_CLIENTS",payload:c}),a({type:"SET_DASHBOARD_STATS",payload:o}),a({type:"SET_LOADING",payload:!1})})()},[]),t.jsx(xm.Provider,{value:{state:s,dispatch:a},children:e})}function hm(){const e=S.useContext(xm);if(!e)throw new Error("useApp must be used within an AppProvider");return e}function on(e){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},on(e)}function lt(e){if(e===null||e===!0||e===!1)return NaN;var s=Number(e);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}function ee(e,s){if(s.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+s.length+" present")}function ye(e){ee(1,arguments);var s=Object.prototype.toString.call(e);return e instanceof Date||on(e)==="object"&&s==="[object Date]"?new Date(e.getTime()):typeof e=="number"||s==="[object Number]"?new Date(e):((typeof e=="string"||s==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ja(e,s){ee(2,arguments);var a=ye(e),r=lt(s);return isNaN(r)?new Date(NaN):(r&&a.setDate(a.getDate()+r),a)}function np(e,s){ee(2,arguments);var a=ye(e).getTime(),r=lt(s);return new Date(a+r)}var lp={};function Zs(){return lp}function pm(e,s){var a,r,n,l,i,c,o,x;ee(1,arguments);var d=Zs(),h=lt((a=(r=(n=(l=s==null?void 0:s.weekStartsOn)!==null&&l!==void 0?l:s==null||(i=s.locale)===null||i===void 0||(c=i.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&r!==void 0?r:(o=d.locale)===null||o===void 0||(x=o.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&a!==void 0?a:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ye(e),b=p.getDay(),m=(b<h?7:0)+b-h;return p.setDate(p.getDate()-m),p.setHours(0,0,0,0),p}function ip(e){var s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),e.getTime()-s.getTime()}function Dc(e){ee(1,arguments);var s=ye(e);return s.setHours(0,0,0,0),s}var fm=6e4,gm=36e5;function An(e,s){ee(2,arguments);var a=Dc(e),r=Dc(s);return a.getTime()===r.getTime()}function op(e){return ee(1,arguments),e instanceof Date||on(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function cp(e){if(ee(1,arguments),!op(e)&&typeof e!="number")return!1;var s=ye(e);return!isNaN(Number(s))}function vm(e,s){var a;ee(1,arguments);var r=e||{},n=ye(r.start),l=ye(r.end),i=l.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var c=[],o=n;o.setHours(0,0,0,0);var x=Number((a=void 0)!==null&&a!==void 0?a:1);if(x<1||isNaN(x))throw new RangeError("`options.step` must be a number greater than 1");for(;o.getTime()<=i;)c.push(ye(o)),o.setDate(o.getDate()+x),o.setHours(0,0,0,0);return c}function bm(e,s){var a,r,n,l,i,c,o,x;ee(1,arguments);var d=Zs(),h=lt((a=(r=(n=(l=s==null?void 0:s.weekStartsOn)!==null&&l!==void 0?l:s==null||(i=s.locale)===null||i===void 0||(c=i.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&r!==void 0?r:(o=d.locale)===null||o===void 0||(x=o.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&a!==void 0?a:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ye(e),b=p.getDay(),m=(b<h?-7:0)+6-(b-h);return p.setDate(p.getDate()+m),p.setHours(23,59,59,999),p}function dp(e,s){ee(2,arguments);var a=lt(s);return np(e,-a)}var up=864e5;function mp(e){ee(1,arguments);var s=ye(e),a=s.getTime();s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0);var r=s.getTime(),n=a-r;return Math.floor(n/up)+1}function cn(e){ee(1,arguments);var s=1,a=ye(e),r=a.getUTCDay(),n=(r<s?7:0)+r-s;return a.setUTCDate(a.getUTCDate()-n),a.setUTCHours(0,0,0,0),a}function jm(e){ee(1,arguments);var s=ye(e),a=s.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(a+1,0,4),r.setUTCHours(0,0,0,0);var n=cn(r),l=new Date(0);l.setUTCFullYear(a,0,4),l.setUTCHours(0,0,0,0);var i=cn(l);return s.getTime()>=n.getTime()?a+1:s.getTime()>=i.getTime()?a:a-1}function xp(e){ee(1,arguments);var s=jm(e),a=new Date(0);a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0);var r=cn(a);return r}var hp=6048e5;function pp(e){ee(1,arguments);var s=ye(e),a=cn(s).getTime()-xp(s).getTime();return Math.round(a/hp)+1}function dn(e,s){var a,r,n,l,i,c,o,x;ee(1,arguments);var d=Zs(),h=lt((a=(r=(n=(l=s==null?void 0:s.weekStartsOn)!==null&&l!==void 0?l:s==null||(i=s.locale)===null||i===void 0||(c=i.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&r!==void 0?r:(o=d.locale)===null||o===void 0||(x=o.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&a!==void 0?a:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ye(e),b=p.getUTCDay(),m=(b<h?7:0)+b-h;return p.setUTCDate(p.getUTCDate()-m),p.setUTCHours(0,0,0,0),p}function ym(e,s){var a,r,n,l,i,c,o,x;ee(1,arguments);var d=ye(e),h=d.getUTCFullYear(),p=Zs(),b=lt((a=(r=(n=(l=s==null?void 0:s.firstWeekContainsDate)!==null&&l!==void 0?l:s==null||(i=s.locale)===null||i===void 0||(c=i.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:p.firstWeekContainsDate)!==null&&r!==void 0?r:(o=p.locale)===null||o===void 0||(x=o.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,b),m.setUTCHours(0,0,0,0);var g=dn(m,s),j=new Date(0);j.setUTCFullYear(h,0,b),j.setUTCHours(0,0,0,0);var f=dn(j,s);return d.getTime()>=g.getTime()?h+1:d.getTime()>=f.getTime()?h:h-1}function fp(e,s){var a,r,n,l,i,c,o,x;ee(1,arguments);var d=Zs(),h=lt((a=(r=(n=(l=s==null?void 0:s.firstWeekContainsDate)!==null&&l!==void 0?l:s==null||(i=s.locale)===null||i===void 0||(c=i.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&r!==void 0?r:(o=d.locale)===null||o===void 0||(x=o.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&a!==void 0?a:1),p=ym(e,s),b=new Date(0);b.setUTCFullYear(p,0,h),b.setUTCHours(0,0,0,0);var m=dn(b,s);return m}var gp=6048e5;function vp(e,s){ee(1,arguments);var a=ye(e),r=dn(a,s).getTime()-fp(a,s).getTime();return Math.round(r/gp)+1}function W(e,s){for(var a=e<0?"-":"",r=Math.abs(e).toString();r.length<s;)r="0"+r;return a+r}var Et={y:function(s,a){var r=s.getUTCFullYear(),n=r>0?r:1-r;return W(a==="yy"?n%100:n,a.length)},M:function(s,a){var r=s.getUTCMonth();return a==="M"?String(r+1):W(r+1,2)},d:function(s,a){return W(s.getUTCDate(),a.length)},a:function(s,a){var r=s.getUTCHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(s,a){return W(s.getUTCHours()%12||12,a.length)},H:function(s,a){return W(s.getUTCHours(),a.length)},m:function(s,a){return W(s.getUTCMinutes(),a.length)},s:function(s,a){return W(s.getUTCSeconds(),a.length)},S:function(s,a){var r=a.length,n=s.getUTCMilliseconds(),l=Math.floor(n*Math.pow(10,r-3));return W(l,a.length)}},vs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bp={G:function(s,a,r){var n=s.getUTCFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(s,a,r){if(a==="yo"){var n=s.getUTCFullYear(),l=n>0?n:1-n;return r.ordinalNumber(l,{unit:"year"})}return Et.y(s,a)},Y:function(s,a,r,n){var l=ym(s,n),i=l>0?l:1-l;if(a==="YY"){var c=i%100;return W(c,2)}return a==="Yo"?r.ordinalNumber(i,{unit:"year"}):W(i,a.length)},R:function(s,a){var r=jm(s);return W(r,a.length)},u:function(s,a){var r=s.getUTCFullYear();return W(r,a.length)},Q:function(s,a,r){var n=Math.ceil((s.getUTCMonth()+1)/3);switch(a){case"Q":return String(n);case"QQ":return W(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(s,a,r){var n=Math.ceil((s.getUTCMonth()+1)/3);switch(a){case"q":return String(n);case"qq":return W(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(s,a,r){var n=s.getUTCMonth();switch(a){case"M":case"MM":return Et.M(s,a);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(s,a,r){var n=s.getUTCMonth();switch(a){case"L":return String(n+1);case"LL":return W(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(s,a,r,n){var l=vp(s,n);return a==="wo"?r.ordinalNumber(l,{unit:"week"}):W(l,a.length)},I:function(s,a,r){var n=pp(s);return a==="Io"?r.ordinalNumber(n,{unit:"week"}):W(n,a.length)},d:function(s,a,r){return a==="do"?r.ordinalNumber(s.getUTCDate(),{unit:"date"}):Et.d(s,a)},D:function(s,a,r){var n=mp(s);return a==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):W(n,a.length)},E:function(s,a,r){var n=s.getUTCDay();switch(a){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(s,a,r,n){var l=s.getUTCDay(),i=(l-n.weekStartsOn+8)%7||7;switch(a){case"e":return String(i);case"ee":return W(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(s,a,r,n){var l=s.getUTCDay(),i=(l-n.weekStartsOn+8)%7||7;switch(a){case"c":return String(i);case"cc":return W(i,a.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(s,a,r){var n=s.getUTCDay(),l=n===0?7:n;switch(a){case"i":return String(l);case"ii":return W(l,a.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(s,a,r){var n=s.getUTCHours(),l=n/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(s,a,r){var n=s.getUTCHours(),l;switch(n===12?l=vs.noon:n===0?l=vs.midnight:l=n/12>=1?"pm":"am",a){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(s,a,r){var n=s.getUTCHours(),l;switch(n>=17?l=vs.evening:n>=12?l=vs.afternoon:n>=4?l=vs.morning:l=vs.night,a){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(s,a,r){if(a==="ho"){var n=s.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Et.h(s,a)},H:function(s,a,r){return a==="Ho"?r.ordinalNumber(s.getUTCHours(),{unit:"hour"}):Et.H(s,a)},K:function(s,a,r){var n=s.getUTCHours()%12;return a==="Ko"?r.ordinalNumber(n,{unit:"hour"}):W(n,a.length)},k:function(s,a,r){var n=s.getUTCHours();return n===0&&(n=24),a==="ko"?r.ordinalNumber(n,{unit:"hour"}):W(n,a.length)},m:function(s,a,r){return a==="mo"?r.ordinalNumber(s.getUTCMinutes(),{unit:"minute"}):Et.m(s,a)},s:function(s,a,r){return a==="so"?r.ordinalNumber(s.getUTCSeconds(),{unit:"second"}):Et.s(s,a)},S:function(s,a){return Et.S(s,a)},X:function(s,a,r,n){var l=n._originalDate||s,i=l.getTimezoneOffset();if(i===0)return"Z";switch(a){case"X":return Ac(i);case"XXXX":case"XX":return Zt(i);case"XXXXX":case"XXX":default:return Zt(i,":")}},x:function(s,a,r,n){var l=n._originalDate||s,i=l.getTimezoneOffset();switch(a){case"x":return Ac(i);case"xxxx":case"xx":return Zt(i);case"xxxxx":case"xxx":default:return Zt(i,":")}},O:function(s,a,r,n){var l=n._originalDate||s,i=l.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Rc(i,":");case"OOOO":default:return"GMT"+Zt(i,":")}},z:function(s,a,r,n){var l=n._originalDate||s,i=l.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Rc(i,":");case"zzzz":default:return"GMT"+Zt(i,":")}},t:function(s,a,r,n){var l=n._originalDate||s,i=Math.floor(l.getTime()/1e3);return W(i,a.length)},T:function(s,a,r,n){var l=n._originalDate||s,i=l.getTime();return W(i,a.length)}};function Rc(e,s){var a=e>0?"-":"+",r=Math.abs(e),n=Math.floor(r/60),l=r%60;if(l===0)return a+String(n);var i=s;return a+String(n)+i+W(l,2)}function Ac(e,s){if(e%60===0){var a=e>0?"-":"+";return a+W(Math.abs(e)/60,2)}return Zt(e,s)}function Zt(e,s){var a=s||"",r=e>0?"-":"+",n=Math.abs(e),l=W(Math.floor(n/60),2),i=W(n%60,2);return r+l+a+i}var Mc=function(s,a){switch(s){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Nm=function(s,a){switch(s){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},jp=function(s,a){var r=s.match(/(P+)(p+)?/)||[],n=r[1],l=r[2];if(!l)return Mc(s,a);var i;switch(n){case"P":i=a.dateTime({width:"short"});break;case"PP":i=a.dateTime({width:"medium"});break;case"PPP":i=a.dateTime({width:"long"});break;case"PPPP":default:i=a.dateTime({width:"full"});break}return i.replace("{{date}}",Mc(n,a)).replace("{{time}}",Nm(l,a))},yp={p:Nm,P:jp},Np=["D","DD"],wp=["YY","YYYY"];function Sp(e){return Np.indexOf(e)!==-1}function Cp(e){return wp.indexOf(e)!==-1}function _c(e,s,a){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(s,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(s,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(s,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(s,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var kp={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pp=function(s,a,r){var n,l=kp[s];return typeof l=="string"?n=l:a===1?n=l.one:n=l.other.replace("{{count}}",a.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function cl(e){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=s.width?String(s.width):e.defaultWidth,r=e.formats[a]||e.formats[e.defaultWidth];return r}}var Ep={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tp={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dp={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rp={date:cl({formats:Ep,defaultWidth:"full"}),time:cl({formats:Tp,defaultWidth:"full"}),dateTime:cl({formats:Dp,defaultWidth:"full"})},Ap={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mp=function(s,a,r,n){return Ap[s]};function oa(e){return function(s,a){var r=a!=null&&a.context?String(a.context):"standalone",n;if(r==="formatting"&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,i=a!=null&&a.width?String(a.width):l;n=e.formattingValues[i]||e.formattingValues[l]}else{var c=e.defaultWidth,o=a!=null&&a.width?String(a.width):e.defaultWidth;n=e.values[o]||e.values[c]}var x=e.argumentCallback?e.argumentCallback(s):s;return n[x]}}var _p={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Op={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lp={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ip={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Fp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$p={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Bp=function(s,a){var r=Number(s),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},zp={ordinalNumber:Bp,era:oa({values:_p,defaultWidth:"wide"}),quarter:oa({values:Op,defaultWidth:"wide",argumentCallback:function(s){return s-1}}),month:oa({values:Lp,defaultWidth:"wide"}),day:oa({values:Ip,defaultWidth:"wide"}),dayPeriod:oa({values:Fp,defaultWidth:"wide",formattingValues:$p,defaultFormattingWidth:"wide"})};function ca(e){return function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=s.match(n);if(!l)return null;var i=l[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(c)?Vp(c,function(h){return h.test(i)}):Up(c,function(h){return h.test(i)}),x;x=e.valueCallback?e.valueCallback(o):o,x=a.valueCallback?a.valueCallback(x):x;var d=s.slice(i.length);return{value:x,rest:d}}}function Up(e,s){for(var a in e)if(e.hasOwnProperty(a)&&s(e[a]))return a}function Vp(e,s){for(var a=0;a<e.length;a++)if(s(e[a]))return a}function Hp(e){return function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=s.match(e.matchPattern);if(!r)return null;var n=r[0],l=s.match(e.parsePattern);if(!l)return null;var i=e.valueCallback?e.valueCallback(l[0]):l[0];i=a.valueCallback?a.valueCallback(i):i;var c=s.slice(n.length);return{value:i,rest:c}}}var Wp=/^(\d+)(th|st|nd|rd)?/i,qp=/\d+/i,Gp={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qp={any:[/^b/i,/^(a|c)/i]},Yp={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xp={any:[/1/i,/2/i,/3/i,/4/i]},Kp={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jp={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zp={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ef={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tf={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sf={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},af={ordinalNumber:Hp({matchPattern:Wp,parsePattern:qp,valueCallback:function(s){return parseInt(s,10)}}),era:ca({matchPatterns:Gp,defaultMatchWidth:"wide",parsePatterns:Qp,defaultParseWidth:"any"}),quarter:ca({matchPatterns:Yp,defaultMatchWidth:"wide",parsePatterns:Xp,defaultParseWidth:"any",valueCallback:function(s){return s+1}}),month:ca({matchPatterns:Kp,defaultMatchWidth:"wide",parsePatterns:Jp,defaultParseWidth:"any"}),day:ca({matchPatterns:Zp,defaultMatchWidth:"wide",parsePatterns:ef,defaultParseWidth:"any"}),dayPeriod:ca({matchPatterns:tf,defaultMatchWidth:"any",parsePatterns:sf,defaultParseWidth:"any"})},rf={code:"en-US",formatDistance:Pp,formatLong:Rp,formatRelative:Mp,localize:zp,match:af,options:{weekStartsOn:0,firstWeekContainsDate:1}},nf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lf=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,of=/^'([^]*?)'?$/,cf=/''/g,df=/[a-zA-Z]/;function Q(e,s,a){var r,n,l,i,c,o,x,d,h,p,b,m,g,j;ee(2,arguments);var f=String(s),v=Zs(),u=(r=(n=void 0)!==null&&n!==void 0?n:v.locale)!==null&&r!==void 0?r:rf,y=lt((l=(i=(c=(o=void 0)!==null&&o!==void 0?o:void 0)!==null&&c!==void 0?c:v.firstWeekContainsDate)!==null&&i!==void 0?i:(x=v.locale)===null||x===void 0||(d=x.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=lt((h=(p=(b=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&b!==void 0?b:v.weekStartsOn)!==null&&p!==void 0?p:(g=v.locale)===null||g===void 0||(j=g.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&h!==void 0?h:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var N=ye(e);if(!cp(N))throw new RangeError("Invalid time value");var w=ip(N),C=dp(N,w),A={firstWeekContainsDate:y,weekStartsOn:k,locale:u,_originalDate:N},M=f.match(lf).map(function(T){var $=T[0];if($==="p"||$==="P"){var E=yp[$];return E(T,u.formatLong)}return T}).join("").match(nf).map(function(T){if(T==="''")return"'";var $=T[0];if($==="'")return uf(T);var E=bp[$];if(E)return Cp(T)&&_c(T,s,String(e)),Sp(T)&&_c(T,s,String(e)),E(C,T,u.localize,A);if($.match(df))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return T}).join("");return M}function uf(e){var s=e.match(of);return s?s[1].replace(cf,"'"):e}function mf(e){return ee(1,arguments),An(e,Date.now())}function xf(e){return ee(1,arguments),An(e,Ja(Date.now(),1))}function hf(e,s){var a;ee(1,arguments);var r=lt((a=void 0)!==null&&a!==void 0?a:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=vf(e),l;if(n.date){var i=bf(n.date,r);l=jf(i.restDateString,i.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);var c=l.getTime(),o=0,x;if(n.time&&(o=yf(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(x=Nf(n.timezone),isNaN(x))return new Date(NaN)}else{var d=new Date(c+o),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(c+o+x)}var br={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pf=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ff=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gf=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vf(e){var s={},a=e.split(br.dateTimeDelimiter),r;if(a.length>2)return s;if(/:/.test(a[0])?r=a[0]:(s.date=a[0],r=a[1],br.timeZoneDelimiter.test(s.date)&&(s.date=e.split(br.timeZoneDelimiter)[0],r=e.substr(s.date.length,e.length))),r){var n=br.timezone.exec(r);n?(s.time=r.replace(n[1],""),s.timezone=n[1]):s.time=r}return s}function bf(e,s){var a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),r=e.match(a);if(!r)return{year:NaN,restDateString:""};var n=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?n:l*100,restDateString:e.slice((r[1]||r[2]).length)}}function jf(e,s){if(s===null)return new Date(NaN);var a=e.match(pf);if(!a)return new Date(NaN);var r=!!a[4],n=da(a[1]),l=da(a[2])-1,i=da(a[3]),c=da(a[4]),o=da(a[5])-1;if(r)return Pf(s,c,o)?wf(s,c,o):new Date(NaN);var x=new Date(0);return!Cf(s,l,i)||!kf(s,n)?new Date(NaN):(x.setUTCFullYear(s,l,Math.max(n,i)),x)}function da(e){return e?parseInt(e):1}function yf(e){var s=e.match(ff);if(!s)return NaN;var a=dl(s[1]),r=dl(s[2]),n=dl(s[3]);return Ef(a,r,n)?a*gm+r*fm+n*1e3:NaN}function dl(e){return e&&parseFloat(e.replace(",","."))||0}function Nf(e){if(e==="Z")return 0;var s=e.match(gf);if(!s)return 0;var a=s[1]==="+"?-1:1,r=parseInt(s[2]),n=s[3]&&parseInt(s[3])||0;return Tf(r,n)?a*(r*gm+n*fm):NaN}function wf(e,s,a){var r=new Date(0);r.setUTCFullYear(e,0,4);var n=r.getUTCDay()||7,l=(s-1)*7+a+1-n;return r.setUTCDate(r.getUTCDate()+l),r}var Sf=[31,null,31,30,31,30,31,31,30,31,30,31];function wm(e){return e%400===0||e%4===0&&e%100!==0}function Cf(e,s,a){return s>=0&&s<=11&&a>=1&&a<=(Sf[s]||(wm(e)?29:28))}function kf(e,s){return s>=1&&s<=(wm(e)?366:365)}function Pf(e,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function Ef(e,s,a){return e===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&e>=0&&e<25}function Tf(e,s){return s>=0&&s<=59}const Df={appointments:[],barbers:[],services:[],clients:[],selectedDate:new Date,viewMode:"day",loading:!1,error:null};function Rf(e,s){switch(s.type){case"SET_LOADING":return{...e,loading:s.payload};case"SET_ERROR":return{...e,error:s.payload};case"SET_APPOINTMENTS":return{...e,appointments:s.payload};case"ADD_APPOINTMENT":return{...e,appointments:[...e.appointments,s.payload]};case"UPDATE_APPOINTMENT":return{...e,appointments:e.appointments.map(a=>a.id===s.payload.id?s.payload:a)};case"DELETE_APPOINTMENT":return{...e,appointments:e.appointments.filter(a=>a.id!==s.payload)};case"SET_BARBERS":return{...e,barbers:s.payload};case"SET_SERVICES":return{...e,services:s.payload};case"SET_CLIENTS":return{...e,clients:s.payload};case"SET_SELECTED_DATE":return{...e,selectedDate:s.payload};case"SET_VIEW_MODE":return{...e,viewMode:s.payload};default:return e}}const Sm=S.createContext(null);function Af({children:e}){const[s,a]=S.useReducer(Rf,Df);S.useEffect(()=>{r()},[]);const r=async()=>{a({type:"SET_LOADING",payload:!0});try{const x=[{id:"b1",name:"João Silva",email:"joao@barbearia.com",phone:"11988887777",avatar:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=150",specialties:["Corte tradicional","Barba","Bigode"],rating:4.8,workingHours:[{dayOfWeek:1,startTime:"08:00",endTime:"18:00",isWorking:!0},{dayOfWeek:2,startTime:"08:00",endTime:"18:00",isWorking:!0},{dayOfWeek:3,startTime:"08:00",endTime:"18:00",isWorking:!0},{dayOfWeek:4,startTime:"08:00",endTime:"18:00",isWorking:!0},{dayOfWeek:5,startTime:"08:00",endTime:"18:00",isWorking:!0},{dayOfWeek:6,startTime:"08:00",endTime:"16:00",isWorking:!0},{dayOfWeek:0,startTime:"09:00",endTime:"15:00",isWorking:!1}],isActive:!0,commissionRate:.6},{id:"b2",name:"Pedro Santos",email:"pedro@barbearia.com",phone:"11977776666",avatar:"https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=150",specialties:["Corte moderno","Fade","Sobrancelha"],rating:4.6,workingHours:[{dayOfWeek:1,startTime:"09:00",endTime:"19:00",isWorking:!0},{dayOfWeek:2,startTime:"09:00",endTime:"19:00",isWorking:!0},{dayOfWeek:3,startTime:"09:00",endTime:"19:00",isWorking:!0},{dayOfWeek:4,startTime:"09:00",endTime:"19:00",isWorking:!0},{dayOfWeek:5,startTime:"09:00",endTime:"19:00",isWorking:!0},{dayOfWeek:6,startTime:"08:00",endTime:"16:00",isWorking:!0},{dayOfWeek:0,startTime:"09:00",endTime:"15:00",isWorking:!1}],isActive:!0,commissionRate:.5}],d=[{id:"s1",name:"Corte de Cabelo",description:"Corte tradicional ou moderno personalizado",duration:30,price:35,category:"Cabelo",isActive:!0,image:"https://images.pexels.com/photos/1319460/pexels-photo-1319460.jpeg?auto=compress&cs=tinysrgb&w=300"},{id:"s2",name:"Barba Completa",description:"Aparar, modelar e finalizar barba",duration:25,price:25,category:"Barba",isActive:!0,image:"https://images.pexels.com/photos/1570807/pexels-photo-1570807.jpeg?auto=compress&cs=tinysrgb&w=300"},{id:"s3",name:"Corte + Barba",description:"Pacote completo com corte e barba",duration:50,price:55,category:"Combo",isActive:!0,image:"https://images.pexels.com/photos/1570807/pexels-photo-1570807.jpeg?auto=compress&cs=tinysrgb&w=300"},{id:"s4",name:"Sobrancelha",description:"Design e modelagem de sobrancelha",duration:15,price:15,category:"Estética",isActive:!0,image:"https://images.pexels.com/photos/3993449/pexels-photo-3993449.jpeg?auto=compress&cs=tinysrgb&w=300"},{id:"s5",name:"Lavagem + Hidratação",description:"Lavagem completa com produtos premium",duration:20,price:20,category:"Tratamento",isActive:!0,image:"https://images.pexels.com/photos/3993449/pexels-photo-3993449.jpeg?auto=compress&cs=tinysrgb&w=300"}],h=[{id:"c1",name:"Carlos Oliveira",email:"carlos@email.com",phone:"11955554444",preferences:{preferredBarber:"b1",preferredServices:["s1","s2"],notes:"Prefere corte baixo nas laterais"},loyaltyPoints:150,totalSpent:280,lastVisit:new Date("2024-01-10"),createdAt:new Date("2023-06-15")}],p=[{id:"a1",clientId:"c1",clientName:"Carlos Oliveira",clientPhone:"11955554444",clientEmail:"carlos@email.com",barberId:"b1",barberName:"João Silva",serviceIds:["s1","s2"],services:d.filter(b=>["s1","s2"].includes(b.id)),date:Q(new Date,"yyyy-MM-dd"),startTime:"10:00",endTime:"10:55",totalDuration:55,totalPrice:60,status:"confirmed",reminderSent:!1,confirmationSent:!0,createdAt:new Date,updatedAt:new Date}];a({type:"SET_BARBERS",payload:x}),a({type:"SET_SERVICES",payload:d}),a({type:"SET_CLIENTS",payload:h}),a({type:"SET_APPOINTMENTS",payload:p})}catch{a({type:"SET_ERROR",payload:"Failed to load data"})}finally{a({type:"SET_LOADING",payload:!1})}},n=(x,d)=>{const h=s.barbers.find(k=>k.id===x);if(!h)return[];const p=d.getDay(),b=h.workingHours.find(k=>k.dayOfWeek===p);if(!b||!b.isWorking)return[];const m=[],g=parseInt(b.startTime.split(":")[0]),j=parseInt(b.startTime.split(":")[1]),f=parseInt(b.endTime.split(":")[0]),v=parseInt(b.endTime.split(":")[1]),u=g*60+j,y=f*60+v;for(let k=u;k<y;k+=30){const N=Math.floor(k/60),w=k%60,C=`${N.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`,A=Q(d,"yyyy-MM-dd");s.appointments.some(T=>T.barberId===x&&T.date===A&&T.startTime<=C&&T.endTime>C&&T.status!=="cancelled")||m.push(C)}return m},l=(x,d)=>{const h=s.barbers.find(j=>j.id===x),p=Q(d,"yyyy-MM-dd");if(!h)return{barberId:x,date:p,workingHours:{startTime:"09:00",endTime:"18:00"},blockedSlots:[],appointments:[]};const b=d.getDay(),m=h.workingHours.find(j=>j.dayOfWeek===b),g=s.appointments.filter(j=>j.barberId===x&&j.date===p);return{barberId:x,date:p,workingHours:m?{startTime:m.startTime,endTime:m.endTime}:{startTime:"09:00",endTime:"18:00"},blockedSlots:[],appointments:g}},i=async x=>{try{const d={...x,id:`apt_${Date.now()}`,createdAt:new Date,updatedAt:new Date};a({type:"ADD_APPOINTMENT",payload:d}),console.log("Appointment booked:",d)}catch(d){throw a({type:"SET_ERROR",payload:"Failed to book appointment"}),d}},c=async x=>{try{const d=s.appointments.find(h=>h.id===x);if(d){const h={...d,status:"cancelled",updatedAt:new Date};a({type:"UPDATE_APPOINTMENT",payload:h})}}catch(d){throw a({type:"SET_ERROR",payload:"Failed to cancel appointment"}),d}},o=async(x,d,h)=>{try{const p=s.appointments.find(b=>b.id===x);if(p){const b=h,g=parseInt(b.split(":")[0])*60+parseInt(b.split(":")[1])+p.totalDuration,j=`${Math.floor(g/60).toString().padStart(2,"0")}:${(g%60).toString().padStart(2,"0")}`,f={...p,date:d,startTime:b,endTime:j,updatedAt:new Date};a({type:"UPDATE_APPOINTMENT",payload:f})}}catch(p){throw a({type:"SET_ERROR",payload:"Failed to reschedule appointment"}),p}};return t.jsx(Sm.Provider,{value:{state:s,dispatch:a,getAvailableSlots:n,getBarberAvailability:l,bookAppointment:i,cancelAppointment:c,rescheduleAppointment:o},children:e})}function Za(){const e=S.useContext(Sm);if(!e)throw new Error("useScheduling must be used within a SchedulingProvider");return e}const Mf={clients:[],selectedClient:null,searchFilters:{},communicationTemplates:[],scheduledMessages:[],loading:!1,error:null};function _f(e,s){var a,r;switch(s.type){case"SET_LOADING":return{...e,loading:s.payload};case"SET_ERROR":return{...e,error:s.payload};case"SET_CLIENTS":return{...e,clients:s.payload};case"ADD_CLIENT":return{...e,clients:[...e.clients,s.payload]};case"UPDATE_CLIENT":return{...e,clients:e.clients.map(n=>n.id===s.payload.id?s.payload:n),selectedClient:((a=e.selectedClient)==null?void 0:a.id)===s.payload.id?s.payload:e.selectedClient};case"DELETE_CLIENT":return{...e,clients:e.clients.filter(n=>n.id!==s.payload),selectedClient:((r=e.selectedClient)==null?void 0:r.id)===s.payload?null:e.selectedClient};case"SET_SELECTED_CLIENT":return{...e,selectedClient:s.payload};case"SET_SEARCH_FILTERS":return{...e,searchFilters:s.payload};case"SET_COMMUNICATION_TEMPLATES":return{...e,communicationTemplates:s.payload};case"SET_SCHEDULED_MESSAGES":return{...e,scheduledMessages:s.payload};default:return e}}const Cm=S.createContext(null);function Of({children:e}){const[s,a]=S.useReducer(_f,Mf);S.useEffect(()=>{r()},[]);const r=async()=>{a({type:"SET_LOADING",payload:!0});try{const d=[{id:"c1",fullName:"Maria Silva Santos",phone:"11987654321",email:"maria.silva@email.com",birthDate:new Date("1985-03-15"),address:{street:"Rua das Flores",number:"123",complement:"Apto 45",neighborhood:"Centro",city:"São Paulo",state:"SP",zipCode:"01234-567"},cpf:"123.456.789-00",photo:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150",documents:[],termsAccepted:[{id:"t1",termType:"privacy_policy",version:"1.0",acceptedAt:new Date("2024-01-01"),ipAddress:"192.168.1.1"}],preferences:{favoriteServices:["s1","s3"],preferredProfessional:"b1",specialNotes:"Prefere horários pela manhã",allergies:["Níquel"],restrictions:[],preferredFrequency:"monthly",preferredTimeSlots:["09:00","10:00","11:00"],preferredDays:[1,2,3,4,5]},loyaltyProgram:{currentPoints:450,totalPointsEarned:1200,totalPointsRedeemed:750,currentLevel:"silver",nextLevelPoints:550,benefits:[{id:"b1",type:"discount",description:"10% de desconto em todos os serviços",value:10,isActive:!0}],pointsHistory:[{id:"p1",type:"earned",points:55,description:"Corte + Escova",relatedServiceId:"sr1",createdAt:new Date("2024-01-10")}]},serviceHistory:[{id:"sr1",serviceId:"s1",serviceName:"Corte + Escova",professionalId:"b1",professionalName:"Ana Costa",date:new Date("2024-01-10"),duration:60,price:55,finalPrice:55,status:"completed",pointsEarned:55}],productHistory:[],feedbackHistory:[{id:"f1",serviceId:"sr1",rating:5,comment:"Excelente atendimento! Adorei o resultado.",professionalRating:5,serviceRating:5,facilityRating:5,wouldRecommend:!0,createdAt:new Date("2024-01-10"),isPublic:!0}],photoGallery:[],communicationPreferences:{whatsapp:!0,email:!0,sms:!1,phone:!1,marketingConsent:!0,reminderPreference:"1_day",birthdayMessages:!0,promotionalMessages:!0},createdAt:new Date("2023-06-15"),updatedAt:new Date("2024-01-10"),lastVisit:new Date("2024-01-10"),totalSpent:1200,visitCount:22,status:"active",lgpdConsent:{dataProcessingConsent:!0,marketingConsent:!0,dataRetentionPeriod:5,consentDate:new Date("2023-06-15"),lastUpdated:new Date("2023-06-15"),dataPortabilityRequests:[],deletionRequests:[]}},{id:"c2",fullName:"Ana Paula Oliveira",phone:"11976543210",email:"ana.paula@email.com",birthDate:new Date("1990-07-22"),photo:"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=150",documents:[],termsAccepted:[],preferences:{favoriteServices:["s2","s4"],preferredProfessional:"b2",specialNotes:"Cabelo sensível, usar produtos hipoalergênicos",allergies:["Parafenilenodiamina"],restrictions:["Não usar produtos com amônia"],preferredFrequency:"biweekly",preferredTimeSlots:["14:00","15:00","16:00"],preferredDays:[2,4,6]},loyaltyProgram:{currentPoints:180,totalPointsEarned:380,totalPointsRedeemed:200,currentLevel:"bronze",nextLevelPoints:320,benefits:[],pointsHistory:[]},serviceHistory:[],productHistory:[],feedbackHistory:[],photoGallery:[],communicationPreferences:{whatsapp:!0,email:!1,sms:!0,phone:!1,marketingConsent:!1,reminderPreference:"2_hours",birthdayMessages:!0,promotionalMessages:!1},createdAt:new Date("2023-09-20"),updatedAt:new Date("2024-01-05"),lastVisit:new Date("2024-01-05"),totalSpent:380,visitCount:8,status:"active",lgpdConsent:{dataProcessingConsent:!0,marketingConsent:!1,dataRetentionPeriod:3,consentDate:new Date("2023-09-20"),lastUpdated:new Date("2023-09-20"),dataPortabilityRequests:[],deletionRequests:[]}}],h=[{id:"tmpl1",name:"Boas-vindas",type:"welcome",channel:"whatsapp",content:"Olá {{nome}}! Bem-vinda ao nosso salão! 💄✨",variables:["nome"],isActive:!0,createdAt:new Date},{id:"tmpl2",name:"Lembrete de Agendamento",type:"reminder",channel:"whatsapp",content:"Oi {{nome}}! Lembrete: você tem agendamento amanhã às {{horario}} com {{profissional}}. Confirma? 😊",variables:["nome","horario","profissional"],isActive:!0,createdAt:new Date},{id:"tmpl3",name:"Aniversário",type:"birthday",channel:"whatsapp",content:"🎉 Parabéns, {{nome}}! Que tal comemorar com um desconto especial de 20% em qualquer serviço? 🎂",variables:["nome"],isActive:!0,createdAt:new Date}];a({type:"SET_CLIENTS",payload:d}),a({type:"SET_COMMUNICATION_TEMPLATES",payload:h})}catch{a({type:"SET_ERROR",payload:"Failed to load client data"})}finally{a({type:"SET_LOADING",payload:!1})}},n=d=>s.clients.filter(h=>{if(d.name&&!h.fullName.toLowerCase().includes(d.name.toLowerCase())||d.phone&&!h.phone.includes(d.phone)||d.email&&!h.email.toLowerCase().includes(d.email.toLowerCase())||d.lastVisitFrom&&h.lastVisit&&h.lastVisit<d.lastVisitFrom||d.lastVisitTo&&h.lastVisit&&h.lastVisit>d.lastVisitTo||d.totalSpentMin&&h.totalSpent<d.totalSpentMin||d.totalSpentMax&&h.totalSpent>d.totalSpentMax||d.loyaltyLevel&&!d.loyaltyLevel.includes(h.loyaltyProgram.currentLevel)||d.status&&!d.status.includes(h.status))return!1;if(d.hasAllergies!==void 0){const p=h.preferences.allergies.length>0;if(d.hasAllergies!==p)return!1}if(d.birthdayMonth!==void 0){const p=h.birthDate.getMonth()+1;if(d.birthdayMonth!==p)return!1}return!0}),l=d=>d>=2e3?"platinum":d>=1e3?"gold":d>=500?"silver":"bronze",i=(d,h)=>{switch(h){case"bronze":return 500-d;case"silver":return 1e3-d;case"gold":return 2e3-d;default:return 0}},c=(d,h,p)=>{const b=s.clients.find(m=>m.id===d);if(b){const m=b.loyaltyProgram.currentPoints+h,g=l(m),j={...b,loyaltyProgram:{...b.loyaltyProgram,currentPoints:m,totalPointsEarned:b.loyaltyProgram.totalPointsEarned+h,currentLevel:g,nextLevelPoints:i(m,g),pointsHistory:[...b.loyaltyProgram.pointsHistory,{id:`p_${Date.now()}`,type:"earned",points:h,description:p,createdAt:new Date}]},updatedAt:new Date};a({type:"UPDATE_CLIENT",payload:j})}},o=async d=>{const h=s.clients.find(m=>m.id===d);if(!h)throw new Error("Cliente não encontrado");const p={...h,exportedAt:new Date().toISOString(),exportReason:"Solicitação de portabilidade de dados (LGPD)"},b=JSON.stringify(p,null,2);return new Blob([b],{type:"application/json"})},x=async(d,h,p)=>{const b=s.clients.find(g=>g.id===d),m=s.communicationTemplates.find(g=>g.id===h);if(!b||!m)throw new Error("Cliente ou template não encontrado");console.log(`Sending ${m.channel} message to ${b.fullName}:`,{template:m.content,variables:p})};return t.jsx(Cm.Provider,{value:{state:s,dispatch:a,searchClients:n,getLoyaltyLevel:l,calculateNextLevelPoints:i,addPointsToClient:c,exportClientData:o,sendMessage:x},children:e})}function fs(){const e=S.useContext(Cm);if(!e)throw new Error("useClient must be used within a ClientProvider");return e}const Lf={professionals:[],selectedProfessional:null,scheduleEvents:[],commissionReports:[],performanceReports:[],searchFilters:{},loading:!1,error:null};function If(e,s){var a,r;switch(s.type){case"SET_LOADING":return{...e,loading:s.payload};case"SET_ERROR":return{...e,error:s.payload};case"SET_PROFESSIONALS":return{...e,professionals:s.payload};case"ADD_PROFESSIONAL":return{...e,professionals:[...e.professionals,s.payload]};case"UPDATE_PROFESSIONAL":return{...e,professionals:e.professionals.map(n=>n.id===s.payload.id?s.payload:n),selectedProfessional:((a=e.selectedProfessional)==null?void 0:a.id)===s.payload.id?s.payload:e.selectedProfessional};case"DELETE_PROFESSIONAL":return{...e,professionals:e.professionals.filter(n=>n.id!==s.payload),selectedProfessional:((r=e.selectedProfessional)==null?void 0:r.id)===s.payload?null:e.selectedProfessional};case"SET_SELECTED_PROFESSIONAL":return{...e,selectedProfessional:s.payload};case"SET_SCHEDULE_EVENTS":return{...e,scheduleEvents:s.payload};case"ADD_SCHEDULE_EVENT":return{...e,scheduleEvents:[...e.scheduleEvents,s.payload]};case"UPDATE_SCHEDULE_EVENT":return{...e,scheduleEvents:e.scheduleEvents.map(n=>n.id===s.payload.id?s.payload:n)};case"DELETE_SCHEDULE_EVENT":return{...e,scheduleEvents:e.scheduleEvents.filter(n=>n.id!==s.payload)};case"SET_COMMISSION_REPORTS":return{...e,commissionReports:s.payload};case"SET_PERFORMANCE_REPORTS":return{...e,performanceReports:s.payload};case"SET_SEARCH_FILTERS":return{...e,searchFilters:s.payload};default:return e}}const km=S.createContext(null);function Ff({children:e}){const[s,a]=S.useReducer(If,Lf);S.useEffect(()=>{r()},[]);const r=async()=>{a({type:"SET_LOADING",payload:!0});try{const h=[{id:"p1",fullName:"João Silva Santos",cpf:"123.456.789-00",rg:"12.345.678-9",birthDate:new Date("1985-03-15"),address:{street:"Rua dos Barbeiros",number:"123",complement:"Sala 1",neighborhood:"Centro",city:"São Paulo",state:"SP",zipCode:"01234-567"},phone:"11987654321",email:"joao.silva@barbearia.com",whatsapp:"11987654321",photo:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=150",specialties:["Corte Tradicional","Barba","Bigode","Sobrancelha"],services:[{serviceId:"s1",serviceName:"Corte de Cabelo",commissionRate:60,isActive:!0,minimumPrice:25,maximumPrice:50},{serviceId:"s2",serviceName:"Barba Completa",commissionRate:65,isActive:!0,minimumPrice:20,maximumPrice:35}],workingHours:{regularHours:{monday:{isWorking:!0,startTime:"08:00",endTime:"18:00",breakStart:"12:00",breakEnd:"13:00"},tuesday:{isWorking:!0,startTime:"08:00",endTime:"18:00",breakStart:"12:00",breakEnd:"13:00"},wednesday:{isWorking:!0,startTime:"08:00",endTime:"18:00",breakStart:"12:00",breakEnd:"13:00"},thursday:{isWorking:!0,startTime:"08:00",endTime:"18:00",breakStart:"12:00",breakEnd:"13:00"},friday:{isWorking:!0,startTime:"08:00",endTime:"18:00",breakStart:"12:00",breakEnd:"13:00"},saturday:{isWorking:!0,startTime:"08:00",endTime:"16:00"},sunday:{isWorking:!1,startTime:"",endTime:""}},fixedDaysOff:[0],vacations:[],absences:[],specialSchedules:[]},admissionDate:new Date("2023-01-15"),contractType:"employee",status:"active",documents:[{id:"d1",type:"certificate",name:"Certificado de Barbeiro",description:"Certificado profissional de barbeiro",url:"/documents/certificate-joao.pdf",expiresAt:new Date("2025-12-31"),uploadedAt:new Date("2023-01-15"),uploadedBy:"admin"}],metrics:{totalAppointments:450,completedAppointments:425,cancelledAppointments:15,noShowAppointments:10,totalRevenue:18750,totalCommissions:11250,averageTicket:42,averageRating:4.8,totalReviews:380,recommendationRate:95,punctualityRate:98,rebookingRate:75,periodStart:new Date("2024-01-01"),periodEnd:new Date("2024-12-31"),lastUpdated:new Date},settings:{notifications:{email:!0,sms:!0,whatsapp:!0,push:!0},schedulePreferences:{allowOnlineBooking:!0,requireConfirmation:!1,maxAdvanceBookingDays:30,minAdvanceBookingHours:2,allowSameDayBooking:!0},systemAccess:{canViewOwnSchedule:!0,canEditOwnSchedule:!0,canViewOwnMetrics:!0,canViewClientHistory:!0,canManageOwnServices:!1}},createdAt:new Date("2023-01-15"),updatedAt:new Date,createdBy:"admin"},{id:"p2",fullName:"Pedro Santos Oliveira",cpf:"987.654.321-00",rg:"98.765.432-1",birthDate:new Date("1990-07-22"),address:{street:"Avenida Principal",number:"456",neighborhood:"Vila Nova",city:"São Paulo",state:"SP",zipCode:"04567-890"},phone:"11976543210",email:"pedro.santos@barbearia.com",whatsapp:"11976543210",photo:"https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=150",specialties:["Corte Moderno","Fade","Desenho","Coloração"],services:[{serviceId:"s1",serviceName:"Corte de Cabelo",commissionRate:55,isActive:!0,minimumPrice:30,maximumPrice:60},{serviceId:"s3",serviceName:"Corte + Barba",commissionRate:50,isActive:!0,minimumPrice:45,maximumPrice:80}],workingHours:{regularHours:{monday:{isWorking:!0,startTime:"09:00",endTime:"19:00",breakStart:"13:00",breakEnd:"14:00"},tuesday:{isWorking:!0,startTime:"09:00",endTime:"19:00",breakStart:"13:00",breakEnd:"14:00"},wednesday:{isWorking:!0,startTime:"09:00",endTime:"19:00",breakStart:"13:00",breakEnd:"14:00"},thursday:{isWorking:!0,startTime:"09:00",endTime:"19:00",breakStart:"13:00",breakEnd:"14:00"},friday:{isWorking:!0,startTime:"09:00",endTime:"19:00",breakStart:"13:00",breakEnd:"14:00"},saturday:{isWorking:!0,startTime:"08:00",endTime:"16:00"},sunday:{isWorking:!1,startTime:"",endTime:""}},fixedDaysOff:[0],vacations:[],absences:[],specialSchedules:[]},admissionDate:new Date("2023-06-01"),contractType:"freelancer",status:"active",documents:[],metrics:{totalAppointments:320,completedAppointments:305,cancelledAppointments:10,noShowAppointments:5,totalRevenue:16800,totalCommissions:8400,averageTicket:52,averageRating:4.6,totalReviews:280,recommendationRate:92,punctualityRate:96,rebookingRate:68,periodStart:new Date("2024-01-01"),periodEnd:new Date("2024-12-31"),lastUpdated:new Date},settings:{notifications:{email:!0,sms:!1,whatsapp:!0,push:!0},schedulePreferences:{allowOnlineBooking:!0,requireConfirmation:!0,maxAdvanceBookingDays:21,minAdvanceBookingHours:4,allowSameDayBooking:!1},systemAccess:{canViewOwnSchedule:!0,canEditOwnSchedule:!1,canViewOwnMetrics:!0,canViewClientHistory:!1,canManageOwnServices:!1}},createdAt:new Date("2023-06-01"),updatedAt:new Date,createdBy:"admin"}],p=[{id:"e1",professionalId:"p1",type:"appointment",title:"Carlos Silva - Corte + Barba",startDate:new Date,endDate:new Date,startTime:"09:00",endTime:"10:00",clientId:"c1",clientName:"Carlos Silva",serviceId:"s3",serviceName:"Corte + Barba",status:"confirmed",color:"#10B981"}];a({type:"SET_PROFESSIONALS",payload:h}),a({type:"SET_SCHEDULE_EVENTS",payload:p})}catch{a({type:"SET_ERROR",payload:"Failed to load professional data"})}finally{a({type:"SET_LOADING",payload:!1})}},n=h=>s.professionals.filter(p=>!(h.name&&!p.fullName.toLowerCase().includes(h.name.toLowerCase())||h.specialty&&!p.specialties.some(b=>b.toLowerCase().includes(h.specialty.toLowerCase()))||h.status&&!h.status.includes(p.status)||h.contractType&&!h.contractType.includes(p.contractType)||h.admissionDateFrom&&p.admissionDate<h.admissionDateFrom||h.admissionDateTo&&p.admissionDate>h.admissionDateTo||h.averageRatingMin&&p.metrics.averageRating<h.averageRatingMin||h.totalRevenueMin&&p.metrics.totalRevenue<h.totalRevenueMin||h.totalRevenueMax&&p.metrics.totalRevenue>h.totalRevenueMax||h.hasDocumentExpiring&&!p.documents.some(m=>m.expiresAt&&m.expiresAt<=new Date(Date.now()+2592e6)))),l=(h,p)=>{const b=s.professionals.find(v=>v.id===h),m=p.toISOString().split("T")[0],g=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][p.getDay()];if(!b)return{professionalId:h,date:m,isAvailable:!1,breaks:[],appointments:[],blockedSlots:[]};const j=b.workingHours.regularHours[g],f=s.scheduleEvents.filter(v=>v.professionalId===h&&v.startDate.toISOString().split("T")[0]===m);return{professionalId:h,date:m,isAvailable:(j==null?void 0:j.isWorking)||!1,workingHours:j!=null&&j.isWorking?{start:j.startTime,end:j.endTime}:void 0,breaks:j!=null&&j.breakStart&&(j!=null&&j.breakEnd)?[{start:j.breakStart,end:j.breakEnd,reason:"Intervalo para almoço"}]:[],appointments:f.filter(v=>v.type==="appointment").map(v=>({id:v.id,startTime:v.startTime,endTime:v.endTime,clientName:v.clientName||"",serviceName:v.serviceName||"",status:v.status})),blockedSlots:f.filter(v=>v.type!=="appointment").map(v=>({startTime:v.startTime,endTime:v.endTime,reason:v.title}))}},i=async(h,p,b)=>{const m=s.professionals.find(j=>j.id===h);if(!m)throw new Error("Professional not found");const g={professionalId:h,professionalName:m.fullName,period:{start:p,end:b},services:m.services.map(j=>({serviceId:j.serviceId,serviceName:j.serviceName,appointmentCount:Math.floor(Math.random()*50)+10,totalRevenue:Math.floor(Math.random()*5e3)+1e3,commissionRate:j.commissionRate,commissionAmount:0})),totalRevenue:0,totalCommission:0,netCommission:0,paymentStatus:"pending"};return g.totalRevenue=g.services.reduce((j,f)=>j+f.totalRevenue,0),g.services.forEach(j=>{j.commissionAmount=j.totalRevenue*j.commissionRate/100}),g.totalCommission=g.services.reduce((j,f)=>j+f.commissionAmount,0),g.netCommission=g.totalCommission,g},c=async(h,p,b)=>{const m=s.professionals.find(j=>j.id===h);if(!m)throw new Error("Professional not found");return{professionalId:h,professionalName:m.fullName,period:{start:p,end:b},metrics:{totalAppointments:m.metrics.totalAppointments,completedAppointments:m.metrics.completedAppointments,completionRate:m.metrics.completedAppointments/m.metrics.totalAppointments*100,averageRating:m.metrics.averageRating,totalRevenue:m.metrics.totalRevenue,averageTicket:m.metrics.averageTicket,punctualityRate:m.metrics.punctualityRate,rebookingRate:m.metrics.rebookingRate,noShowRate:m.metrics.noShowAppointments/m.metrics.totalAppointments*100,cancellationRate:m.metrics.cancelledAppointments/m.metrics.totalAppointments*100},comparison:{previousPeriod:{totalAppointments:m.metrics.totalAppointments-50,totalRevenue:m.metrics.totalRevenue-2e3,averageRating:m.metrics.averageRating-.1},growth:{appointments:12.5,revenue:15.8,rating:2.1}},ranking:{position:1,totalProfessionals:s.professionals.length,category:"revenue"}}},o=async(h,p)=>{const m=[...s.scheduleEvents.filter(g=>g.professionalId!==h),...p];a({type:"SET_SCHEDULE_EVENTS",payload:m})},x=async(h,p,b,m)=>{const g=s.professionals.find(v=>v.id===h);if(!g)return;const j={id:`v_${Date.now()}`,startDate:p,endDate:b,type:"vacation",status:"pending",reason:m},f={...g,workingHours:{...g.workingHours,vacations:[...g.workingHours.vacations,j]},updatedAt:new Date};a({type:"UPDATE_PROFESSIONAL",payload:f})},d=async(h,p,b,m)=>{const g=s.professionals.find(v=>v.id===h);if(!g)return;const j={id:`a_${Date.now()}`,date:p,type:b,isJustified:!0,reason:m,reportedAt:new Date,reportedBy:h},f={...g,workingHours:{...g.workingHours,absences:[...g.workingHours.absences,j]},updatedAt:new Date};a({type:"UPDATE_PROFESSIONAL",payload:f})};return t.jsx(km.Provider,{value:{state:s,dispatch:a,searchProfessionals:n,getProfessionalAvailability:l,generateCommissionReport:i,generatePerformanceReport:c,updateSchedule:o,requestVacation:x,reportAbsence:d},children:e})}function Mn(){const e=S.useContext(km);if(!e)throw new Error("useProfessional must be used within a ProfessionalProvider");return e}const $f={services:[],packages:[],selectedService:null,selectedPackage:null,searchFilters:{},packageFilters:{},loading:!1,error:null};function Bf(e,s){var a,r,n,l;switch(s.type){case"SET_LOADING":return{...e,loading:s.payload};case"SET_ERROR":return{...e,error:s.payload};case"SET_SERVICES":return{...e,services:s.payload};case"ADD_SERVICE":return{...e,services:[...e.services,s.payload]};case"UPDATE_SERVICE":return{...e,services:e.services.map(i=>i.id===s.payload.id?s.payload:i),selectedService:((a=e.selectedService)==null?void 0:a.id)===s.payload.id?s.payload:e.selectedService};case"DELETE_SERVICE":return{...e,services:e.services.filter(i=>i.id!==s.payload),selectedService:((r=e.selectedService)==null?void 0:r.id)===s.payload?null:e.selectedService};case"SET_PACKAGES":return{...e,packages:s.payload};case"ADD_PACKAGE":return{...e,packages:[...e.packages,s.payload]};case"UPDATE_PACKAGE":return{...e,packages:e.packages.map(i=>i.id===s.payload.id?s.payload:i),selectedPackage:((n=e.selectedPackage)==null?void 0:n.id)===s.payload.id?s.payload:e.selectedPackage};case"DELETE_PACKAGE":return{...e,packages:e.packages.filter(i=>i.id!==s.payload),selectedPackage:((l=e.selectedPackage)==null?void 0:l.id)===s.payload?null:e.selectedPackage};case"SET_SELECTED_SERVICE":return{...e,selectedService:s.payload};case"SET_SELECTED_PACKAGE":return{...e,selectedPackage:s.payload};case"SET_SEARCH_FILTERS":return{...e,searchFilters:s.payload};case"SET_PACKAGE_FILTERS":return{...e,packageFilters:s.payload};default:return e}}const Pm=S.createContext(null);function zf({children:e}){const[s,a]=S.useReducer(Bf,$f);S.useEffect(()=>{r()},[]);const r=async()=>{a({type:"SET_LOADING",payload:!0});try{const b=[{id:"s1",name:"Corte Masculino Tradicional",description:"Corte clássico masculino com máquina e tesoura, incluindo acabamento na nuca e laterais. Ideal para um visual elegante e profissional.",price:35,duration:30,category:"corte",isActive:!0,image:"https://images.pexels.com/photos/1319460/pexels-photo-1319460.jpeg?auto=compress&cs=tinysrgb&w=300",enabledProfessionals:["p1","p2"],requirements:["Cabelo limpo","Definir estilo desejado"],contraindications:["Feridas no couro cabeludo","Infecções"],afterCareInstructions:"Evitar molhar por 2 horas. Usar produtos recomendados.",createdAt:new Date("2024-01-01"),updatedAt:new Date,createdBy:"admin",priceHistory:[{id:"ph1",previousPrice:30,newPrice:35,changeReason:"Ajuste de inflação",changedBy:"admin",changedAt:new Date("2024-01-15")}],metrics:{totalBookings:450,totalRevenue:15750,averageRating:4.8,totalReviews:380,popularityRank:1,lastBooking:new Date,monthlyBookings:85,monthlyRevenue:2975,conversionRate:78.5}},{id:"s2",name:"Barba Completa",description:"Aparar, modelar e finalizar barba com navalha. Inclui hidratação e aplicação de óleo para barba. Resultado profissional garantido.",price:25,duration:25,category:"barba",isActive:!0,image:"https://images.pexels.com/photos/1570807/pexels-photo-1570807.jpeg?auto=compress&cs=tinysrgb&w=300",enabledProfessionals:["p1"],requirements:["Barba com pelo menos 3mm","Pele limpa"],contraindications:["Alergia a produtos","Feridas na face"],afterCareInstructions:"Aplicar óleo hidratante diariamente.",createdAt:new Date("2024-01-01"),updatedAt:new Date,createdBy:"admin",priceHistory:[],metrics:{totalBookings:320,totalRevenue:8e3,averageRating:4.9,totalReviews:280,popularityRank:2,lastBooking:new Date,monthlyBookings:65,monthlyRevenue:1625,conversionRate:82.1}},{id:"s3",name:"Sobrancelha Masculina",description:"Design e modelagem de sobrancelha masculina com pinça e tesoura. Resultado natural respeitando o formato do rosto.",price:15,duration:15,category:"estetica",isActive:!0,image:"https://images.pexels.com/photos/3993449/pexels-photo-3993449.jpeg?auto=compress&cs=tinysrgb&w=300",enabledProfessionals:["p2"],requirements:["Pelos com crescimento mínimo"],contraindications:["Inflamações na região"],afterCareInstructions:"Evitar exposição solar por 24h.",createdAt:new Date("2024-01-01"),updatedAt:new Date,createdBy:"admin",priceHistory:[],metrics:{totalBookings:180,totalRevenue:2700,averageRating:4.6,totalReviews:150,popularityRank:4,lastBooking:new Date,monthlyBookings:35,monthlyRevenue:525,conversionRate:65.8}},{id:"s4",name:"Lavagem + Hidratação",description:"Lavagem completa com shampoo premium e tratamento hidratante. Inclui massagem relaxante no couro cabeludo.",price:20,duration:20,category:"tratamento",isActive:!0,image:"https://images.pexels.com/photos/3993449/pexels-photo-3993449.jpeg?auto=compress&cs=tinysrgb&w=300",enabledProfessionals:["p1","p2"],requirements:["Cabelo seco"],contraindications:["Alergia a produtos químicos"],afterCareInstructions:"Não usar produtos com álcool por 24h.",createdAt:new Date("2024-01-01"),updatedAt:new Date,createdBy:"admin",priceHistory:[],metrics:{totalBookings:220,totalRevenue:4400,averageRating:4.7,totalReviews:180,popularityRank:3,lastBooking:new Date,monthlyBookings:45,monthlyRevenue:900,conversionRate:71.2}}],m=[{id:"pkg1",name:"Combo Completo",description:"Corte + Barba + Sobrancelha - O pacote mais completo para um visual impecável",services:[{serviceId:"s1",serviceName:"Corte Masculino Tradicional",servicePrice:35,serviceDuration:30,isRequired:!0,canBeReplaced:!1},{serviceId:"s2",serviceName:"Barba Completa",servicePrice:25,serviceDuration:25,isRequired:!0,canBeReplaced:!1},{serviceId:"s3",serviceName:"Sobrancelha Masculina",servicePrice:15,serviceDuration:15,isRequired:!1,canBeReplaced:!0,replacementOptions:["s4"]}],originalPrice:75,discountPercentage:20,finalPrice:60,validityPeriod:30,usageLimit:1,isActive:!0,startDate:new Date("2024-01-01"),endDate:new Date("2024-12-31"),minimumAdvanceBooking:2,allowedDays:[1,2,3,4,5,6],createdAt:new Date("2024-01-01"),updatedAt:new Date,createdBy:"admin",metrics:{totalSales:85,totalRevenue:5100,averageRating:4.8,conversionRate:15.2,popularityRank:1,lastSale:new Date,monthlySales:18,monthlyRevenue:1080}},{id:"pkg2",name:"Duo Clássico",description:"Corte + Barba - A combinação perfeita para o homem moderno",services:[{serviceId:"s1",serviceName:"Corte Masculino Tradicional",servicePrice:35,serviceDuration:30,isRequired:!0,canBeReplaced:!1},{serviceId:"s2",serviceName:"Barba Completa",servicePrice:25,serviceDuration:25,isRequired:!0,canBeReplaced:!1}],originalPrice:60,discountPercentage:15,finalPrice:51,validityPeriod:45,usageLimit:2,isActive:!0,startDate:new Date("2024-01-01"),createdAt:new Date("2024-01-01"),updatedAt:new Date,createdBy:"admin",metrics:{totalSales:120,totalRevenue:6120,averageRating:4.9,conversionRate:22.8,popularityRank:2,lastSale:new Date,monthlySales:25,monthlyRevenue:1275}}];a({type:"SET_SERVICES",payload:b}),a({type:"SET_PACKAGES",payload:m})}catch{a({type:"SET_ERROR",payload:"Failed to load service data"})}finally{a({type:"SET_LOADING",payload:!1})}},n=b=>s.services.filter(m=>!(b.name&&!m.name.toLowerCase().includes(b.name.toLowerCase())||b.category&&b.category.length>0&&!b.category.includes(m.category)||b.priceMin&&m.price<b.priceMin||b.priceMax&&m.price>b.priceMax||b.durationMin&&m.duration<b.durationMin||b.durationMax&&m.duration>b.durationMax||b.professionalId&&!m.enabledProfessionals.includes(b.professionalId)||b.isActive!==void 0&&m.isActive!==b.isActive||b.popularityMin&&m.metrics.popularityRank>b.popularityMin||b.ratingMin&&m.metrics.averageRating<b.ratingMin)),l=b=>s.packages.filter(m=>!(b.name&&!m.name.toLowerCase().includes(b.name.toLowerCase())||b.discountMin&&m.discountPercentage<b.discountMin||b.discountMax&&m.discountPercentage>b.discountMax||b.priceMin&&m.finalPrice<b.priceMin||b.priceMax&&m.finalPrice>b.priceMax||b.isActive!==void 0&&m.isActive!==b.isActive||b.validityPeriodMin&&m.validityPeriod<b.validityPeriodMin||b.validityPeriodMax&&m.validityPeriod>b.validityPeriodMax)),i=b=>{const m={name:{isValid:!0},description:{isValid:!0},price:{isValid:!0},duration:{isValid:!0},category:{isValid:!0},enabledProfessionals:{isValid:!0}};!b.name||b.name.trim().length===0?m.name={isValid:!1,message:"Nome é obrigatório"}:b.name.length>50&&(m.name={isValid:!1,message:"Nome deve ter no máximo 50 caracteres"}),!b.description||b.description.trim().length===0?m.description={isValid:!1,message:"Descrição é obrigatória"}:b.description.length>1e3&&(m.description={isValid:!1,message:"Descrição deve ter no máximo 1000 caracteres"}),!b.price||b.price<=0?m.price={isValid:!1,message:"Preço deve ser maior que zero"}:b.price>9999.99&&(m.price={isValid:!1,message:"Preço deve ser menor que R$ 9.999,99"}),!b.duration||b.duration<=0?m.duration={isValid:!1,message:"Duração deve ser maior que zero"}:b.duration>480&&(m.duration={isValid:!1,message:"Duração deve ser menor que 8 horas"});const g=["corte","barba","quimica","estetica","tratamento"];return(!b.category||!g.includes(b.category))&&(m.category={isValid:!1,message:"Categoria inválida"}),(!b.enabledProfessionals||b.enabledProfessionals.length===0)&&(m.enabledProfessionals={isValid:!1,message:"Pelo menos um profissional deve ser habilitado"}),m},c=b=>{const m={name:{isValid:!0},services:{isValid:!0},discountPercentage:{isValid:!0},validityPeriod:{isValid:!0},usageLimit:{isValid:!0}};return!b.name||b.name.trim().length===0?m.name={isValid:!1,message:"Nome é obrigatório"}:b.name.length>100&&(m.name={isValid:!1,message:"Nome deve ter no máximo 100 caracteres"}),!b.services||b.services.length<2?m.services={isValid:!1,message:"Pacote deve ter pelo menos 2 serviços"}:b.services.length>5&&(m.services={isValid:!1,message:"Pacote deve ter no máximo 5 serviços"}),!b.discountPercentage||b.discountPercentage<=0?m.discountPercentage={isValid:!1,message:"Desconto deve ser maior que zero"}:b.discountPercentage>70&&(m.discountPercentage={isValid:!1,message:"Desconto deve ser menor que 70%"}),!b.validityPeriod||b.validityPeriod<15?m.validityPeriod={isValid:!1,message:"Período de validade deve ser pelo menos 15 dias"}:b.validityPeriod>90&&(m.validityPeriod={isValid:!1,message:"Período de validade deve ser no máximo 90 dias"}),!b.usageLimit||b.usageLimit<=0?m.usageLimit={isValid:!1,message:"Limite de uso deve ser maior que zero"}:b.usageLimit>10&&(m.usageLimit={isValid:!1,message:"Limite de uso deve ser no máximo 10"}),m},o=async(b,m,g)=>{const j=s.services.find(u=>u.id===b);if(!j)return;const f={id:`ph_${Date.now()}`,previousPrice:j.price,newPrice:m,changeReason:g,changedBy:"admin",changedAt:new Date},v={...j,price:m,priceHistory:[...j.priceHistory,f],updatedAt:new Date};a({type:"UPDATE_SERVICE",payload:v})},x=async(b,m)=>({period:{start:b,end:m},topServices:s.services.sort((j,f)=>f.metrics.monthlyBookings-j.metrics.monthlyBookings).slice(0,10).map(j=>({serviceId:j.id,serviceName:j.name,bookings:j.metrics.monthlyBookings,revenue:j.metrics.monthlyRevenue,averageRating:j.metrics.averageRating,growthRate:Math.random()*20-10})),categoryPerformance:[{category:"corte",totalBookings:450,totalRevenue:15750,averagePrice:35,marketShare:45},{category:"barba",totalBookings:320,totalRevenue:8e3,averagePrice:25,marketShare:32},{category:"estetica",totalBookings:180,totalRevenue:2700,averagePrice:15,marketShare:18},{category:"tratamento",totalBookings:220,totalRevenue:4400,averagePrice:20,marketShare:22}],revenueAnalysis:{totalRevenue:30850,averageTicket:26.5,totalBookings:1170,conversionRate:74.2},trends:{mostGrowingService:"Corte Masculino Tradicional",mostDecliningService:"Sobrancelha Masculina",seasonalTrends:[{month:"Jan",bookings:95,revenue:2520},{month:"Fev",bookings:88,revenue:2340},{month:"Mar",bookings:102,revenue:2710},{month:"Abr",bookings:97,revenue:2580},{month:"Mai",bookings:105,revenue:2790},{month:"Jun",bookings:110,revenue:2920}]}}),d=async(b,m)=>({period:{start:b,end:m},topPackages:s.packages.sort((j,f)=>f.metrics.monthlySales-j.metrics.monthlySales).map(j=>({packageId:j.id,packageName:j.name,sales:j.metrics.monthlySales,revenue:j.metrics.monthlyRevenue,conversionRate:j.metrics.conversionRate,averageRating:j.metrics.averageRating})),discountAnalysis:{averageDiscount:17.5,totalSavingsOffered:4250,revenueImpact:15.8,customerSatisfaction:4.85},usagePatterns:{averageUsageRate:85.2,mostUsedPackage:"Combo Completo",leastUsedPackage:"Duo Clássico",expirationRate:12.5}}),h=async b=>{const m=s.services.find(j=>j.id===b);if(!m)throw new Error("Service not found");const g={...m,id:`s_${Date.now()}`,name:`${m.name} (Cópia)`,createdAt:new Date,updatedAt:new Date,priceHistory:[],metrics:{...m.metrics,totalBookings:0,totalRevenue:0,totalReviews:0,monthlyBookings:0,monthlyRevenue:0,lastBooking:void 0}};return a({type:"ADD_SERVICE",payload:g}),g},p=async b=>{const m=s.packages.find(j=>j.id===b);if(!m)throw new Error("Package not found");const g={...m,id:`pkg_${Date.now()}`,name:`${m.name} (Cópia)`,createdAt:new Date,updatedAt:new Date,metrics:{...m.metrics,totalSales:0,totalRevenue:0,monthlySales:0,monthlyRevenue:0,lastSale:void 0}};return a({type:"ADD_PACKAGE",payload:g}),g};return t.jsx(Pm.Provider,{value:{state:s,dispatch:a,searchServices:n,searchPackages:l,validateService:i,validatePackage:c,updateServicePrice:o,generateServiceReport:x,generatePackageReport:d,duplicateService:h,duplicatePackage:p},children:e})}function _n(){const e=S.useContext(Pm);if(!e)throw new Error("useService must be used within a ServiceProvider");return e}const Uf={transactions:[],cashRegisters:[],currentCashRegister:null,accounts:[],fiscalDocuments:[],taxObligations:[],alerts:[],categories:[],paymentMethods:[],settings:{cashRegister:{autoClose:!0,closeTime:"22:00",requireApproval:!1,maxDifference:10},alerts:{dueDateDays:5,lowCashThreshold:500,highExpenseThreshold:5e3},fiscal:{companyType:"mei",taxRegime:"Simples Nacional"},backup:{frequency:"daily",retention:30,autoBackup:!0}},loading:!1,error:null};function Vf(e,s){var a;switch(s.type){case"SET_LOADING":return{...e,loading:s.payload};case"SET_ERROR":return{...e,error:s.payload};case"SET_TRANSACTIONS":return{...e,transactions:s.payload};case"ADD_TRANSACTION":return{...e,transactions:[...e.transactions,s.payload]};case"UPDATE_TRANSACTION":return{...e,transactions:e.transactions.map(r=>r.id===s.payload.id?s.payload:r)};case"DELETE_TRANSACTION":return{...e,transactions:e.transactions.filter(r=>r.id!==s.payload)};case"SET_CASH_REGISTERS":return{...e,cashRegisters:s.payload};case"SET_CURRENT_CASH_REGISTER":return{...e,currentCashRegister:s.payload};case"UPDATE_CASH_REGISTER":return{...e,cashRegisters:e.cashRegisters.map(r=>r.id===s.payload.id?s.payload:r),currentCashRegister:((a=e.currentCashRegister)==null?void 0:a.id)===s.payload.id?s.payload:e.currentCashRegister};case"SET_ACCOUNTS":return{...e,accounts:s.payload};case"ADD_ACCOUNT":return{...e,accounts:[...e.accounts,s.payload]};case"UPDATE_ACCOUNT":return{...e,accounts:e.accounts.map(r=>r.id===s.payload.id?s.payload:r)};case"DELETE_ACCOUNT":return{...e,accounts:e.accounts.filter(r=>r.id!==s.payload)};case"SET_FISCAL_DOCUMENTS":return{...e,fiscalDocuments:s.payload};case"ADD_FISCAL_DOCUMENT":return{...e,fiscalDocuments:[...e.fiscalDocuments,s.payload]};case"SET_TAX_OBLIGATIONS":return{...e,taxObligations:s.payload};case"SET_ALERTS":return{...e,alerts:s.payload};case"ADD_ALERT":return{...e,alerts:[...e.alerts,s.payload]};case"MARK_ALERT_READ":return{...e,alerts:e.alerts.map(r=>r.id===s.payload?{...r,isRead:!0}:r)};case"SET_CATEGORIES":return{...e,categories:s.payload};case"SET_PAYMENT_METHODS":return{...e,paymentMethods:s.payload};case"SET_SETTINGS":return{...e,settings:s.payload};default:return e}}const Hf=S.createContext(null);function Wf({children:e}){const[s,a]=S.useReducer(Vf,Uf);S.useEffect(()=>{r()},[]);const r=async()=>{a({type:"SET_LOADING",payload:!0});try{const g=[{id:"cat1",name:"Serviços",type:"income",color:"#10B981",icon:"scissors",isActive:!0,subcategories:["Corte","Barba","Sobrancelha","Outros"]},{id:"cat2",name:"Produtos",type:"income",color:"#3B82F6",icon:"package",isActive:!0,subcategories:["Pomadas","Shampoos","Óleos","Outros"]},{id:"cat3",name:"Aluguel",type:"expense",color:"#EF4444",icon:"home",isActive:!0},{id:"cat4",name:"Salários",type:"expense",color:"#F59E0B",icon:"users",isActive:!0},{id:"cat5",name:"Materiais",type:"expense",color:"#8B5CF6",icon:"shopping-cart",isActive:!0}],j=[{id:"cash",name:"Dinheiro",type:"cash",isActive:!0},{id:"debit",name:"Cartão Débito",type:"card",isActive:!0,fees:2.5},{id:"credit",name:"Cartão Crédito",type:"card",isActive:!0,fees:3.5},{id:"pix",name:"PIX",type:"pix",isActive:!0,fees:0}],f=[{id:"t1",type:"income",category:g[0],amount:35,description:"Corte de cabelo - João Silva",date:new Date,paymentMethod:j[0],reference:"AGD001",createdBy:"admin",createdAt:new Date,updatedAt:new Date},{id:"t2",type:"expense",category:g[2],amount:1200,description:"Aluguel do salão - Janeiro 2024",date:new Date,paymentMethod:j[3],createdBy:"admin",createdAt:new Date,updatedAt:new Date}],v=[{id:"acc1",type:"payable",category:"Aluguel",description:"Aluguel do salão - Fevereiro 2024",amount:1200,dueDate:new Date(Date.now()+3*24*60*60*1e3),status:"pending",isRecurring:!0,recurrencePattern:{frequency:"monthly",interval:1},createdAt:new Date,updatedAt:new Date}],u=[{id:"alert1",type:"due_date",title:"Conta próxima do vencimento",message:"Aluguel do salão vence em 3 dias",severity:"warning",isRead:!1,createdAt:new Date,relatedEntity:{type:"account",id:"acc1"}}];a({type:"SET_CATEGORIES",payload:g}),a({type:"SET_PAYMENT_METHODS",payload:j}),a({type:"SET_TRANSACTIONS",payload:f}),a({type:"SET_ACCOUNTS",payload:v}),a({type:"SET_ALERTS",payload:u})}catch{a({type:"SET_ERROR",payload:"Failed to load financial data"})}finally{a({type:"SET_LOADING",payload:!1})}},n=async g=>{const j={id:`cr_${Date.now()}`,date:new Date,openingBalance:g,closingBalance:0,expectedBalance:g,difference:0,status:"open",openedBy:"admin",openedAt:new Date,transactions:[],cashMovements:[]};a({type:"SET_CURRENT_CASH_REGISTER",payload:j}),a({type:"SET_CASH_REGISTERS",payload:[...s.cashRegisters,j]})},l=async(g,j)=>{if(!s.currentCashRegister)return;const f=s.currentCashRegister.openingBalance+s.currentCashRegister.transactions.filter(u=>u.paymentMethod.type==="cash").reduce((u,y)=>u+(y.type==="income"?y.amount:-y.amount),0)+s.currentCashRegister.cashMovements.reduce((u,y)=>u+(y.type==="supply"?y.amount:-y.amount),0),v={...s.currentCashRegister,closingBalance:g,expectedBalance:f,difference:g-f,status:"closed",closedBy:"admin",closedAt:new Date,notes:j};a({type:"UPDATE_CASH_REGISTER",payload:v}),a({type:"SET_CURRENT_CASH_REGISTER",payload:null})},i=async g=>{if(!s.currentCashRegister)return;const j={...g,id:`cm_${Date.now()}`,createdAt:new Date},f={...s.currentCashRegister,cashMovements:[...s.currentCashRegister.cashMovements,j]};a({type:"UPDATE_CASH_REGISTER",payload:f})},c=async(g,j)=>{const f=s.transactions.filter(y=>y.date>=g&&y.date<=j),v=f.filter(y=>y.type==="income").reduce((y,k)=>y+k.amount,0),u=f.filter(y=>y.type==="expense").reduce((y,k)=>y+k.amount,0);return{period:{start:g,end:j},opening:0,income:{total:v,byCategory:{},byPaymentMethod:{}},expenses:{total:u,byCategory:{},byPaymentMethod:{}},closing:v-u}},o=async(g,j)=>{const f=s.transactions.filter(w=>w.date>=g&&w.date<=j),v=f.filter(w=>w.type==="income").reduce((w,C)=>(C.category.name==="Serviços"?w.services+=C.amount:C.category.name==="Produtos"?w.products+=C.amount:w.other+=C.amount,w),{services:0,products:0,other:0,total:0});v.total=v.services+v.products+v.other;const u=f.filter(w=>w.type==="expense").reduce((w,C)=>(["Aluguel","Salários"].includes(C.category.name)?w.fixed+=C.amount:w.variable+=C.amount,w),{fixed:0,variable:0,total:0});u.total=u.fixed+u.variable;const y=v.total-u.variable,k=y-u.fixed,N=k;return{period:{start:g,end:j},revenue:v,expenses:u,grossProfit:y,operatingExpenses:{administrative:u.fixed,commercial:0,total:u.fixed},ebitda:k,financialResult:0,netIncome:N,margins:{gross:v.total>0?y/v.total*100:0,ebitda:v.total>0?k/v.total*100:0,net:v.total>0?N/v.total*100:0}}},x=async g=>({date:g,assets:{current:{cash:5e3,accountsReceivable:2e3,inventory:1500,other:500,total:9e3},nonCurrent:{equipment:15e3,furniture:8e3,other:2e3,total:25e3},total:34e3},liabilities:{current:{accountsPayable:3e3,taxes:1500,other:500,total:5e3},nonCurrent:{loans:1e4,other:0,total:1e4},total:15e3},equity:{capital:15e3,retainedEarnings:4e3,total:19e3}}),d=async(g,j)=>{const f=s.transactions.filter(u=>u.date>=g&&u.date<=j&&u.type==="income"),v=f.reduce((u,y)=>u+y.amount,0);return{period:{start:g,end:j},revenue:{total:v,growth:15.5,byService:{},byProfessional:{},byPaymentMethod:{}},averageTicket:{current:f.length>0?v/f.length:0,previous:42,growth:8.2},profitability:{gross:65.5,net:25.8,ebitda:35.2},efficiency:{costPerService:18.5,revenuePerProfessional:2500,utilizationRate:78.5}}},h=async(g,j)=>({id:`br_${Date.now()}`,bankAccount:g,period:{start:new Date,end:new Date},bankBalance:1e4,systemBalance:9850,difference:150,status:"pending",transactions:[],createdAt:new Date}),p=async(g,j)=>{const f={id:`fd_${Date.now()}`,type:g,number:`${Date.now()}`,date:new Date,amount:j.amount,client:j.client,description:j.description,status:"issued",createdAt:new Date};return a({type:"ADD_FISCAL_DOCUMENT",payload:f}),f},b=async g=>{const j=[{id:`tax_${Date.now()}`,type:"mei",name:"DAS MEI",dueDate:new Date(Date.now()+1728e6),amount:66.6,status:"pending",reference:qf(g.start),calculationBase:1e3,rate:6.66,createdAt:new Date}];return a({type:"SET_TAX_OBLIGATIONS",payload:j}),j},m=async(g,j)=>{const f=JSON.stringify(j,null,2);return new Blob([f],{type:"application/json"})};return t.jsx(Hf.Provider,{value:{state:s,dispatch:a,openCashRegister:n,closeCashRegister:l,addCashMovement:i,generateCashFlow:c,generateDRE:o,generateBalanceSheet:x,generatePerformanceReport:d,reconcileBank:h,generateFiscalDocument:p,calculateTaxes:b,exportReport:m},children:e})}function qf(e,s){const a=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear();return`${a}/${r}`}const Em=S.createContext(null);function Gf({children:e}){const[s,a]=S.useState(null),[r,n]=S.useState(!0),[l,i]=S.useState(null);S.useEffect(()=>{(async()=>{try{const b=localStorage.getItem("user");b&&a(JSON.parse(b))}catch(b){console.error("Auth check failed:",b)}finally{n(!1)}})()},[]);const c=async(p,b)=>{n(!0),i(null);try{if(p==="admin@example.com"&&b==="password"){const m={id:"admin-1",name:"Admin User",email:"admin@example.com",role:"admin"};a(m),localStorage.setItem("user",JSON.stringify(m))}else if(p==="employee@example.com"&&b==="password"){const m={id:"emp-1",name:"Employee User",email:"employee@example.com",role:"employee"};a(m),localStorage.setItem("user",JSON.stringify(m))}else if(p==="client@example.com"&&b==="password"){const m={id:"client-1",name:"Client User",email:"client@example.com",role:"client"};a(m),localStorage.setItem("user",JSON.stringify(m))}else throw new Error("Invalid credentials")}catch(m){i(m.message),console.error("Login failed:",m)}finally{n(!1)}},o=()=>{a(null),localStorage.removeItem("user")},x=p=>{a(b=>{if(!b)return b;const m={...b,...p};return localStorage.setItem("user",JSON.stringify(m)),m})},d=async(p,b,m,g="client")=>{n(!0),i(null);try{const j={id:`user-${Date.now()}`,name:p,email:b,role:g};a(j),localStorage.setItem("user",JSON.stringify(j))}catch(j){i(j.message),console.error("Registration failed:",j)}finally{n(!1)}},h=p=>s?s.role==="admin"||s.role==="employee"&&p!=="admin"||s.role==="client"&&p==="client":!1;return t.jsx(Em.Provider,{value:{user:s,isLoading:r,error:l,login:c,logout:o,register:d,updateUser:x,isAuthenticated:!!s,hasPermission:h},children:e})}function Fe(){const e=S.useContext(Em);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,s)=>{const a=S.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:o,...x},d)=>S.createElement("svg",{ref:d,...Qf,width:n,height:n,stroke:r,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${Yf(e)}`,c].join(" "),...x},[...s.map(([h,p])=>S.createElement(h,p)),...Array.isArray(o)?o:[o]]));return a.displayName=`${e}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=B("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=B("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=B("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=B("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=B("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=B("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=B("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=B("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=B("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=B("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=B("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=B("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=B("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=B("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=B("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=B("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=B("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=B("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=B("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=B("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=B("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=B("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=B("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mo(){const{logout:e}=Fe();return t.jsxs("button",{onClick:()=>e(),className:"flex items-center gap-2 px-4 py-2 border border-slate-700 text-slate-700 rounded-lg hover:bg-slate-700 hover:text-white transition-colors",children:[t.jsx(Dm,{className:"w-4 h-4"}),t.jsx("span",{children:"Sair"})]})}const cg=[{id:"dashboard",label:"Dashboard",icon:sg},{id:"landing",label:"Landing Page",icon:Ic},{id:"appointments",label:"Agendamentos",icon:Y},{id:"calendar",label:"Agenda",icon:Jf},{id:"booking",label:"Reserva Online",icon:Ic},{id:"clients",label:"Clientes",icon:Ve},{id:"barbers",label:"Profissionais",icon:Gs},{id:"services",label:"Serviços",icon:mn},{id:"finances",label:"Financeiro",icon:ge},{id:"reports",label:"Relatórios",icon:xt},{id:"settings",label:"Configurações",icon:mn}];function dg({activeTab:e,onTabChange:s,isOpen:a,onToggle:r}){return t.jsxs(t.Fragment,{children:[a&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:r}),t.jsxs("div",{className:`
        fixed top-0 left-0 z-50 h-full w-64 bg-slate-900 text-white transform transition-transform duration-300 ease-in-out
        lg:relative lg:translate-x-0
        ${a?"translate-x-0":"-translate-x-full"}
      `,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center",children:t.jsx(Gs,{className:"w-5 h-5 text-white"})}),t.jsx("h1",{className:"text-xl font-bold",children:"BarberPro"})]}),t.jsx("button",{onClick:r,className:"lg:hidden p-1 rounded-lg hover:bg-slate-800 transition-colors",children:t.jsx(De,{className:"w-5 h-5"})})]}),t.jsx("nav",{className:"p-4 space-y-2",children:cg.map(n=>{const l=n.icon,i=e===n.id;return t.jsxs("button",{onClick:()=>{s(n.id),window.innerWidth<1024&&r()},className:`
                  w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200
                  ${i?"bg-amber-500 text-white shadow-lg":"text-slate-300 hover:bg-slate-800 hover:text-white"}
                `,children:[t.jsx(l,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:n.label})]},n.id)})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-semibold",children:"A"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Admin"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Proprietário"})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(mo,{})})]})})]})]})}function ug({onMenuToggle:e,title:s}){return t.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-slate-100 transition-colors",children:t.jsx(Rm,{className:"w-5 h-5"})}),t.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:s})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-slate-100 rounded-lg px-4 py-2",children:[t.jsx(un,{className:"w-4 h-4 text-slate-500"}),t.jsx("input",{type:"text",placeholder:"Buscar...",className:"bg-transparent border-none outline-none text-sm w-48"})]}),t.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-slate-100 transition-colors",children:[t.jsx(Kf,{className:"w-5 h-5 text-slate-600"}),t.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),t.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-semibold text-sm",children:"A"})})]})]})})}function mg(){const[e,s]=S.useState(""),[a,r]=S.useState(""),[n,l]=S.useState(!1),[i,c]=S.useState(""),{login:o,error:x,isLoading:d}=Fe(),h=Rn(),p=async m=>{if(m.preventDefault(),c(""),!e||!a){c("Por favor, preencha todos os campos");return}try{await o(e,a);const g=e==="admin@example.com"?"admin":e==="employee@example.com"?"employee":"client";h(g==="admin"?"/admin":g==="employee"?"/employee":"/client")}catch(g){c(g.message)}},b=async m=>{const j={client:"client@example.com",employee:"employee@example.com",admin:"admin@example.com"}[m],f="password";s(j),r(f);try{await o(j,f),h(m==="admin"?"/admin":m==="employee"?"/employee":"/client")}catch(v){c(v.message)}};return t.jsxs("div",{className:"w-full max-w-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Login"}),(i||x)&&t.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4 flex items-center",children:[t.jsx(q,{className:"w-5 h-5 mr-2"}),t.jsx("span",{children:i||x})]}),t.jsxs("form",{onSubmit:p,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"E-mail"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ht,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"email",value:e,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-amber-500 focus:border-amber-500",placeholder:"seu@email.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Senha"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ci,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"password",value:a,onChange:m=>r(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-amber-500 focus:border-amber-500",placeholder:"••••••••"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:n,onChange:m=>l(m.target.checked),className:"h-4 w-4 text-amber-500 focus:ring-amber-500 border-gray-300 rounded"}),t.jsx("span",{className:"ml-2 text-sm text-white",children:"Lembrar-me"})]}),t.jsx("a",{href:"#",className:"text-sm text-amber-600 hover:text-amber-500",children:"Esqueceu a senha?"})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full bg-amber-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Entrando...":"Entrar"}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[t.jsx("p",{className:"text-center text-sm text-white mb-2",children:"Acesso rápido para demonstração:"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[t.jsx("button",{type:"button",onClick:()=>b("client"),className:"text-xs px-2 py-1 border border-gray-300 rounded bg-white text-black hover:bg-gray-100",children:"Cliente"}),t.jsx("button",{type:"button",onClick:()=>b("employee"),className:"text-xs px-2 py-1 border border-gray-300 rounded bg-white text-black hover:bg-gray-100",children:"Funcionário"}),t.jsx("button",{type:"button",onClick:()=>b("admin"),className:"text-xs px-2 py-1 border border-gray-300 rounded bg-white text-black hover:bg-gray-100",children:"Admin"})]})]})]})]})}function xg({onSuccess:e}){const[s,a]=S.useState(""),[r,n]=S.useState(""),[l,i]=S.useState(""),[c,o]=S.useState(""),[x,d]=S.useState(""),{register:h,error:p,isLoading:b}=Fe(),m=async g=>{if(g.preventDefault(),d(""),!s||!r||!l||!c){d("Por favor, preencha todos os campos");return}if(l!==c){d("As senhas não coincidem");return}try{await h(s,r,l),e==null||e()}catch(j){d(j.message)}};return t.jsxs("div",{className:"w-full max-w-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Cadastro"}),(x||p)&&t.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4 flex items-center",children:[t.jsx(q,{className:"w-5 h-5 mr-2"}),t.jsx("span",{children:x||p})]}),t.jsxs("form",{onSubmit:m,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nome completo"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(yt,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"text",value:s,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-amber-500 focus:border-amber-500",placeholder:"Seu nome"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"E-mail"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ht,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"email",value:r,onChange:g=>n(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-amber-500 focus:border-amber-500",placeholder:"seu@email.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Senha"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ci,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"password",value:l,onChange:g=>i(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-amber-500 focus:border-amber-500",placeholder:"••••••••"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirmar senha"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ci,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"password",value:c,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-amber-500 focus:border-amber-500",placeholder:"••••••••"})]})]}),t.jsx("button",{type:"submit",disabled:b,className:"w-full bg-amber-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Cadastrando...":"Cadastrar"})]})]})}function hg({isOpen:e,onClose:s,initialView:a}){const[r,n]=S.useState(a!=="register");S.useEffect(()=>{n(a!=="register")},[a]);const{user:l}=Fe();return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-[#1A1A1A] text-white rounded-xl shadow-xl max-w-md w-full p-6 relative",children:[t.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:t.jsx(De,{className:"w-6 h-6"})}),l&&t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx(mo,{})}),t.jsxs("div",{className:"flex mb-4 border-b",children:[t.jsx("button",{className:`flex-1 py-2 font-medium ${r?"border-b-2 border-amber-400 text-amber-400":"text-white"}`,onClick:()=>n(!0),children:"Login"}),t.jsx("button",{className:`flex-1 py-2 font-medium ${r?"text-white":"border-b-2 border-amber-400 text-amber-400"}`,onClick:()=>n(!1),children:"Cadastro"})]}),r?t.jsx(mg,{}):t.jsx(xg,{onSuccess:()=>n(!0)})]})}):null}function pg({height:e="400px"}){return t.jsx("iframe",{title:"Localização da barbearia",className:"w-full rounded-lg border-0",style:{height:e},loading:"lazy",allowFullScreen:!0,src:"https://maps.google.com/maps?q=0,0&z=1&output=embed"})}const $c=[{label:"início",id:"home"},{label:"serviços",id:"services"},{label:"sobre",id:"about"},{label:"localização",id:"location"},{label:"contato",id:"contact"}],Bc=[{icon:Gs,title:"Corte de Cabelo",description:"Cortes modernos e tradicionais realizados com técnicas exclusivas.",price:"A partir de R$ 35"},{icon:Gs,title:"Barba",description:"Modelagem completa com toalha quente e produtos premium.",price:"A partir de R$ 25"},{icon:jr,title:"Tratamentos",description:"Hidratação, relaxamento e outros cuidados especiais.",price:"A partir de R$ 40"},{icon:jr,title:"Coloração",description:"Tintura profissional para realçar seu estilo.",price:"A partir de R$ 60"},{icon:jr,title:"Design de Sobrancelhas",description:"Realce o olhar com um design personalizado.",price:"A partir de R$ 25"},{icon:jr,title:"Pacotes Especiais",description:"Combos promocionais para cuidar do visual completo.",price:"Consulte valores"}];function _m({onAdminLogin:e}){const[s,a]=S.useState(!1),[r,n]=S.useState(!1),[l,i]=S.useState(!1),[c,o]=S.useState("login"),[x,d]=S.useState(!1),[h,p]=S.useState(0),[b,m]=S.useState(window.innerWidth<768),[g,j]=S.useState(null),{isAuthenticated:f,user:v}=Fe(),u=Rn();S.useEffect(()=>{const O=()=>{window.scrollY>50?n(!0):n(!1)};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[]),S.useEffect(()=>{const O=()=>{m(window.innerWidth<768)};return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const y=O=>{const H=document.getElementById(O);H&&H.scrollIntoView({behavior:"smooth"}),a(!1)},k=()=>{d(!0)},N=()=>{f?u("/client"):C("register")},w=()=>{f?(v==null?void 0:v.role)==="admin"?u("/admin"):(v==null?void 0:v.role)==="employee"?u("/employee"):u("/client"):C("login")},C=O=>{o(O),i(!0)},A=b?1:3,M=100/A,T=Math.max(0,Bc.length-A),$=()=>{p(O=>O>=T?0:O+1)},E=()=>{p(O=>O<=0?T:O-1)};return S.useEffect(()=>{const O=setInterval(()=>{p(H=>H>=T?0:H+1)},3e3);return()=>clearInterval(O)},[T]),t.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-white",children:[t.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-black/90 shadow-lg":"bg-transparent"}`,children:[t.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("img",{src:"/images/icon_trimmed_transparent_customcolor (1).png",alt:"Barbernex logo",className:"w-8 h-8"}),t.jsxs("span",{className:"ml-2 text-2xl font-bold tracking-wider",children:["BARBER",t.jsx("span",{className:"text-[#C4A747]",children:"NEX"})]})]}),t.jsxs("nav",{className:"hidden md:flex space-x-8",children:[$c.map(O=>t.jsx("button",{onClick:()=>y(O.id),className:"text-white hover:text-[#C4A747] transition-colors uppercase tracking-wide text-sm font-medium",children:O.label},O.id)),t.jsx("button",{onClick:k,className:"bg-[#C4A747] text-black px-4 py-2 rounded hover:bg-[#D4B757] transition-colors uppercase tracking-wide text-sm font-bold",children:"Agendar Demonstrativo"}),f?t.jsx("button",{onClick:()=>u((v==null?void 0:v.role)==="admin"?"/admin":(v==null?void 0:v.role)==="employee"?"/employee":"/client"),className:"border border-white text-white px-4 py-2 rounded hover:bg-white hover:text-black transition-colors uppercase tracking-wide text-sm font-bold",children:"Minha Conta"}):t.jsx("button",{onClick:()=>C("login"),className:"border border-white text-white px-4 py-2 rounded hover:bg-white hover:text-black transition-colors uppercase tracking-wide text-sm font-bold",children:"Login / Cadastro"})]}),t.jsxs("div",{className:"flex items-center md:hidden space-x-4",children:[t.jsx("button",{onClick:w,className:"text-white",children:t.jsx(yt,{className:"w-6 h-6"})}),t.jsx("button",{className:"text-white",onClick:()=>a(!s),children:s?t.jsx(De,{className:"w-6 h-6"}):t.jsx(Rm,{className:"w-6 h-6"})})]})]}),t.jsx("div",{className:`md:hidden bg-[#1A1A1A] border-t border-[#333333] overflow-hidden transition-all duration-[350ms] ${s?"max-h-screen":"max-h-0"}`,children:t.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col space-y-4",children:[$c.map(O=>t.jsx("button",{onClick:()=>y(O.id),className:"text-white hover:text-[#C4A747] transition-colors uppercase tracking-wide text-sm font-medium py-2",children:O.label},O.id)),t.jsx("button",{onClick:k,className:"bg-[#C4A747] text-black px-4 py-3 rounded hover:bg-[#D4B757] transition-colors uppercase tracking-wide text-sm font-bold",children:"Agendar Demonstrativo"})]})})]}),t.jsxs("section",{id:"home",className:"relative h-screen flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),t.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/1813272/pexels-photo-1813272.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')"}}),t.jsxs("div",{className:"container mx-auto px-4 relative z-20 text-center",children:[t.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:"ESTILO & PRECISÃO"}),t.jsx("div",{className:"w-24 h-1 bg-[#C4A747] mx-auto mb-6"}),t.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-2xl mx-auto",children:"Transforme seu visual com os melhores profissionais da cidade. Modelo de demonstração Nexla"}),t.jsx("button",{onClick:k,className:"bg-[#C4A747] text-black px-8 py-4 rounded text-lg font-bold hover:bg-[#D4B757] transition-colors uppercase tracking-wide",children:"Agende um demonstrativo"})]})]}),t.jsx("section",{id:"services",className:"py-20 bg-[#1A1A1A]",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"NOSSOS SERVIÇOS"}),t.jsx("div",{className:"w-24 h-1 bg-[#C4A747] mx-auto"})]}),t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"flex transition-transform duration-500",style:{transform:`translateX(-${h*M}%)`},onTouchStart:O=>j(O.touches[0].clientX),onTouchEnd:O=>{if(g!==null){const H=O.changedTouches[0].clientX-g;H>50&&E(),H<-50&&$()}},onMouseDown:O=>j(O.clientX),onMouseUp:O=>{if(g!==null){const H=O.clientX-g;H>50&&E(),H<-50&&$()}},children:Bc.map((O,H)=>t.jsx("div",{className:"min-w-full md:min-w-[33.333%] p-4",onClick:k,children:t.jsxs("div",{className:"bg-[#222222] p-8 rounded-lg transition-transform duration-300 hover:-translate-y-2 border border-[#333333] hover:border-[#C4A747] cursor-pointer group",children:[t.jsx("div",{className:"w-16 h-16 bg-[#333333] rounded-full flex items-center justify-center mb-6 mx-auto group-hover:bg-[#C4A747] transition-colors",children:t.jsx(O.icon,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:O.title}),t.jsx("p",{className:"text-gray-400 mb-6 text-center",children:O.description}),t.jsx("p",{className:"text-[#C4A747] font-bold text-center text-xl",children:O.price})]})},H))}),t.jsx("button",{onClick:E,className:"hidden md:flex items-center justify-center absolute left-2 top-1/2 -translate-y-1/2 bg-[#C4A747] text-black p-2 rounded-full",children:t.jsx(io,{className:"w-5 h-5"})}),t.jsx("button",{onClick:$,className:"hidden md:flex items-center justify-center absolute right-2 top-1/2 -translate-y-1/2 bg-[#C4A747] text-black p-2 rounded-full",children:t.jsx(oo,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"text-center mt-12",children:t.jsx("button",{onClick:N,className:"border-2 border-[#C4A747] text-[#C4A747] px-8 py-3 rounded text-lg font-bold hover:bg-[#C4A747] hover:text-black transition-colors uppercase tracking-wide",children:"Ver todos os serviços"})})]})}),t.jsx("section",{id:"about",className:"py-20 bg-[#222222]",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"SOBRE NÓS"}),t.jsx("div",{className:"w-24 h-1 bg-[#C4A747] mb-6"}),t.jsx("p",{className:"text-gray-300 mb-6",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),t.jsx("p",{className:"text-gray-300 mb-6",children:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),t.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:["Profissionais Certificados","Produtos Premium","Ambiente Exclusivo","Atendimento Personalizado"].map((O,H)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-[#C4A747] rounded-full mr-2"}),t.jsx("span",{className:"text-gray-300",children:O})]},H))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("img",{src:"https://images.pexels.com/photos/1319460/pexels-photo-1319460.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Barbearia interior",className:"rounded-lg h-64 w-full object-cover"}),t.jsx("img",{src:"https://images.pexels.com/photos/1570807/pexels-photo-1570807.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Serviço de barba",className:"rounded-lg h-64 w-full object-cover"}),t.jsx("img",{src:"https://images.pexels.com/photos/2076930/pexels-photo-2076930.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Corte de cabelo",className:"rounded-lg h-64 w-full object-cover"}),t.jsx("img",{src:"https://images.pexels.com/photos/897262/pexels-photo-897262.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Produtos de barbearia",className:"rounded-lg h-64 w-full object-cover"})]})]})})}),t.jsx("section",{id:"location",className:"py-20 bg-[#1A1A1A]",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-start",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold mb-4",children:"HORÁRIOS DE FUNCIONAMENTO"}),t.jsx("div",{className:"w-24 h-1 bg-[#C4A747] mb-6"}),t.jsx("div",{className:"bg-[#222222] p-6 rounded-lg border border-[#333333]",children:t.jsx("table",{className:"w-full",children:t.jsx("tbody",{children:[{day:"Segunda-feira",hours:"09:00 - 20:00"},{day:"Terça-feira",hours:"09:00 - 20:00"},{day:"Quarta-feira",hours:"09:00 - 20:00"},{day:"Quinta-feira",hours:"09:00 - 20:00"},{day:"Sexta-feira",hours:"09:00 - 20:00"},{day:"Sábado",hours:"09:00 - 18:00"},{day:"Domingo",hours:"Fechado"}].map((O,H)=>t.jsxs("tr",{className:"border-b border-[#333333] last:border-0",children:[t.jsx("td",{className:"py-3 font-medium",children:O.day}),t.jsx("td",{className:"py-3 text-right text-[#C4A747] font-bold",children:O.hours})]},H))})})})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold mb-4",children:"LOCALIZAÇÃO"}),t.jsx("div",{className:"w-24 h-1 bg-[#C4A747] mb-6"}),t.jsxs("div",{className:"bg-[#222222] p-6 rounded-lg border border-[#333333] mb-6",children:[t.jsxs("div",{className:"flex items-start mb-4",children:[t.jsx(uo,{className:"w-5 h-5 text-[#C4A747] mt-1 flex-shrink-0"}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"font-medium",children:"Rua Exemplo, 123"}),t.jsx("p",{className:"text-gray-400",children:"Bairro Central, Cidade - XX"}),t.jsx("p",{className:"text-gray-400",children:"CEP: 00000-000"})]})]}),t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx(ls,{className:"w-5 h-5 text-[#C4A747] flex-shrink-0"}),t.jsx("p",{className:"ml-3 font-medium",children:"(00) 00000-0000"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(ht,{className:"w-5 h-5 text-[#C4A747] flex-shrink-0"}),t.jsx("p",{className:"ml-3 font-medium",children:"contato@exemplo.com"})]})]}),t.jsx(pg,{height:"256px"})]})]})})}),t.jsxs("section",{id:"contact",className:"py-20 bg-[#222222] relative",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),t.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-40",style:{backgroundImage:"url('https://images.pexels.com/photos/1570806/pexels-photo-1570806.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')"}}),t.jsx("div",{className:"container mx-auto px-4 relative z-20",children:t.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Que tal transformar sua barbearia com um sistema de IA de última geração?"}),t.jsx("div",{className:"w-24 h-1 bg-[#C4A747] mx-auto mb-6"}),t.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Agende um demonstrativo agora e experimente o melhor serviço de barbearia com integração com IA."}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[t.jsxs("button",{onClick:k,className:"bg-[#C4A747] text-black px-8 py-4 rounded hover:bg-[#D4B757] transition-colors text-center",children:[t.jsx("span",{className:"block text-lg font-bold uppercase tracking-wide",children:"Agendar Demonstrativo"}),t.jsx("span",{className:"block text-xs sm:text-sm italic",children:"Teste nosso demo e agende online de qualquer dispositivo (mobile e desktop)"})]}),t.jsx("a",{href:"https://wa.me/556999300101",target:"_blank",rel:"noopener noreferrer",className:"border-2 border-white text-white px-8 py-4 rounded text-lg font-bold hover:bg-white hover:text-black transition-colors uppercase tracking-wide text-center",children:"Contato via WhatsApp"})]})]})})]}),x&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-[#222222] rounded-lg p-6 max-w-md w-full border border-[#333333]",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold",children:"Agendar Demonstrativo"}),t.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:t.jsx(De,{className:"w-6 h-6"})})]}),t.jsxs("form",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome completo"}),t.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-[#333333] border border-[#444444] rounded focus:outline-none focus:ring-2 focus:ring-[#C4A747] text-white",placeholder:"Seu nome"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),t.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-[#333333] border border-[#444444] rounded focus:outline-none focus:ring-2 focus:ring-[#C4A747] text-white",placeholder:"(00) 00000-0000"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"E-mail"}),t.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-[#333333] border border-[#444444] rounded focus:outline-none focus:ring-2 focus:ring-[#C4A747] text-white",placeholder:"seu@email.com"})]}),t.jsx("button",{type:"submit",className:"w-full bg-[#C4A747] text-black py-3 rounded font-bold hover:bg-[#D4B757] transition-colors",children:"Confirmar Demonstração"})]})]})}),t.jsx(hg,{isOpen:l,onClose:()=>i(!1),initialView:c})]})}const fg={amber:{bg:"bg-amber-500",text:"text-amber-600",lightBg:"bg-amber-50"},blue:{bg:"bg-blue-500",text:"text-blue-600",lightBg:"bg-blue-50"},green:{bg:"bg-green-500",text:"text-green-600",lightBg:"bg-green-50"},purple:{bg:"bg-purple-500",text:"text-purple-600",lightBg:"bg-purple-50"}};function yr({title:e,value:s,icon:a,trend:r,color:n}){const l=fg[n];return t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow duration-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:e}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:s}),r&&t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsxs("span",{className:`text-sm font-medium ${r.isPositive?"text-green-600":"text-red-600"}`,children:[r.isPositive?"+":"",r.value,"%"]}),t.jsx("span",{className:"text-slate-500 text-sm ml-1",children:"este mês"})]})]}),t.jsx("div",{className:`${l.lightBg} p-3 rounded-xl`,children:t.jsx(a,{className:`w-6 h-6 ${l.text}`})})]})})}function zc(){const{state:e}=hm(),{dashboardStats:s}=e,a=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(yr,{title:"Receita Hoje",value:a(s.todayRevenue),icon:ge,trend:{value:s.revenueGrowth,isPositive:s.revenueGrowth>0},color:"green"}),t.jsx(yr,{title:"Agendamentos Hoje",value:s.todayAppointments,icon:Y,trend:{value:s.appointmentGrowth,isPositive:s.appointmentGrowth>0},color:"blue"}),t.jsx(yr,{title:"Clientes Ativos",value:s.activeClients,icon:Ve,color:"purple"}),t.jsx(yr,{title:"Ticket Médio",value:a(s.averageTicket),icon:ne,color:"amber"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Receita dos Últimos 7 Dias"}),t.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:Array.from({length:7},(r,n)=>{const l=Math.random()*100+20;return t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsx("div",{className:"w-full bg-amber-500 rounded-t-lg transition-all duration-300 hover:bg-amber-600",style:{height:`${l}%`}}),t.jsx("span",{className:"text-xs text-slate-600 mt-2",children:new Date(Date.now()-(6-n)*24*60*60*1e3).toLocaleDateString("pt-BR",{weekday:"short"})})]},n)})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Próximos Agendamentos"}),t.jsx("div",{className:"space-y-4",children:[{client:"Carlos Oliveira",service:"Corte + Barba",time:"10:00",barber:"João Silva"},{client:"Marcos Lima",service:"Corte de Cabelo",time:"10:30",barber:"Pedro Santos"},{client:"André Costa",service:"Barba",time:"11:00",barber:"João Silva"},{client:"Roberto Silva",service:"Corte + Barba",time:"11:30",barber:"Pedro Santos"}].map((r,n)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:r.client}),t.jsx("p",{className:"text-sm text-slate-600",children:r.service}),t.jsxs("p",{className:"text-xs text-slate-500",children:["com ",r.barber]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-amber-600",children:r.time}),t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Confirmado"})]})]},n))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Ações Rápidas"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{className:"flex items-center justify-center space-x-2 p-4 bg-amber-50 text-amber-700 rounded-lg hover:bg-amber-100 transition-colors",children:[t.jsx(Y,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Novo Agendamento"})]}),t.jsxs("button",{className:"flex items-center justify-center space-x-2 p-4 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[t.jsx(Ve,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Cadastrar Cliente"})]}),t.jsxs("button",{className:"flex items-center justify-center space-x-2 p-4 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[t.jsx(ge,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Registrar Pagamento"})]})]})]})]})}function gg(){const{state:e}=Za(),[s,a]=S.useState("overview"),r=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g),n=g=>{switch(g){case"confirmed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"in_progress":return"text-blue-600 bg-blue-100";case"completed":return"text-slate-600 bg-slate-100";case"cancelled":return"text-red-600 bg-red-100";case"no_show":return"text-orange-600 bg-orange-100";default:return"text-slate-600 bg-slate-100"}},l=g=>{switch(g){case"confirmed":return t.jsx(st,{className:"w-4 h-4"});case"pending":return t.jsx(q,{className:"w-4 h-4"});case"cancelled":return t.jsx(ui,{className:"w-4 h-4"});default:return t.jsx(be,{className:"w-4 h-4"})}},i=e.appointments.filter(g=>mf(new Date(g.date))&&g.status!=="cancelled");e.appointments.filter(g=>xf(new Date(g.date))&&g.status!=="cancelled");const c=e.appointments.filter(g=>{const j=new Date(g.date),f=new Date,v=Ja(f,7);return j>=f&&j<=v&&g.status!=="cancelled"}),o=i.reduce((g,j)=>g+j.totalPrice,0),x=e.appointments.filter(g=>g.status==="pending"),d=e.appointments.filter(g=>g.status==="confirmed"),h=[{title:"Agendamentos Hoje",value:i.length,icon:Y,color:"blue",subtitle:`Receita: ${r(o)}`},{title:"Confirmados",value:d.length,icon:st,color:"green",subtitle:"Este mês"},{title:"Pendentes",value:x.length,icon:q,color:"yellow",subtitle:"Aguardando confirmação"},{title:"Taxa de Ocupação",value:"78%",icon:ne,color:"purple",subtitle:"Média semanal"}],p=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((g,j)=>{const f=g.icon,v={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:g.title}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:g.value}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:g.subtitle})]}),t.jsx("div",{className:`p-3 rounded-xl ${v[g.color]}`,children:t.jsx(f,{className:"w-6 h-6"})})]})},j)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Agenda de Hoje"}),i.length>0?t.jsxs("div",{className:"space-y-3",children:[i.slice(0,5).map(g=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:g.startTime}),t.jsx("div",{className:"text-xs text-slate-500",children:g.endTime})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:g.clientName}),t.jsx("p",{className:"text-sm text-slate-600",children:g.services.map(j=>j.name).join(", ")}),t.jsxs("p",{className:"text-xs text-slate-500",children:["com ",g.barberName]})]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n(g.status)}`,children:[l(g.status),t.jsx("span",{className:"ml-1",children:g.status==="confirmed"?"Confirmado":g.status==="pending"?"Pendente":g.status})]})})]},g.id)),i.length>5&&t.jsxs("button",{onClick:()=>a("today"),className:"w-full text-center text-sm text-amber-600 hover:text-amber-700 font-medium py-2",children:["Ver todos os ",i.length," agendamentos"]})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Y,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Nenhum agendamento para hoje"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Confirmações Pendentes"}),x.length>0?t.jsx("div",{className:"space-y-3",children:x.slice(0,5).map(g=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:g.clientName}),t.jsxs("p",{className:"text-sm text-slate-600",children:[Q(new Date(g.date),"dd/MM")," às ",g.startTime]}),t.jsx("p",{className:"text-xs text-slate-500",children:g.services.map(j=>j.name).join(", ")})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"p-1 text-green-600 hover:bg-green-100 rounded",children:t.jsx(st,{className:"w-4 h-4"})}),t.jsx("button",{className:"p-1 text-red-600 hover:bg-red-100 rounded",children:t.jsx(ui,{className:"w-4 h-4"})})]})]},g.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(st,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Todas as confirmações em dia!"})]})]})]})]}),b=()=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:["Agendamentos de Hoje (",i.length,")"]}),i.length>0?t.jsx("div",{className:"space-y-4",children:i.map(g=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-slate-900",children:g.startTime}),t.jsx("div",{className:"text-sm text-slate-500",children:g.endTime})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-slate-900",children:g.clientName}),t.jsxs("p",{className:"text-sm text-slate-600",children:["com ",g.barberName]})]})]}),t.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n(g.status)}`,children:[l(g.status),t.jsx("span",{className:"ml-2",children:g.status==="confirmed"?"Confirmado":g.status==="pending"?"Pendente":g.status})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-slate-700 mb-1",children:"Serviços"}),t.jsx("p",{className:"text-sm text-slate-600",children:g.services.map(j=>j.name).join(", ")})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-slate-700 mb-1",children:"Contato"}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ls,{className:"w-4 h-4"}),t.jsx("span",{children:g.clientPhone})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ht,{className:"w-4 h-4"}),t.jsx("span",{children:g.clientEmail})]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-200",children:[t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600",children:[t.jsxs("span",{children:["Duração: ",g.totalDuration," min"]}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["Total: ",r(g.totalPrice)]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded",children:"Editar"}),t.jsx("button",{className:"px-3 py-1 text-sm text-green-600 hover:bg-green-50 rounded",children:"Confirmar"})]})]})]},g.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Y,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Nenhum agendamento para hoje"})]})]}),m=()=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:["Próximos Agendamentos (",c.length,")"]}),c.length>0?t.jsx("div",{className:"space-y-4",children:c.map(g=>t.jsx("div",{className:"border border-slate-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-sm font-medium text-slate-900",children:Q(new Date(g.date),"dd/MM")}),t.jsx("div",{className:"text-lg font-bold text-slate-900",children:g.startTime})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-slate-900",children:g.clientName}),t.jsx("p",{className:"text-sm text-slate-600",children:g.services.map(j=>j.name).join(", ")}),t.jsxs("p",{className:"text-xs text-slate-500",children:["com ",g.barberName]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n(g.status)}`,children:[l(g.status),t.jsx("span",{className:"ml-1",children:g.status==="confirmed"?"Confirmado":g.status==="pending"?"Pendente":g.status})]}),t.jsx("p",{className:"text-sm font-semibold text-slate-900 mt-1",children:r(g.totalPrice)})]})]})},g.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Y,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Nenhum agendamento próximo"})]})]});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Agendamentos"}),t.jsx("div",{className:"flex space-x-2",children:t.jsx("button",{className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:"Novo Agendamento"})})]}),t.jsx("div",{className:"border-b border-slate-200",children:t.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Visão Geral"},{id:"today",label:"Hoje"},{id:"upcoming",label:"Próximos"},{id:"history",label:"Histórico"}].map(g=>t.jsx("button",{onClick:()=>a(g.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${s===g.id?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:g.label},g.id))})}),s==="overview"&&p(),s==="today"&&b(),s==="upcoming"&&m(),s==="history"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 text-center",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Histórico de Agendamentos"}),t.jsx("p",{className:"text-slate-600",children:"Módulo em desenvolvimento"})]})]})}function vg(){const{state:e,dispatch:s,cancelAppointment:a,rescheduleAppointment:r}=Za(),[n,l]=S.useState("day"),[i,c]=S.useState(new Date),[o,x]=S.useState(null),[d,h]=S.useState(!1),p=w=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w),b=w=>{switch(w){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-slate-100 text-slate-800 border-slate-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";case"no_show":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}},m=w=>{switch(w){case"confirmed":return"Confirmado";case"pending":return"Pendente";case"in_progress":return"Em Andamento";case"completed":return"Concluído";case"cancelled":return"Cancelado";case"no_show":return"Não Compareceu";default:return w}},g=w=>{c(C=>{const A=n==="day"?1:n==="week"?7:30;return Ja(C,w==="next"?A:-A)})},j=w=>{const C=Q(w,"yyyy-MM-dd");return e.appointments.filter(A=>A.date===C)},f=()=>{const w=pm(i,{weekStartsOn:1}),C=bm(i,{weekStartsOn:1});return vm({start:w,end:C})},v=w=>{x(w),h(!0)},u=async(w,C)=>{const A=e.appointments.find(M=>M.id===w);if(A){const M={...A,status:C,updatedAt:new Date};s({type:"UPDATE_APPOINTMENT",payload:M})}},y=async w=>{confirm("Tem certeza que deseja cancelar este agendamento?")&&(await a(w),h(!1))},k=()=>{const w=j(i),C=[];for(let A=8;A<=20;A++)for(let M=0;M<60;M+=30){const T=`${A.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`;C.push(T)}return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:Q(i,"EEEE, dd 'de' MMMM 'de' yyyy")}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>g("prev"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(li,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>c(new Date),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors",children:"Hoje"}),t.jsx("button",{onClick:()=>g("next"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(ii,{className:"w-5 h-5"})})]})]})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Horários"}),t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:C.map(A=>{const M=w.find(T=>T.startTime===A);return t.jsxs("div",{className:`
                        flex items-center justify-between p-3 rounded-lg border transition-all duration-200
                        ${M?"bg-amber-50 border-amber-200 cursor-pointer hover:bg-amber-100":"bg-slate-50 border-slate-200"}
                      `,onClick:()=>M&&v(M),children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"font-medium text-slate-900",children:A}),M&&t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:M.clientName}),t.jsx("p",{className:"text-sm text-slate-600",children:M.services.map(T=>T.name).join(", ")})]})]}),M&&t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${b(M.status)}`,children:m(M.status)})]},A)})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Resumo do Dia"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Y,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total"})]}),t.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:w.length})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(st,{className:"w-5 h-5 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Confirmados"})]}),t.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:w.filter(A=>A.status==="confirmed").length})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Receita Estimada"}),t.jsx("p",{className:"text-xl font-bold text-slate-900",children:p(w.reduce((A,M)=>A+M.totalPrice,0))})]}),w.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Próximos Agendamentos"}),t.jsx("div",{className:"space-y-2",children:w.filter(A=>A.status!=="cancelled"&&A.status!=="completed").slice(0,3).map(A=>t.jsxs("div",{onClick:()=>v(A),className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:A.startTime}),t.jsx("p",{className:"text-sm text-slate-600",children:A.clientName})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${b(A.status)}`,children:m(A.status)})]},A.id))})]})]})]})]})})]})},N=()=>{const w=f();return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h2",{className:"text-xl font-semibold text-slate-900",children:["Semana de ",Q(w[0],"dd/MM")," a ",Q(w[6],"dd/MM/yyyy")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>g("prev"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(li,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>c(new Date),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors",children:"Esta Semana"}),t.jsx("button",{onClick:()=>g("next"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(ii,{className:"w-5 h-5"})})]})]})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"grid grid-cols-7 gap-4",children:w.map(C=>{const A=j(C),M=An(C,new Date);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:`text-center p-2 rounded-lg ${M?"bg-amber-100 text-amber-900":"text-slate-600"}`,children:[t.jsx("div",{className:"text-sm font-medium",children:Q(C,"EEE")}),t.jsx("div",{className:"text-lg font-bold",children:Q(C,"d")})]}),t.jsx("div",{className:"space-y-1 min-h-[200px]",children:A.map(T=>{var $;return t.jsxs("div",{onClick:()=>v(T),className:"p-2 bg-amber-50 border border-amber-200 rounded text-xs cursor-pointer hover:bg-amber-100 transition-colors",children:[t.jsx("div",{className:"font-medium text-slate-900",children:T.startTime}),t.jsx("div",{className:"text-slate-600 truncate",children:T.clientName}),t.jsxs("div",{className:"text-slate-500 truncate",children:[($=T.services[0])==null?void 0:$.name,T.services.length>1&&` +${T.services.length-1}`]})]},T.id)})})]},C.toISOString())})})})]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Agenda"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex bg-slate-100 rounded-lg p-1",children:["day","week"].map(w=>t.jsx("button",{onClick:()=>l(w),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${n===w?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:w==="day"?"Dia":"Semana"},w))}),t.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Novo Agendamento"]})]})]}),n==="day"&&k(),n==="week"&&N(),d&&o&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Detalhes do Agendamento"}),t.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-slate-600",children:t.jsx(ui,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Cliente"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yt,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-900",children:o.clientName})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ls,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-600",children:o.clientPhone})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ht,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-600",children:o.clientEmail})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Agendamento"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Y,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-600",children:Q(hf(o.date),"dd/MM/yyyy")})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(be,{className:"w-4 h-4 text-slate-500"}),t.jsxs("span",{className:"text-slate-600",children:[o.startTime," - ",o.endTime]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yt,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-600",children:o.barberName})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Serviços"}),t.jsxs("div",{className:"space-y-2",children:[o.services.map(w=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:w.name}),t.jsx("span",{className:"font-medium",children:p(w.price)})]},w.id)),t.jsxs("div",{className:"border-t border-slate-200 pt-2 flex justify-between items-center",children:[t.jsx("span",{className:"font-semibold text-slate-900",children:"Total"}),t.jsx("span",{className:"font-bold text-amber-600",children:p(o.totalPrice)})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Status"}),t.jsxs("select",{value:o.status,onChange:w=>u(o.id,w.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"pending",children:"Pendente"}),t.jsx("option",{value:"confirmed",children:"Confirmado"}),t.jsx("option",{value:"in_progress",children:"Em Andamento"}),t.jsx("option",{value:"completed",children:"Concluído"}),t.jsx("option",{value:"no_show",children:"Não Compareceu"})]})]}),o.notes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Observações"}),t.jsx("p",{className:"text-slate-600 text-sm bg-slate-50 p-3 rounded-lg",children:o.notes})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Fechar"}),t.jsx("button",{onClick:()=>y(o.id),className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Cancelar"})]})]})})]})}function bg(){const{state:e,getAvailableSlots:s,bookAppointment:a}=Za(),{user:r}=Fe(),[n,l]=S.useState(1),[i,c]=S.useState([]),[o,x]=S.useState(null),[d,h]=S.useState(new Date),[p,b]=S.useState(""),[m,g]=S.useState({name:(r==null?void 0:r.name)||"Cliente Exemplo",email:(r==null?void 0:r.email)||"cliente@exemplo.com",phone:"11999999999",notes:""}),[j,f]=S.useState(!1),[v,u]=S.useState(!1),y=[{step:1,title:"Serviços",completed:i.length>0},{step:2,title:"Profissional",completed:o!==null},{step:3,title:"Data e Hora",completed:d&&p!==""},{step:4,title:"Confirmação",completed:!0}],k=i.reduce((E,O)=>E+O.duration,0),N=i.reduce((E,O)=>E+O.price,0),w=E=>{c(O=>O.find(oe=>oe.id===E.id)?O.filter(oe=>oe.id!==E.id):[...O,E])},C=E=>{x(E),b("")},A=()=>{const E=[];for(let O=0;O<7;O++)E.push(Ja(new Date,O));return E},M=o?s(o.id,d):[],T=async()=>{if(!(!o||i.length===0||!p)){f(!0);try{const E=p,H=parseInt(E.split(":")[0])*60+parseInt(E.split(":")[1])+k,oe=`${Math.floor(H/60).toString().padStart(2,"0")}:${(H%60).toString().padStart(2,"0")}`;await a({clientId:"temp_client",clientName:m.name,clientPhone:m.phone,clientEmail:m.email,barberId:o.id,barberName:o.name,serviceIds:i.map(D=>D.id),services:i,date:Q(d,"yyyy-MM-dd"),startTime:E,endTime:oe,totalDuration:k,totalPrice:N,status:"pending",notes:m.notes,reminderSent:!1,confirmationSent:!1}),u(!0)}catch(E){console.error("Booking failed:",E)}finally{f(!1)}}},$=E=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E);return v?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(qs,{className:"w-8 h-8 text-green-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Agendamento Confirmado!"}),t.jsx("p",{className:"text-slate-600 mb-6",children:"Seu agendamento foi realizado com sucesso. Você receberá uma confirmação por email e WhatsApp."}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-6 text-left",children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Detalhes do Agendamento:"}),t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Data:"})," ",Q(d,"dd/MM/yyyy")]}),t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Horário:"})," ",p]}),t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Profissional:"})," ",o==null?void 0:o.name]}),t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Serviços:"})," ",i.map(E=>E.name).join(", ")]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Total:"})," ",$(N)]})]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-amber-500 text-white py-3 rounded-lg font-semibold hover:bg-amber-600 transition-colors",children:"Fazer Novo Agendamento"})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[t.jsx("div",{className:"bg-white shadow-sm border-b border-slate-200",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Agendar Horário"}),t.jsx("p",{className:"text-slate-600",children:"Escolha seus serviços e horário preferido"})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:y.map((E,O)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`
                w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold
                ${n===E.step?"bg-amber-500 text-white":E.completed?"bg-green-500 text-white":"bg-slate-200 text-slate-600"}
              `,children:E.completed?t.jsx(qs,{className:"w-5 h-5"}):E.step}),t.jsx("span",{className:`ml-2 text-sm font-medium ${n===E.step?"text-amber-600":"text-slate-600"}`,children:E.title}),O<y.length-1&&t.jsx(oo,{className:"w-4 h-4 text-slate-400 mx-4"})]},E.step))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[n===1&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Escolha seus serviços"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.services.filter(E=>E.isActive).map(E=>t.jsx("div",{onClick:()=>w(E),className:`
                          border-2 rounded-lg p-4 cursor-pointer transition-all duration-200
                          ${i.find(O=>O.id===E.id)?"border-amber-500 bg-amber-50":"border-slate-200 hover:border-slate-300"}
                        `,children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("img",{src:E.image,alt:E.name,className:"w-16 h-16 rounded-lg object-cover"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-900",children:E.name}),t.jsx("p",{className:"text-sm text-slate-600 mb-2",children:E.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[t.jsx(be,{className:"w-4 h-4 mr-1"}),E.duration,"min"]}),t.jsx("span",{className:"font-semibold text-amber-600",children:$(E.price)})]})]})]})},E.id))})]}),n===2&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Escolha seu profissional"}),t.jsx("div",{className:"space-y-4",children:e.barbers.filter(E=>E.isActive).map(E=>t.jsx("div",{onClick:()=>C(E),className:`
                          border-2 rounded-lg p-4 cursor-pointer transition-all duration-200
                          ${(o==null?void 0:o.id)===E.id?"border-amber-500 bg-amber-50":"border-slate-200 hover:border-slate-300"}
                        `,children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("img",{src:E.avatar,alt:E.name,className:"w-16 h-16 rounded-full object-cover"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-900",children:E.name}),t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"text-sm text-slate-600",children:E.rating})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:E.specialties.map(O=>t.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 text-xs rounded-full",children:O},O))})]})]})},E.id))})]}),n===3&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Escolha data e horário"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-medium text-slate-900 mb-3",children:"Selecione a data"}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:A().map(E=>t.jsxs("button",{onClick:()=>{h(E),b("")},className:`
                            p-3 rounded-lg text-center transition-all duration-200
                            ${Q(d,"yyyy-MM-dd")===Q(E,"yyyy-MM-dd")?"bg-amber-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}
                          `,children:[t.jsx("div",{className:"text-xs font-medium",children:Q(E,"EEE")}),t.jsx("div",{className:"text-lg font-bold",children:Q(E,"d")})]},E.toISOString()))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-slate-900 mb-3",children:"Horários disponíveis"}),M.length>0?t.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:M.map(E=>t.jsx("button",{onClick:()=>b(E),className:`
                              p-3 rounded-lg text-sm font-medium transition-all duration-200
                              ${p===E?"bg-amber-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}
                            `,children:E},E))}):t.jsx("p",{className:"text-slate-500 text-center py-8",children:"Nenhum horário disponível para esta data"})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Observações (opcional)"}),t.jsx("textarea",{value:m.notes,onChange:E=>g(O=>({...O,notes:E.target.value})),rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Alguma preferência ou observação especial?"})]})]}),n===4&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Confirmar agendamento"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Resumo do agendamento"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Data:"}),t.jsx("span",{className:"font-medium",children:Q(d,"dd/MM/yyyy")})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Horário:"}),t.jsx("span",{className:"font-medium",children:p})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Profissional:"}),t.jsx("span",{className:"font-medium",children:o==null?void 0:o.name})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Serviços:"}),t.jsx("span",{className:"font-medium",children:i.map(E=>E.name).join(", ")})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Duração:"}),t.jsxs("span",{className:"font-medium",children:[k," minutos"]})]}),t.jsxs("div",{className:"flex justify-between border-t border-slate-200 pt-2",children:[t.jsx("span",{className:"font-semibold text-slate-900",children:"Total:"}),t.jsx("span",{className:"font-bold text-amber-600",children:$(N)})]})]})]}),t.jsx("button",{onClick:T,disabled:j,className:"w-full bg-amber-500 text-white py-4 rounded-lg font-semibold hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Confirmando...":"Confirmar Agendamento"})]})]}),t.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-slate-200",children:[t.jsx("button",{onClick:()=>l(E=>Math.max(1,E-1)),disabled:n===1,className:"px-6 py-2 text-slate-600 hover:text-slate-900 disabled:opacity-50 disabled:cursor-not-allowed",children:"Voltar"}),t.jsx("button",{onClick:()=>l(E=>Math.min(4,E+1)),disabled:!y[n-1].completed||n===4,className:"px-6 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Próximo"})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-6",children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Resumo"}),i.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Serviços"}),t.jsx("div",{className:"space-y-2",children:i.map(E=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:E.name}),t.jsx("span",{className:"font-medium",children:$(E.price)})]},E.id))})]}),o&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Profissional"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("img",{src:o.avatar,alt:o.name,className:"w-8 h-8 rounded-full object-cover"}),t.jsx("span",{className:"text-sm text-slate-900",children:o.name})]})]}),d&&p&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Data e Hora"}),t.jsxs("div",{className:"text-sm text-slate-900",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(Y,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{children:Q(d,"dd/MM/yyyy")})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(be,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{children:p})]})]})]}),i.length>0&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Duração total:"}),t.jsxs("span",{className:"text-sm font-medium",children:[k," min"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-semibold text-slate-900",children:"Total:"}),t.jsx("span",{className:"font-bold text-amber-600 text-lg",children:$(N)})]})]})]})})]})]})]})}function jg({onFiltersChange:e,onExportResults:s}){var d,h;const{state:a}=fs(),[r,n]=S.useState(!1),[l,i]=S.useState({}),c=(p,b)=>{const m={...l,[p]:b};i(m),e(m)},o=()=>{i({}),e({})},x=()=>Object.values(l).filter(p=>p!==void 0&&p!==""&&(Array.isArray(p)?p.length>0:!0)).length;return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-500"}),t.jsx("input",{type:"text",placeholder:"Buscar por nome, telefone ou email...",value:l.name||"",onChange:p=>c("name",p.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:()=>n(!r),className:`inline-flex items-center px-4 py-3 border rounded-lg transition-colors ${r||x()>0?"border-amber-500 text-amber-600 bg-amber-50":"border-slate-300 text-slate-600 hover:bg-slate-50"}`,children:[t.jsx(er,{className:"w-4 h-4 mr-2"}),"Filtros",x()>0&&t.jsx("span",{className:"ml-2 px-2 py-0.5 bg-amber-500 text-white text-xs rounded-full",children:x()})]}),t.jsxs("button",{onClick:s,className:"inline-flex items-center px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[t.jsx(qt,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),r&&t.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone"}),t.jsx("input",{type:"tel",value:l.phone||"",onChange:p=>c("phone",p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail"}),t.jsx("input",{type:"email",value:l.email||"",onChange:p=>c("email",p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:((d=l.status)==null?void 0:d[0])||"",onChange:p=>c("status",p.target.value?[p.target.value]:[]),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"active",children:"Ativo"}),t.jsx("option",{value:"inactive",children:"Inativo"}),t.jsx("option",{value:"blocked",children:"Bloqueado"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nível de Fidelidade"}),t.jsxs("select",{value:((h=l.loyaltyLevel)==null?void 0:h[0])||"",onChange:p=>c("loyaltyLevel",p.target.value?[p.target.value]:[]),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"bronze",children:"Bronze"}),t.jsx("option",{value:"silver",children:"Prata"}),t.jsx("option",{value:"gold",children:"Ouro"}),t.jsx("option",{value:"platinum",children:"Platina"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Última Visita (De)"}),t.jsx("input",{type:"date",value:l.lastVisitFrom?l.lastVisitFrom.toISOString().split("T")[0]:"",onChange:p=>c("lastVisitFrom",p.target.value?new Date(p.target.value):void 0),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Última Visita (Até)"}),t.jsx("input",{type:"date",value:l.lastVisitTo?l.lastVisitTo.toISOString().split("T")[0]:"",onChange:p=>c("lastVisitTo",p.target.value?new Date(p.target.value):void 0),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Valor Gasto (Mínimo)"}),t.jsx("input",{type:"number",value:l.totalSpentMin||"",onChange:p=>c("totalSpentMin",p.target.value?parseFloat(p.target.value):void 0),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"R$ 0,00"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Valor Gasto (Máximo)"}),t.jsx("input",{type:"number",value:l.totalSpentMax||"",onChange:p=>c("totalSpentMax",p.target.value?parseFloat(p.target.value):void 0),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"R$ 9999,99"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Mês de Aniversário"}),t.jsxs("select",{value:l.birthdayMonth||"",onChange:p=>c("birthdayMonth",p.target.value?parseInt(p.target.value):void 0),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:1,children:"Janeiro"}),t.jsx("option",{value:2,children:"Fevereiro"}),t.jsx("option",{value:3,children:"Março"}),t.jsx("option",{value:4,children:"Abril"}),t.jsx("option",{value:5,children:"Maio"}),t.jsx("option",{value:6,children:"Junho"}),t.jsx("option",{value:7,children:"Julho"}),t.jsx("option",{value:8,children:"Agosto"}),t.jsx("option",{value:9,children:"Setembro"}),t.jsx("option",{value:10,children:"Outubro"}),t.jsx("option",{value:11,children:"Novembro"}),t.jsx("option",{value:12,children:"Dezembro"})]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:l.hasAllergies===!0,onChange:p=>c("hasAllergies",p.target.checked?!0:void 0),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Possui alergias"})]})}),t.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-200",children:[t.jsx("button",{onClick:o,className:"text-sm text-slate-600 hover:text-slate-900 transition-colors",children:"Limpar todos os filtros"}),t.jsxs("div",{className:"text-sm text-slate-600",children:[x()," filtro",x()!==1?"s":""," ativo",x()!==1?"s":""]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-slate-200",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mx-auto mb-2",children:t.jsx(Ve,{className:"w-6 h-6 text-blue-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:a.clients.length}),t.jsx("p",{className:"text-sm text-slate-600",children:"Total de Clientes"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg mx-auto mb-2",children:t.jsx(Y,{className:"w-6 h-6 text-green-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:a.clients.filter(p=>p.status==="active").length}),t.jsx("p",{className:"text-sm text-slate-600",children:"Clientes Ativos"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-amber-100 rounded-lg mx-auto mb-2",children:t.jsx(ge,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["R$ ",Math.round(a.clients.reduce((p,b)=>p+b.totalSpent,0)/a.clients.length)]}),t.jsx("p",{className:"text-sm text-slate-600",children:"Ticket Médio"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg mx-auto mb-2",children:t.jsx(le,{className:"w-6 h-6 text-purple-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:Math.round(a.clients.reduce((p,b)=>p+b.loyaltyProgram.currentPoints,0)/a.clients.length)}),t.jsx("p",{className:"text-sm text-slate-600",children:"Pontos Médios"})]})]})]})}function yg({client:e,onSave:s,onCancel:a}){var g,j,f,v,u,y,k;fs();const[r,n]=S.useState({fullName:(e==null?void 0:e.fullName)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",birthDate:e!=null&&e.birthDate?e.birthDate.toISOString().split("T")[0]:"",anniversaryDate:e!=null&&e.anniversaryDate?e.anniversaryDate.toISOString().split("T")[0]:"",address:{street:((g=e==null?void 0:e.address)==null?void 0:g.street)||"",number:((j=e==null?void 0:e.address)==null?void 0:j.number)||"",complement:((f=e==null?void 0:e.address)==null?void 0:f.complement)||"",neighborhood:((v=e==null?void 0:e.address)==null?void 0:v.neighborhood)||"",city:((u=e==null?void 0:e.address)==null?void 0:u.city)||"",state:((y=e==null?void 0:e.address)==null?void 0:y.state)||"",zipCode:((k=e==null?void 0:e.address)==null?void 0:k.zipCode)||""},cpf:(e==null?void 0:e.cpf)||"",photo:(e==null?void 0:e.photo)||"",favoriteServices:(e==null?void 0:e.preferences.favoriteServices)||[],preferredProfessional:(e==null?void 0:e.preferences.preferredProfessional)||"",specialNotes:(e==null?void 0:e.preferences.specialNotes)||"",allergies:(e==null?void 0:e.preferences.allergies.join(", "))||"",restrictions:(e==null?void 0:e.preferences.restrictions.join(", "))||"",preferredFrequency:(e==null?void 0:e.preferences.preferredFrequency)||"monthly",whatsapp:(e==null?void 0:e.communicationPreferences.whatsapp)??!0,email:(e==null?void 0:e.communicationPreferences.email)??!0,sms:(e==null?void 0:e.communicationPreferences.sms)??!1,marketingConsent:(e==null?void 0:e.communicationPreferences.marketingConsent)??!1,reminderPreference:(e==null?void 0:e.communicationPreferences.reminderPreference)||"1_day",dataProcessingConsent:(e==null?void 0:e.lgpdConsent.dataProcessingConsent)??!1,lgpdMarketingConsent:(e==null?void 0:e.lgpdConsent.marketingConsent)??!1,dataRetentionPeriod:(e==null?void 0:e.lgpdConsent.dataRetentionPeriod)||5}),[l,i]=S.useState({}),[c,o]=S.useState([]),x=[{id:"s1",name:"Corte Feminino"},{id:"s2",name:"Coloração"},{id:"s3",name:"Escova"},{id:"s4",name:"Hidratação"},{id:"s5",name:"Manicure"},{id:"s6",name:"Pedicure"}],d=[{id:"b1",name:"Ana Costa"},{id:"b2",name:"Carla Silva"},{id:"b3",name:"Fernanda Santos"}],h=()=>{const N={};return r.fullName.trim()||(N.fullName="Nome completo é obrigatório"),r.phone.trim()?/^\d{10,11}$/.test(r.phone.replace(/\D/g,""))||(N.phone="Telefone deve ter 10 ou 11 dígitos"):N.phone="Telefone é obrigatório",r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(N.email="E-mail inválido"):N.email="E-mail é obrigatório",r.birthDate||(N.birthDate="Data de nascimento é obrigatória"),r.dataProcessingConsent||(N.dataProcessingConsent="Consentimento para processamento de dados é obrigatório"),i(N),Object.keys(N).length===0},p=N=>{if(N.preventDefault(),!h())return;const w={id:(e==null?void 0:e.id)||`c_${Date.now()}`,fullName:r.fullName,phone:r.phone,email:r.email,birthDate:new Date(r.birthDate),anniversaryDate:r.anniversaryDate?new Date(r.anniversaryDate):void 0,address:r.address.street?r.address:void 0,cpf:r.cpf||void 0,photo:r.photo||void 0,documents:(e==null?void 0:e.documents)||[],termsAccepted:(e==null?void 0:e.termsAccepted)||[],preferences:{favoriteServices:r.favoriteServices,preferredProfessional:r.preferredProfessional||void 0,specialNotes:r.specialNotes,allergies:r.allergies?r.allergies.split(",").map(C=>C.trim()):[],restrictions:r.restrictions?r.restrictions.split(",").map(C=>C.trim()):[],preferredFrequency:r.preferredFrequency,preferredTimeSlots:(e==null?void 0:e.preferences.preferredTimeSlots)||[],preferredDays:(e==null?void 0:e.preferences.preferredDays)||[]},loyaltyProgram:(e==null?void 0:e.loyaltyProgram)||{currentPoints:0,totalPointsEarned:0,totalPointsRedeemed:0,currentLevel:"bronze",nextLevelPoints:500,benefits:[],pointsHistory:[]},serviceHistory:(e==null?void 0:e.serviceHistory)||[],productHistory:(e==null?void 0:e.productHistory)||[],feedbackHistory:(e==null?void 0:e.feedbackHistory)||[],photoGallery:(e==null?void 0:e.photoGallery)||[],communicationPreferences:{whatsapp:r.whatsapp,email:r.email,sms:r.sms,phone:!1,marketingConsent:r.marketingConsent,reminderPreference:r.reminderPreference,birthdayMessages:!0,promotionalMessages:r.marketingConsent},createdAt:(e==null?void 0:e.createdAt)||new Date,updatedAt:new Date,lastVisit:e==null?void 0:e.lastVisit,totalSpent:(e==null?void 0:e.totalSpent)||0,visitCount:(e==null?void 0:e.visitCount)||0,status:(e==null?void 0:e.status)||"active",lgpdConsent:{dataProcessingConsent:r.dataProcessingConsent,marketingConsent:r.lgpdMarketingConsent,dataRetentionPeriod:r.dataRetentionPeriod,consentDate:(e==null?void 0:e.lgpdConsent.consentDate)||new Date,lastUpdated:new Date,dataPortabilityRequests:(e==null?void 0:e.lgpdConsent.dataPortabilityRequests)||[],deletionRequests:(e==null?void 0:e.lgpdConsent.deletionRequests)||[]}};s(w)},b=N=>{const w=Array.from(N.target.files||[]);o(C=>[...C,...w])},m=N=>{o(w=>w.filter((C,A)=>A!==N))};return t.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-sm border border-slate-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:e?"Editar Cliente":"Cadastro de Cliente"}),t.jsx("p",{className:"text-slate-600 mt-1",children:"Preencha as informações do cliente seguindo as normas da LGPD"})]}),t.jsxs("form",{onSubmit:p,className:"p-6 space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Dados Pessoais (Obrigatórios)"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),t.jsx("input",{type:"text",value:r.fullName,onChange:N=>n(w=>({...w,fullName:N.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${l.fullName?"border-red-500":"border-slate-300"}`,placeholder:"Digite o nome completo"}),l.fullName&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),l.fullName]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone Celular *"}),t.jsx("input",{type:"tel",value:r.phone,onChange:N=>n(w=>({...w,phone:N.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${l.phone?"border-red-500":"border-slate-300"}`,placeholder:"(11) 99999-9999"}),l.phone&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),l.phone]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail *"}),t.jsx("input",{type:"email",value:r.email,onChange:N=>n(w=>({...w,email:N.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${l.email?"border-red-500":"border-slate-300"}`,placeholder:"cliente@email.com"}),l.email&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),l.email]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data de Nascimento *"}),t.jsx("input",{type:"date",value:r.birthDate,onChange:N=>n(w=>({...w,birthDate:N.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${l.birthDate?"border-red-500":"border-slate-300"}`}),l.birthDate&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),l.birthDate]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data de Aniversário"}),t.jsx("input",{type:"date",value:r.anniversaryDate,onChange:N=>n(w=>({...w,anniversaryDate:N.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Dados Complementares (Opcionais)"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF"}),t.jsx("input",{type:"text",value:r.cpf,onChange:N=>n(w=>({...w,cpf:N.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"000.000.000-00"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Foto do Cliente"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"url",value:r.photo,onChange:N=>n(w=>({...w,photo:N.target.value})),className:"flex-1 px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"URL da foto"}),t.jsx("button",{type:"button",className:"px-4 py-3 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors",children:t.jsx(co,{className:"w-5 h-5"})})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Endereço"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsx("input",{type:"text",value:r.address.street,onChange:N=>n(w=>({...w,address:{...w.address,street:N.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Rua/Avenida"})}),t.jsx("div",{children:t.jsx("input",{type:"text",value:r.address.number,onChange:N=>n(w=>({...w,address:{...w.address,number:N.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Número"})}),t.jsx("div",{children:t.jsx("input",{type:"text",value:r.address.complement,onChange:N=>n(w=>({...w,address:{...w.address,complement:N.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Complemento"})}),t.jsx("div",{children:t.jsx("input",{type:"text",value:r.address.neighborhood,onChange:N=>n(w=>({...w,address:{...w.address,neighborhood:N.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Bairro"})}),t.jsx("div",{children:t.jsx("input",{type:"text",value:r.address.city,onChange:N=>n(w=>({...w,address:{...w.address,city:N.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Cidade"})}),t.jsx("div",{children:t.jsx("input",{type:"text",value:r.address.zipCode,onChange:N=>n(w=>({...w,address:{...w.address,zipCode:N.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"CEP"})})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Documentos e Termos"}),t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx(Mm,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 mb-2",children:"Arraste arquivos aqui ou clique para selecionar"}),t.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:b,className:"hidden",id:"file-upload"}),t.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors cursor-pointer",children:[t.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Selecionar Arquivos"]})]}),c.length>0&&t.jsx("div",{className:"mt-4 space-y-2",children:c.map((N,w)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded",children:[t.jsx("span",{className:"text-sm text-slate-700",children:N.name}),t.jsx("button",{type:"button",onClick:()=>m(w),className:"text-red-600 hover:text-red-700",children:t.jsx(De,{className:"w-4 h-4"})})]},w))})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Preferências do Cliente"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Serviços Favoritos"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:x.map(N=>t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:r.favoriteServices.includes(N.id),onChange:w=>{w.target.checked?n(C=>({...C,favoriteServices:[...C.favoriteServices,N.id]})):n(C=>({...C,favoriteServices:C.favoriteServices.filter(A=>A!==N.id)}))},className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-sm text-slate-700",children:N.name})]},N.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Profissional Preferido"}),t.jsxs("select",{value:r.preferredProfessional,onChange:N=>n(w=>({...w,preferredProfessional:N.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Selecione um profissional"}),d.map(N=>t.jsx("option",{value:N.id,children:N.name},N.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Frequência Preferida"}),t.jsxs("select",{value:r.preferredFrequency,onChange:N=>n(w=>({...w,preferredFrequency:N.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"weekly",children:"Semanal"}),t.jsx("option",{value:"biweekly",children:"Quinzenal"}),t.jsx("option",{value:"monthly",children:"Mensal"}),t.jsx("option",{value:"quarterly",children:"Trimestral"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Observações Especiais"}),t.jsx("textarea",{value:r.specialNotes,onChange:N=>n(w=>({...w,specialNotes:N.target.value})),rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Preferências de horário, observações sobre o atendimento, etc."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Alergias (separadas por vírgula)"}),t.jsx("input",{type:"text",value:r.allergies,onChange:N=>n(w=>({...w,allergies:N.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Níquel, Parafenilenodiamina"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Restrições (separadas por vírgula)"}),t.jsx("input",{type:"text",value:r.restrictions,onChange:N=>n(w=>({...w,restrictions:N.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Não usar produtos com amônia"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Preferências de Comunicação"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-700 mb-3",children:"Como prefere receber comunicações?"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:r.whatsapp,onChange:N=>n(w=>({...w,whatsapp:N.target.checked})),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-sm text-slate-700",children:"WhatsApp"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:r.email,onChange:N=>n(w=>({...w,email:N.target.checked})),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-sm text-slate-700",children:"E-mail"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:r.sms,onChange:N=>n(w=>({...w,sms:N.target.checked})),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-sm text-slate-700",children:"SMS"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Lembrete de Agendamento"}),t.jsxs("select",{value:r.reminderPreference,onChange:N=>n(w=>({...w,reminderPreference:N.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"none",children:"Não enviar lembretes"}),t.jsx("option",{value:"1_hour",children:"1 hora antes"}),t.jsx("option",{value:"2_hours",children:"2 horas antes"}),t.jsx("option",{value:"1_day",children:"1 dia antes"}),t.jsx("option",{value:"2_days",children:"2 dias antes"})]})]}),t.jsx("div",{className:"flex items-center space-x-4 pt-6",children:t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:r.marketingConsent,onChange:N=>n(w=>({...w,marketingConsent:N.target.checked})),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Aceita receber promoções"})]})})]})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center",children:[t.jsx(di,{className:"w-5 h-5 text-blue-600 mr-2"}),"Consentimentos LGPD"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-start space-x-3",children:[t.jsx("input",{type:"checkbox",checked:r.dataProcessingConsent,onChange:N=>n(w=>({...w,dataProcessingConsent:N.target.checked})),className:"mt-1 rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Consentimento para Processamento de Dados *"}),t.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Autorizo o processamento dos meus dados pessoais para prestação de serviços, agendamentos e comunicações relacionadas ao atendimento."})]})]}),l.dataProcessingConsent&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),l.dataProcessingConsent]})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-start space-x-3",children:[t.jsx("input",{type:"checkbox",checked:r.lgpdMarketingConsent,onChange:N=>n(w=>({...w,lgpdMarketingConsent:N.target.checked})),className:"mt-1 rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Consentimento para Marketing"}),t.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Autorizo o uso dos meus dados para envio de promoções, novidades e comunicações de marketing."})]})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Período de Retenção de Dados"}),t.jsxs("select",{value:r.dataRetentionPeriod,onChange:N=>n(w=>({...w,dataRetentionPeriod:parseInt(N.target.value)})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:3,children:"3 anos"}),t.jsx("option",{value:5,children:"5 anos"}),t.jsx("option",{value:10,children:"10 anos"})]}),t.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Seus dados serão mantidos pelo período selecionado ou até solicitação de exclusão."})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:a,className:"px-6 py-3 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancelar"}),t.jsxs("button",{type:"submit",className:"px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors flex items-center",children:[t.jsx(qs,{className:"w-4 h-4 mr-2"}),e?"Atualizar Cliente":"Cadastrar Cliente"]})]})]})]})}function Ng({client:e,onEdit:s,onClose:a}){const{exportClientData:r,sendMessage:n}=fs(),[l,i]=S.useState("overview"),[c,o]=S.useState(!1),x=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),d=u=>u.toLocaleDateString("pt-BR"),h=u=>{switch(u){case"bronze":return"bg-orange-100 text-orange-800";case"silver":return"bg-slate-100 text-slate-800";case"gold":return"bg-yellow-100 text-yellow-800";case"platinum":return"bg-purple-100 text-purple-800";default:return"bg-slate-100 text-slate-800"}},p=u=>{switch(u){case"bronze":return"🥉";case"silver":return"🥈";case"gold":return"🥇";case"platinum":return"💎";default:return"⭐"}},b=async()=>{o(!0);try{const u=await r(e.id),y=URL.createObjectURL(u),k=document.createElement("a");k.href=y,k.download=`dados-cliente-${e.fullName.replace(/\s+/g,"-").toLowerCase()}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(y)}catch(u){console.error("Erro ao exportar dados:",u)}finally{o(!1)}},m=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-slate-50 rounded-lg p-6",children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Informações Pessoais"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(yt,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-900",children:e.fullName})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ls,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-900",children:e.phone})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ht,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-900",children:e.email})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Y,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-900",children:d(e.birthDate)})]}),e.anniversaryDate&&t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(_r,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-900",children:d(e.anniversaryDate)})]}),e.address&&t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(uo,{className:"w-4 h-4 text-slate-500 mt-0.5"}),t.jsxs("span",{className:"text-slate-900",children:[e.address.street,", ",e.address.number,e.address.complement&&`, ${e.address.complement}`,t.jsx("br",{}),e.address.neighborhood,", ",e.address.city," - ",e.address.state,t.jsx("br",{}),"CEP: ",e.address.zipCode]})]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-6",children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Estatísticas"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:e.visitCount}),t.jsx("p",{className:"text-sm text-slate-600",children:"Visitas"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:x(e.totalSpent)}),t.jsx("p",{className:"text-sm text-slate-600",children:"Total Gasto"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.loyaltyProgram.currentPoints}),t.jsx("p",{className:"text-sm text-slate-600",children:"Pontos"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.lastVisit?d(e.lastVisit):"Nunca"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Última Visita"})]})]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-6",children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Preferências"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Serviços Favoritos"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.preferences.favoriteServices.map(u=>t.jsxs("span",{className:"px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-sm",children:["Serviço ",u]},u))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Frequência Preferida"}),t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:e.preferences.preferredFrequency==="weekly"?"Semanal":e.preferences.preferredFrequency==="biweekly"?"Quinzenal":e.preferences.preferredFrequency==="monthly"?"Mensal":"Trimestral"})]}),e.preferences.allergies.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Alergias"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.preferences.allergies.map((u,y)=>t.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm flex items-center",children:[t.jsx(ms,{className:"w-3 h-3 mr-1"}),u]},y))})]}),e.preferences.specialNotes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Observações"}),t.jsx("p",{className:"text-sm text-slate-600 bg-white p-3 rounded border",children:e.preferences.specialNotes})]})]})]})]}),g=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Histórico de Serviços"}),e.serviceHistory.length>0?t.jsx("div",{className:"space-y-3",children:e.serviceHistory.map(u=>t.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900",children:u.serviceName}),t.jsxs("p",{className:"text-sm text-slate-600",children:["com ",u.professionalName," • ",d(u.date)]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-slate-900",children:x(u.finalPrice)}),t.jsxs("p",{className:"text-sm text-amber-600",children:["+",u.pointsEarned," pontos"]})]})]})},u.id))}):t.jsxs("div",{className:"text-center py-8 bg-slate-50 rounded-lg",children:[t.jsx(oi,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Nenhum serviço realizado ainda"})]})]}),e.feedbackHistory.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Avaliações"}),t.jsx("div",{className:"space-y-3",children:e.feedbackHistory.map(u=>t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"flex items-center space-x-2",children:[...Array(5)].map((y,k)=>t.jsx(le,{className:`w-4 h-4 ${k<u.rating?"text-yellow-500 fill-current":"text-slate-300"}`},k))}),t.jsx("span",{className:"text-sm text-slate-500",children:d(u.createdAt)})]}),t.jsx("p",{className:"text-slate-700",children:u.comment})]},u.id))})]})]}),j=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Programa de Fidelidade"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-2xl",children:p(e.loyaltyProgram.currentLevel)}),t.jsxs("div",{children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(e.loyaltyProgram.currentLevel)}`,children:e.loyaltyProgram.currentLevel.toUpperCase()}),t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:e.loyaltyProgram.nextLevelPoints>0?`Faltam ${e.loyaltyProgram.nextLevelPoints} pontos para o próximo nível`:"Nível máximo atingido!"})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-3xl font-bold text-amber-600",children:e.loyaltyProgram.currentPoints}),t.jsx("p",{className:"text-sm text-slate-600",children:"Pontos Disponíveis"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 text-center",children:[t.jsx(ne,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.loyaltyProgram.totalPointsEarned}),t.jsx("p",{className:"text-sm text-slate-600",children:"Total Ganho"})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 text-center",children:[t.jsx(_r,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.loyaltyProgram.totalPointsRedeemed}),t.jsx("p",{className:"text-sm text-slate-600",children:"Total Resgatado"})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 text-center",children:[t.jsx(Tm,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.loyaltyProgram.benefits.length}),t.jsx("p",{className:"text-sm text-slate-600",children:"Benefícios Ativos"})]})]}),e.loyaltyProgram.benefits.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Benefícios Ativos"}),t.jsx("div",{className:"space-y-3",children:e.loyaltyProgram.benefits.map(u=>t.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900",children:u.description}),t.jsx("p",{className:"text-sm text-slate-600",children:u.type==="discount"?`${u.value}% de desconto`:u.type==="free_service"?"Serviço gratuito":u.description})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:u.isActive?"Ativo":"Inativo"})]})},u.id))})]}),e.loyaltyProgram.pointsHistory.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Histórico de Pontos"}),t.jsx("div",{className:"space-y-2",children:e.loyaltyProgram.pointsHistory.slice(0,10).map(u=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:u.description}),t.jsx("p",{className:"text-sm text-slate-600",children:d(u.createdAt)})]}),t.jsxs("span",{className:`font-semibold ${u.type==="earned"?"text-green-600":"text-red-600"}`,children:[u.type==="earned"?"+":"-",u.points," pts"]})]},u.id))})]})]}),f=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-50 rounded-lg p-6",children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Preferências de Comunicação"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2 ${e.communicationPreferences.whatsapp?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:t.jsx(Or,{className:"w-6 h-6"})}),t.jsx("p",{className:"text-sm font-medium",children:"WhatsApp"}),t.jsx("p",{className:"text-xs text-slate-600",children:e.communicationPreferences.whatsapp?"Ativo":"Inativo"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2 ${e.communicationPreferences.email?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-400"}`,children:t.jsx(ht,{className:"w-6 h-6"})}),t.jsx("p",{className:"text-sm font-medium",children:"E-mail"}),t.jsx("p",{className:"text-xs text-slate-600",children:e.communicationPreferences.email?"Ativo":"Inativo"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2 ${e.communicationPreferences.sms?"bg-purple-100 text-purple-600":"bg-slate-100 text-slate-400"}`,children:t.jsx(ls,{className:"w-6 h-6"})}),t.jsx("p",{className:"text-sm font-medium",children:"SMS"}),t.jsx("p",{className:"text-xs text-slate-600",children:e.communicationPreferences.sms?"Ativo":"Inativo"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2 ${e.communicationPreferences.marketingConsent?"bg-amber-100 text-amber-600":"bg-slate-100 text-slate-400"}`,children:t.jsx(_r,{className:"w-6 h-6"})}),t.jsx("p",{className:"text-sm font-medium",children:"Marketing"}),t.jsx("p",{className:"text-xs text-slate-600",children:e.communicationPreferences.marketingConsent?"Autorizado":"Não autorizado"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Enviar Mensagem"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-left",children:[t.jsx(Or,{className:"w-6 h-6 text-green-600 mb-2"}),t.jsx("h4",{className:"font-medium text-slate-900",children:"WhatsApp"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Enviar mensagem via WhatsApp"})]}),t.jsxs("button",{className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-left",children:[t.jsx(ht,{className:"w-6 h-6 text-blue-600 mb-2"}),t.jsx("h4",{className:"font-medium text-slate-900",children:"E-mail"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Enviar e-mail personalizado"})]}),t.jsxs("button",{className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-left",children:[t.jsx(ls,{className:"w-6 h-6 text-purple-600 mb-2"}),t.jsx("h4",{className:"font-medium text-slate-900",children:"SMS"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Enviar mensagem de texto"})]})]})]})]}),v=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center",children:[t.jsx(di,{className:"w-5 h-5 text-blue-600 mr-2"}),"Status dos Consentimentos LGPD"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Processamento de Dados"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Autorização para uso dos dados pessoais"})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.lgpdConsent.dataProcessingConsent?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.lgpdConsent.dataProcessingConsent?"Autorizado":"Não Autorizado"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Marketing"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Autorização para comunicações promocionais"})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.lgpdConsent.marketingConsent?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.lgpdConsent.marketingConsent?"Autorizado":"Não Autorizado"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Período de Retenção"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Tempo de armazenamento dos dados"})]}),t.jsxs("span",{className:"px-3 py-1 bg-slate-100 text-slate-800 rounded-full text-sm font-medium",children:[e.lgpdConsent.dataRetentionPeriod," anos"]})]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-6",children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Histórico de Consentimentos"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-700",children:"Data do primeiro consentimento:"}),t.jsx("span",{className:"font-medium text-slate-900",children:d(e.lgpdConsent.consentDate)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-700",children:"Última atualização:"}),t.jsx("span",{className:"font-medium text-slate-900",children:d(e.lgpdConsent.lastUpdated)})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Direitos do Titular"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:b,disabled:c,className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-left disabled:opacity-50",children:[t.jsx(qt,{className:"w-6 h-6 text-blue-600 mb-2"}),t.jsx("h4",{className:"font-medium text-slate-900",children:"Exportar Dados"}),t.jsx("p",{className:"text-sm text-slate-600",children:c?"Exportando...":"Baixar todos os dados do cliente"})]}),t.jsxs("button",{className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-left",children:[t.jsx(ms,{className:"w-6 h-6 text-red-600 mb-2"}),t.jsx("h4",{className:"font-medium text-slate-900",children:"Solicitar Exclusão"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Processar solicitação de exclusão de dados"})]})]})]})]});return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[e.photo?t.jsx("img",{src:e.photo,alt:e.fullName,className:"w-16 h-16 rounded-full object-cover"}):t.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center",children:t.jsx(yt,{className:"w-8 h-8 text-slate-500"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:e.fullName}),t.jsxs("p",{className:"text-slate-600",children:["Cliente desde ",d(e.createdAt)]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status==="active"?"Ativo":"Inativo"}),t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(e.loyaltyProgram.currentLevel)}`,children:[p(e.loyaltyProgram.currentLevel)," ",e.loyaltyProgram.currentLevel.toUpperCase()]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:s,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors flex items-center",children:[t.jsx(Va,{className:"w-4 h-4 mr-2"}),"Editar"]}),t.jsx("button",{onClick:a,className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Fechar"})]})]})}),t.jsx("div",{className:"border-b border-slate-200",children:t.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Visão Geral",icon:yt},{id:"history",label:"Histórico",icon:oi},{id:"loyalty",label:"Fidelidade",icon:le},{id:"communication",label:"Comunicação",icon:Or},{id:"lgpd",label:"LGPD",icon:di}].map(u=>{const y=u.icon;return t.jsxs("button",{onClick:()=>i(u.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center space-x-2 ${l===u.id?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[t.jsx(y,{className:"w-4 h-4"}),t.jsx("span",{children:u.label})]},u.id)})})}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[l==="overview"&&m(),l==="history"&&g(),l==="loyalty"&&j(),l==="communication"&&f(),l==="lgpd"&&v()]})]})})}function wg(){const{state:e,dispatch:s,searchClients:a}=fs(),[r,n]=S.useState(!1),[l,i]=S.useState(!1),[c,o]=S.useState(null),[x,d]=S.useState(null),[h,p]=S.useState({}),b=a(h),m=N=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N),g=N=>N.toLocaleDateString("pt-BR"),j=N=>{switch(N){case"bronze":return"bg-orange-100 text-orange-800";case"silver":return"bg-slate-100 text-slate-800";case"gold":return"bg-yellow-100 text-yellow-800";case"platinum":return"bg-purple-100 text-purple-800";default:return"bg-slate-100 text-slate-800"}},f=N=>{s(x?{type:"UPDATE_CLIENT",payload:N}:{type:"ADD_CLIENT",payload:N}),n(!1),d(null)},v=N=>{d(N),n(!0)},u=N=>{o(N),i(!0)},y=N=>{confirm("Tem certeza que deseja excluir este cliente? Esta ação não pode ser desfeita.")&&s({type:"DELETE_CLIENT",payload:N})},k=()=>{const N=[["Nome","Email","Telefone","Última Visita","Total Gasto","Pontos","Nível"].join(","),...b.map(M=>[M.fullName,M.email,M.phone,M.lastVisit?g(M.lastVisit):"Nunca",M.totalSpent.toString(),M.loyaltyProgram.currentPoints.toString(),M.loyaltyProgram.currentLevel].join(","))].join(`
`),w=new Blob([N],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),A=URL.createObjectURL(w);C.setAttribute("href",A),C.setAttribute("download",`clientes-${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)};return r?t.jsx(yg,{client:x||void 0,onSave:f,onCancel:()=>{n(!1),d(null)}}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Gerenciamento de Clientes"}),t.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),t.jsx(jg,{onFiltersChange:p,onExportResults:k}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:["Lista de Clientes (",b.length,")"]})}),b.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Cliente"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Contato"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Última Visita"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Total Gasto"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Fidelidade"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Ações"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:b.map(N=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[N.photo?t.jsx("img",{src:N.photo,alt:N.fullName,className:"w-10 h-10 rounded-full object-cover"}):t.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-slate-600 font-medium",children:N.fullName.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:N.fullName}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Cliente desde ",g(N.createdAt)]})]})]})}),t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-slate-900",children:N.phone}),t.jsx("p",{className:"text-sm text-slate-600",children:N.email})]})}),t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Y,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-sm text-slate-900",children:N.lastVisit?g(N.lastVisit):"Nunca"})]})}),t.jsxs("td",{className:"py-4 px-6",children:[t.jsx("span",{className:"font-medium text-slate-900",children:m(N.totalSpent)}),t.jsxs("p",{className:"text-sm text-slate-600",children:[N.visitCount," visitas"]})]}),t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(N.loyaltyProgram.currentLevel)}`,children:N.loyaltyProgram.currentLevel.toUpperCase()}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(le,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"text-sm font-medium text-slate-900",children:N.loyaltyProgram.currentPoints})]})]})}),t.jsx("td",{className:"py-4 px-6",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.status==="active"?"Ativo":"Inativo"})}),t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>u(N),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Ver perfil",children:t.jsx(eg,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>v(N),className:"p-1 text-amber-600 hover:bg-amber-100 rounded transition-colors",title:"Editar",children:t.jsx(Va,{className:"w-4 h-4"})}),t.jsx("button",{className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Enviar mensagem",children:t.jsx(Or,{className:"w-4 h-4"})}),t.jsx("button",{className:"p-1 text-purple-600 hover:bg-purple-100 rounded transition-colors",title:"Adicionar pontos",children:t.jsx(_r,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>y(N.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Excluir",children:t.jsx(Qs,{className:"w-4 h-4"})})]})})]},N.id))})]})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ee,{className:"w-8 h-8 text-slate-500"})}),t.jsx("p",{className:"text-slate-600 mb-4",children:Object.keys(h).length>0?"Nenhum cliente encontrado com os filtros aplicados":"Nenhum cliente cadastrado ainda"}),t.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Cadastrar Primeiro Cliente"]})]})]}),l&&c&&t.jsx(Ng,{client:c,onEdit:()=>{i(!1),v(c)},onClose:()=>{i(!1),o(null)}})]})}function Sg(){hm();const[e,s]=S.useState("month"),a=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i),r={totalRevenue:15420,totalExpenses:4820,netProfit:10600,revenueGrowth:12.5,expenseGrowth:-8.2,profitGrowth:18.3,paymentMethods:{cash:6200,card:7800,pix:1420},commissionsTotal:8650,averageTicket:42},n=[{day:"Seg",value:850,expenses:320},{day:"Ter",value:1200,expenses:450},{day:"Qua",value:950,expenses:380},{day:"Qui",value:1800,expenses:520},{day:"Sex",value:2100,expenses:680},{day:"Sáb",value:2800,expenses:780},{day:"Dom",value:1600,expenses:420}],l=Math.max(...n.map(i=>Math.max(i.value,i.expenses)));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Financeiro"}),t.jsxs("select",{value:e,onChange:i=>s(i.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"week",children:"Esta Semana"}),t.jsx("option",{value:"month",children:"Este Mês"}),t.jsx("option",{value:"quarter",children:"Este Trimestre"}),t.jsx("option",{value:"year",children:"Este Ano"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Receita Total"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:a(r.totalRevenue)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(ne,{className:"w-4 h-4 text-green-500 mr-1"}),t.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",r.revenueGrowth,"%"]}),t.jsx("span",{className:"text-slate-500 text-sm ml-1",children:"este mês"})]})]}),t.jsx("div",{className:"bg-green-50 p-3 rounded-xl",children:t.jsx(ge,{className:"w-6 h-6 text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Despesas"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:a(r.totalExpenses)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(pt,{className:"w-4 h-4 text-green-500 mr-1"}),t.jsxs("span",{className:"text-sm font-medium text-green-600",children:[r.expenseGrowth,"%"]}),t.jsx("span",{className:"text-slate-500 text-sm ml-1",children:"este mês"})]})]}),t.jsx("div",{className:"bg-red-50 p-3 rounded-xl",children:t.jsx(pt,{className:"w-6 h-6 text-red-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Lucro Líquido"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:a(r.netProfit)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(ne,{className:"w-4 h-4 text-green-500 mr-1"}),t.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",r.profitGrowth,"%"]}),t.jsx("span",{className:"text-slate-500 text-sm ml-1",children:"este mês"})]})]}),t.jsx("div",{className:"bg-blue-50 p-3 rounded-xl",children:t.jsx(ne,{className:"w-6 h-6 text-blue-600"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Receita vs Despesas"}),t.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:n.map((i,c)=>t.jsxs("div",{className:"flex-1 flex flex-col items-center space-y-1",children:[t.jsxs("div",{className:"w-full flex flex-col items-center space-y-1",children:[t.jsx("div",{className:"w-full bg-green-500 rounded-t-lg transition-all duration-300 hover:bg-green-600",style:{height:`${i.value/l*200}px`},title:`Receita: ${a(i.value)}`}),t.jsx("div",{className:"w-full bg-red-400 rounded-t-lg transition-all duration-300 hover:bg-red-500",style:{height:`${i.expenses/l*200}px`},title:`Despesas: ${a(i.expenses)}`})]}),t.jsx("span",{className:"text-xs text-slate-600 mt-2",children:i.day})]},c))}),t.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Receita"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Despesas"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Métodos de Pagamento"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:t.jsx(Xf,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Dinheiro"}),t.jsxs("p",{className:"text-sm text-slate-600",children:[(r.paymentMethods.cash/r.totalRevenue*100).toFixed(1),"% do total"]})]})]}),t.jsx("span",{className:"font-bold text-slate-900",children:a(r.paymentMethods.cash)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:t.jsx(Zf,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Cartão"}),t.jsxs("p",{className:"text-sm text-slate-600",children:[(r.paymentMethods.card/r.totalRevenue*100).toFixed(1),"% do total"]})]})]}),t.jsx("span",{className:"font-bold text-slate-900",children:a(r.paymentMethods.card)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"bg-purple-50 p-2 rounded-lg",children:t.jsx(ig,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"PIX"}),t.jsxs("p",{className:"text-sm text-slate-600",children:[(r.paymentMethods.pix/r.totalRevenue*100).toFixed(1),"% do total"]})]})]}),t.jsx("span",{className:"font-bold text-slate-900",children:a(r.paymentMethods.pix)})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Comissões dos Profissionais"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"João Silva"}),t.jsx("p",{className:"text-sm text-slate-600",children:"60% de comissão"})]}),t.jsx("span",{className:"font-bold text-slate-900",children:a(5190)})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Pedro Santos"}),t.jsx("p",{className:"text-sm text-slate-600",children:"50% de comissão"})]}),t.jsx("span",{className:"font-bold text-slate-900",children:a(3460)})]}),t.jsx("div",{className:"pt-3 border-t border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-semibold text-slate-900",children:"Total em Comissões"}),t.jsx("span",{className:"font-bold text-lg text-slate-900",children:a(r.commissionsTotal)})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Métricas Importantes"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Ticket Médio"}),t.jsx("span",{className:"font-bold text-slate-900",children:a(r.averageTicket)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Margem de Lucro"}),t.jsxs("span",{className:"font-bold text-green-600",children:[(r.netProfit/r.totalRevenue*100).toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Custo por Atendimento"}),t.jsx("span",{className:"font-bold text-slate-900",children:a(18.5)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"ROI do Mês"}),t.jsx("span",{className:"font-bold text-green-600",children:"+24.8%"})]})]})]})]})]})}function Cg({professional:e,onSave:s,onCancel:a}){var A,M,T,$,E,O,H,oe;const[r,n]=S.useState({fullName:(e==null?void 0:e.fullName)||"",cpf:(e==null?void 0:e.cpf)||"",rg:(e==null?void 0:e.rg)||"",birthDate:e!=null&&e.birthDate?e.birthDate.toISOString().split("T")[0]:"",address:{street:((A=e==null?void 0:e.address)==null?void 0:A.street)||"",number:((M=e==null?void 0:e.address)==null?void 0:M.number)||"",complement:((T=e==null?void 0:e.address)==null?void 0:T.complement)||"",neighborhood:(($=e==null?void 0:e.address)==null?void 0:$.neighborhood)||"",city:((E=e==null?void 0:e.address)==null?void 0:E.city)||"",state:((O=e==null?void 0:e.address)==null?void 0:O.state)||"",zipCode:((H=e==null?void 0:e.address)==null?void 0:H.zipCode)||""},phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",whatsapp:(e==null?void 0:e.whatsapp)||"",photo:(e==null?void 0:e.photo)||"",specialties:(e==null?void 0:e.specialties)||[],admissionDate:e!=null&&e.admissionDate?e.admissionDate.toISOString().split("T")[0]:"",contractType:(e==null?void 0:e.contractType)||"employee",status:(e==null?void 0:e.status)||"active"}),[l,i]=S.useState((e==null?void 0:e.services)||[]),[c,o]=S.useState(((oe=e==null?void 0:e.workingHours)==null?void 0:oe.regularHours)||{monday:{isWorking:!0,startTime:"08:00",endTime:"18:00"},tuesday:{isWorking:!0,startTime:"08:00",endTime:"18:00"},wednesday:{isWorking:!0,startTime:"08:00",endTime:"18:00"},thursday:{isWorking:!0,startTime:"08:00",endTime:"18:00"},friday:{isWorking:!0,startTime:"08:00",endTime:"18:00"},saturday:{isWorking:!0,startTime:"08:00",endTime:"16:00"},sunday:{isWorking:!1,startTime:"",endTime:""}}),[x,d]=S.useState({}),[h,p]=S.useState([]),[b,m]=S.useState(""),g=[{id:"s1",name:"Corte de Cabelo"},{id:"s2",name:"Barba Completa"},{id:"s3",name:"Corte + Barba"},{id:"s4",name:"Sobrancelha"},{id:"s5",name:"Bigode"},{id:"s6",name:"Lavagem"},{id:"s7",name:"Hidratação"},{id:"s8",name:"Coloração"}],j=[{key:"monday",label:"Segunda-feira"},{key:"tuesday",label:"Terça-feira"},{key:"wednesday",label:"Quarta-feira"},{key:"thursday",label:"Quinta-feira"},{key:"friday",label:"Sexta-feira"},{key:"saturday",label:"Sábado"},{key:"sunday",label:"Domingo"}],f=()=>{const D={};return r.fullName.trim()||(D.fullName="Nome completo é obrigatório"),r.cpf.trim()||(D.cpf="CPF é obrigatório"),r.rg.trim()||(D.rg="RG é obrigatório"),r.birthDate||(D.birthDate="Data de nascimento é obrigatória"),r.phone.trim()||(D.phone="Telefone é obrigatório"),r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(D.email="E-mail inválido"):D.email="E-mail é obrigatório",r.admissionDate||(D.admissionDate="Data de admissão é obrigatória"),r.specialties.length===0&&(D.specialties="Pelo menos uma especialidade é obrigatória"),l.length===0&&(D.services="Pelo menos um serviço deve ser configurado"),d(D),Object.keys(D).length===0},v=D=>{var L,z,_;if(D.preventDefault(),!f())return;const P={id:(e==null?void 0:e.id)||`p_${Date.now()}`,fullName:r.fullName,cpf:r.cpf,rg:r.rg,birthDate:new Date(r.birthDate),address:r.address,phone:r.phone,email:r.email,whatsapp:r.whatsapp||r.phone,photo:r.photo,specialties:r.specialties,services:l,workingHours:{regularHours:c,fixedDaysOff:Object.entries(c).filter(([I,ce])=>!ce.isWorking).map(([I,ce])=>j.findIndex(me=>me.key===I)),vacations:((L=e==null?void 0:e.workingHours)==null?void 0:L.vacations)||[],absences:((z=e==null?void 0:e.workingHours)==null?void 0:z.absences)||[],specialSchedules:((_=e==null?void 0:e.workingHours)==null?void 0:_.specialSchedules)||[]},admissionDate:new Date(r.admissionDate),contractType:r.contractType,status:r.status,documents:(e==null?void 0:e.documents)||[],metrics:(e==null?void 0:e.metrics)||{totalAppointments:0,completedAppointments:0,cancelledAppointments:0,noShowAppointments:0,totalRevenue:0,totalCommissions:0,averageTicket:0,averageRating:0,totalReviews:0,recommendationRate:0,punctualityRate:0,rebookingRate:0,periodStart:new Date,periodEnd:new Date,lastUpdated:new Date},settings:(e==null?void 0:e.settings)||{notifications:{email:!0,sms:!0,whatsapp:!0,push:!0},schedulePreferences:{allowOnlineBooking:!0,requireConfirmation:!1,maxAdvanceBookingDays:30,minAdvanceBookingHours:2,allowSameDayBooking:!0},systemAccess:{canViewOwnSchedule:!0,canEditOwnSchedule:!0,canViewOwnMetrics:!0,canViewClientHistory:!0,canManageOwnServices:!1}},createdAt:(e==null?void 0:e.createdAt)||new Date,updatedAt:new Date,createdBy:(e==null?void 0:e.createdBy)||"admin"};s(P)},u=()=>{b.trim()&&!r.specialties.includes(b.trim())&&(n(D=>({...D,specialties:[...D.specialties,b.trim()]})),m(""))},y=D=>{n(P=>({...P,specialties:P.specialties.filter(L=>L!==D)}))},k=()=>{const D={serviceId:`temp_${Date.now()}`,serviceName:"",commissionRate:50,isActive:!0};i(P=>[...P,D])},N=(D,P,L)=>{i(z=>z.map((_,I)=>I===D?{..._,[P]:L}:_))},w=D=>{i(P=>P.filter((L,z)=>z!==D))},C=(D,P,L)=>{o(z=>({...z,[D]:{...z[D],[P]:L}}))};return t.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-xl shadow-sm border border-slate-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:e?"Editar Profissional":"Cadastro de Profissional"}),t.jsx("p",{className:"text-slate-600 mt-1",children:"Preencha todas as informações do profissional"})]}),t.jsxs("form",{onSubmit:v,className:"p-6 space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Dados Pessoais"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),t.jsx("input",{type:"text",value:r.fullName,onChange:D=>n(P=>({...P,fullName:D.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${x.fullName?"border-red-500":"border-slate-300"}`,placeholder:"Digite o nome completo"}),x.fullName&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),x.fullName]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Foto do Profissional"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"url",value:r.photo,onChange:D=>n(P=>({...P,photo:D.target.value})),className:"flex-1 px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"URL da foto"}),t.jsx("button",{type:"button",className:"px-4 py-3 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors",children:t.jsx(co,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CPF *"}),t.jsx("input",{type:"text",value:r.cpf,onChange:D=>n(P=>({...P,cpf:D.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${x.cpf?"border-red-500":"border-slate-300"}`,placeholder:"000.000.000-00"}),x.cpf&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),x.cpf]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"RG *"}),t.jsx("input",{type:"text",value:r.rg,onChange:D=>n(P=>({...P,rg:D.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${x.rg?"border-red-500":"border-slate-300"}`,placeholder:"00.000.000-0"}),x.rg&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),x.rg]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data de Nascimento *"}),t.jsx("input",{type:"date",value:r.birthDate,onChange:D=>n(P=>({...P,birthDate:D.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${x.birthDate?"border-red-500":"border-slate-300"}`}),x.birthDate&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),x.birthDate]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Endereço"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rua/Avenida"}),t.jsx("input",{type:"text",value:r.address.street,onChange:D=>n(P=>({...P,address:{...P.address,street:D.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Nome da rua ou avenida"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Número"}),t.jsx("input",{type:"text",value:r.address.number,onChange:D=>n(P=>({...P,address:{...P.address,number:D.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"123"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Complemento"}),t.jsx("input",{type:"text",value:r.address.complement,onChange:D=>n(P=>({...P,address:{...P.address,complement:D.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Apto, sala, etc."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bairro"}),t.jsx("input",{type:"text",value:r.address.neighborhood,onChange:D=>n(P=>({...P,address:{...P.address,neighborhood:D.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Nome do bairro"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Cidade"}),t.jsx("input",{type:"text",value:r.address.city,onChange:D=>n(P=>({...P,address:{...P.address,city:D.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Nome da cidade"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CEP"}),t.jsx("input",{type:"text",value:r.address.zipCode,onChange:D=>n(P=>({...P,address:{...P.address,zipCode:D.target.value}})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"00000-000"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Contatos"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone *"}),t.jsx("input",{type:"tel",value:r.phone,onChange:D=>n(P=>({...P,phone:D.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${x.phone?"border-red-500":"border-slate-300"}`,placeholder:"(11) 99999-9999"}),x.phone&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),x.phone]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"E-mail *"}),t.jsx("input",{type:"email",value:r.email,onChange:D=>n(P=>({...P,email:D.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${x.email?"border-red-500":"border-slate-300"}`,placeholder:"profissional@email.com"}),x.email&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),x.email]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"WhatsApp"}),t.jsx("input",{type:"tel",value:r.whatsapp,onChange:D=>n(P=>({...P,whatsapp:D.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Especialidades"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("input",{type:"text",value:b,onChange:D=>m(D.target.value),className:"flex-1 px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Digite uma especialidade",onKeyPress:D=>D.key==="Enter"&&(D.preventDefault(),u())}),t.jsx("button",{type:"button",onClick:u,className:"px-4 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),r.specialties.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:r.specialties.map((D,P)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-sm",children:[D,t.jsx("button",{type:"button",onClick:()=>y(D),className:"ml-2 text-amber-600 hover:text-amber-800",children:t.jsx(De,{className:"w-3 h-3"})})]},P))}),x.specialties&&t.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),x.specialties]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Serviços e Comissões"}),t.jsxs("div",{className:"space-y-4",children:[l.map((D,P)=>t.jsx("div",{className:"border border-slate-200 rounded-lg p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Serviço"}),t.jsxs("select",{value:D.serviceId,onChange:L=>{const z=g.find(_=>_.id===L.target.value);N(P,"serviceId",L.target.value),N(P,"serviceName",(z==null?void 0:z.name)||"")},className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Selecione um serviço"}),g.map(L=>t.jsx("option",{value:L.id,children:L.name},L.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Comissão (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:D.commissionRate,onChange:L=>N(P,"commissionRate",parseFloat(L.target.value)),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Preço Mínimo"}),t.jsx("input",{type:"number",min:"0",step:"0.01",value:D.minimumPrice||"",onChange:L=>N(P,"minimumPrice",L.target.value?parseFloat(L.target.value):void 0),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"R$ 0,00"})]}),t.jsxs("div",{className:"flex items-end space-x-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ativo"}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:D.isActive,onChange:L=>N(P,"isActive",L.target.checked),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Ativo"})]})]}),t.jsx("button",{type:"button",onClick:()=>w(P),className:"p-2 text-red-600 hover:bg-red-100 rounded transition-colors",children:t.jsx(Qs,{className:"w-4 h-4"})})]})]})},P)),t.jsxs("button",{type:"button",onClick:k,className:"w-full p-4 border-2 border-dashed border-slate-300 rounded-lg text-slate-600 hover:border-amber-500 hover:text-amber-600 transition-colors flex items-center justify-center",children:[t.jsx(Ee,{className:"w-5 h-5 mr-2"}),"Adicionar Serviço"]}),x.services&&t.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),x.services]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Horários de Trabalho"}),t.jsx("div",{className:"space-y-4",children:j.map(D=>{var P,L,z,_,I,ce;return t.jsx("div",{className:"border border-slate-200 rounded-lg p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center",children:[t.jsx("div",{children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:((P=c[D.key])==null?void 0:P.isWorking)||!1,onChange:me=>C(D.key,"isWorking",me.target.checked),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"ml-2 font-medium text-slate-900",children:D.label})]})}),((L=c[D.key])==null?void 0:L.isWorking)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Início"}),t.jsx("input",{type:"time",value:((z=c[D.key])==null?void 0:z.startTime)||"",onChange:me=>C(D.key,"startTime",me.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Fim"}),t.jsx("input",{type:"time",value:((_=c[D.key])==null?void 0:_.endTime)||"",onChange:me=>C(D.key,"endTime",me.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Intervalo Início"}),t.jsx("input",{type:"time",value:((I=c[D.key])==null?void 0:I.breakStart)||"",onChange:me=>C(D.key,"breakStart",me.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Intervalo Fim"}),t.jsx("input",{type:"time",value:((ce=c[D.key])==null?void 0:ce.breakEnd)||"",onChange:me=>C(D.key,"breakEnd",me.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})]})},D.key)})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Dados Contratuais"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data de Admissão *"}),t.jsx("input",{type:"date",value:r.admissionDate,onChange:D=>n(P=>({...P,admissionDate:D.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${x.admissionDate?"border-red-500":"border-slate-300"}`}),x.admissionDate&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),x.admissionDate]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de Contrato"}),t.jsxs("select",{value:r.contractType,onChange:D=>n(P=>({...P,contractType:D.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"employee",children:"Funcionário CLT"}),t.jsx("option",{value:"freelancer",children:"Freelancer"}),t.jsx("option",{value:"partner",children:"Sócio"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:D=>n(P=>({...P,status:D.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"active",children:"Ativo"}),t.jsx("option",{value:"inactive",children:"Inativo"}),t.jsx("option",{value:"vacation",children:"Férias"}),t.jsx("option",{value:"medical_leave",children:"Licença Médica"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Documentos"}),t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx(Mm,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 mb-2",children:"Arraste arquivos aqui ou clique para selecionar"}),t.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Certificados, diplomas, contratos, etc."}),t.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:D=>{const P=Array.from(D.target.files||[]);p(L=>[...L,...P])},className:"hidden",id:"document-upload"}),t.jsxs("label",{htmlFor:"document-upload",className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors cursor-pointer",children:[t.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Selecionar Arquivos"]})]}),h.length>0&&t.jsx("div",{className:"mt-4 space-y-2",children:h.map((D,P)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded",children:[t.jsx("span",{className:"text-sm text-slate-700",children:D.name}),t.jsx("button",{type:"button",onClick:()=>p(L=>L.filter((z,_)=>_!==P)),className:"text-red-600 hover:text-red-700",children:t.jsx(De,{className:"w-4 h-4"})})]},P))})]})]}),t.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:a,className:"px-6 py-3 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancelar"}),t.jsxs("button",{type:"submit",className:"px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors flex items-center",children:[t.jsx(qs,{className:"w-4 h-4 mr-2"}),e?"Atualizar Profissional":"Cadastrar Profissional"]})]})]})]})}function kg({professional:e}){const{state:s,dispatch:a,getProfessionalAvailability:r,requestVacation:n,reportAbsence:l}=Mn(),[i,c]=S.useState("week"),[o,x]=S.useState(new Date);S.useState(!1);const[d,h]=S.useState(!1),[p,b]=S.useState(!1),[m,g]=S.useState(null),[j,f]=S.useState({startDate:"",endDate:"",reason:""}),[v,u]=S.useState({date:"",type:"personal",reason:""}),y=T=>{x($=>{const E=i==="week"?7:30;return Ja($,T==="next"?E:-E)})},k=()=>{const T=pm(o,{weekStartsOn:1}),$=bm(o,{weekStartsOn:1});return vm({start:T,end:$})},N=T=>{const $=Q(T,"yyyy-MM-dd");return s.scheduleEvents.filter(E=>E.professionalId===e.id&&Q(E.startDate,"yyyy-MM-dd")===$)},w=T=>{switch(T.type){case"appointment":return T.status==="confirmed"?"bg-green-100 border-green-300 text-green-800":T.status==="cancelled"?"bg-red-100 border-red-300 text-red-800":"bg-yellow-100 border-yellow-300 text-yellow-800";case"break":return"bg-blue-100 border-blue-300 text-blue-800";case"vacation":return"bg-purple-100 border-purple-300 text-purple-800";case"absence":return"bg-orange-100 border-orange-300 text-orange-800";default:return"bg-slate-100 border-slate-300 text-slate-800"}},C=async T=>{T.preventDefault();try{await n(e.id,new Date(j.startDate),new Date(j.endDate),j.reason),h(!1),f({startDate:"",endDate:"",reason:""})}catch($){console.error("Error requesting vacation:",$)}},A=async T=>{T.preventDefault();try{await l(e.id,new Date(v.date),v.type,v.reason),b(!1),u({date:"",type:"personal",reason:""})}catch($){console.error("Error reporting absence:",$)}},M=()=>{const T=k(),$=[];for(let E=8;E<=20;E++)$.push(`${E.toString().padStart(2,"0")}:00`);return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h2",{className:"text-xl font-semibold text-slate-900",children:["Semana de ",Q(T[0],"dd/MM")," a ",Q(T[6],"dd/MM/yyyy")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>y("prev"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(li,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>x(new Date),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors",children:"Esta Semana"}),t.jsx("button",{onClick:()=>y("next"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(ii,{className:"w-5 h-5"})})]})]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("div",{className:"min-w-full",children:[t.jsxs("div",{className:"grid grid-cols-8 border-b border-slate-200",children:[t.jsx("div",{className:"p-4 bg-slate-50 border-r border-slate-200",children:t.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Horário"})}),T.map(E=>{const O=An(E,new Date),H=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][E.getDay()],oe=e.workingHours.regularHours[H];return t.jsxs("div",{className:"p-4 bg-slate-50 border-r border-slate-200 text-center",children:[t.jsx("div",{className:`text-sm font-medium ${O?"text-amber-600":"text-slate-900"}`,children:Q(E,"EEE")}),t.jsx("div",{className:`text-lg font-bold ${O?"text-amber-600":"text-slate-900"}`,children:Q(E,"d")}),!(oe!=null&&oe.isWorking)&&t.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Folga"})]},E.toISOString())})]}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:$.map(E=>t.jsxs("div",{className:"grid grid-cols-8 border-b border-slate-100",children:[t.jsx("div",{className:"p-3 bg-slate-50 border-r border-slate-200 text-center",children:t.jsx("span",{className:"text-sm font-medium text-slate-600",children:E})}),T.map(O=>{const H=N(O).filter(P=>P.startTime<=E&&P.endTime>E),oe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][O.getDay()],D=e.workingHours.regularHours[oe];return t.jsx("div",{className:"p-1 border-r border-slate-200 min-h-[60px] relative",children:(D==null?void 0:D.isWorking)&&t.jsx(t.Fragment,{children:H.map(P=>t.jsxs("div",{onClick:()=>g(P),className:`absolute inset-1 rounded p-1 border cursor-pointer hover:opacity-80 transition-opacity ${w(P)}`,children:[t.jsx("div",{className:"text-xs font-medium truncate",children:P.title}),P.clientName&&t.jsx("div",{className:"text-xs truncate",children:P.clientName})]},P.id))})},`${O.toISOString()}-${E}`)})]},E))})]})})]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Agenda - ",e.fullName]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex bg-slate-100 rounded-lg p-1",children:["week"].map(T=>t.jsx("button",{onClick:()=>c(T),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${i===T?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:T==="week"?"Semana":"Mês"},T))}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:[t.jsx(ng,{className:"w-4 h-4 mr-2"}),"Solicitar Férias"]}),t.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[t.jsx(ms,{className:"w-4 h-4 mr-2"}),"Reportar Falta"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Horários de Trabalho"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:Object.entries(e.workingHours.regularHours).map(([T,$])=>{const E={monday:"Segunda",tuesday:"Terça",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"Sábado",sunday:"Domingo"};return t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-medium text-slate-900 mb-2",children:E[T]}),$.isWorking?t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:[$.startTime," - ",$.endTime]}),$.breakStart&&$.breakEnd&&t.jsxs("div",{className:"text-xs text-slate-500",children:["Intervalo: ",$.breakStart," - ",$.breakEnd]})]}):t.jsx("div",{className:"text-sm text-red-600",children:"Folga"})]},T)})})]}),i==="week"&&M(),e.workingHours.vacations.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Solicitações de Férias"}),t.jsx("div",{className:"space-y-3",children:e.workingHours.vacations.map(T=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-slate-900",children:[Q(T.startDate,"dd/MM/yyyy")," - ",Q(T.endDate,"dd/MM/yyyy")]}),t.jsx("p",{className:"text-sm text-slate-600",children:T.reason})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T.status==="approved"?"bg-green-100 text-green-800":T.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:T.status==="approved"?"Aprovado":T.status==="rejected"?"Rejeitado":"Pendente"})]},T.id))})]}),d&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Solicitar Férias"}),t.jsxs("form",{onSubmit:C,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data de Início"}),t.jsx("input",{type:"date",value:j.startDate,onChange:T=>f($=>({...$,startDate:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data de Fim"}),t.jsx("input",{type:"date",value:j.endDate,onChange:T=>f($=>({...$,endDate:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Motivo"}),t.jsx("textarea",{value:j.reason,onChange:T=>f($=>({...$,reason:T.target.value})),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Descreva o motivo das férias",required:!0})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancelar"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"Solicitar"})]})]})]})}),p&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Reportar Falta"}),t.jsxs("form",{onSubmit:A,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data da Falta"}),t.jsx("input",{type:"date",value:v.date,onChange:T=>u($=>({...$,date:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de Falta"}),t.jsxs("select",{value:v.type,onChange:T=>u($=>({...$,type:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"sick",children:"Doença"}),t.jsx("option",{value:"personal",children:"Pessoal"}),t.jsx("option",{value:"emergency",children:"Emergência"}),t.jsx("option",{value:"other",children:"Outro"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Motivo"}),t.jsx("textarea",{value:v.reason,onChange:T=>u($=>({...$,reason:T.target.value})),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Descreva o motivo da falta",required:!0})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancelar"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Reportar"})]})]})]})})]})}function Pg({professional:e}){const{state:s,generateCommissionReport:a,generatePerformanceReport:r}=Mn(),[n,l]=S.useState((e==null?void 0:e.id)||""),[i,c]=S.useState("commission"),[o,x]=S.useState({start:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[d,h]=S.useState(null),[p,b]=S.useState(null),[m,g]=S.useState(!1),j=N=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N),f=async()=>{if(n){g(!0);try{const N=new Date(o.start),w=new Date(o.end);if(i==="commission"){const C=await a(n,N,w);h(C)}else if(i==="performance"){const C=await r(n,N,w);b(C)}}catch(N){console.error("Error generating report:",N)}finally{g(!1)}}},v=()=>{if(i==="commission"&&d){const N=[["Serviço","Atendimentos","Receita Total","Taxa Comissão (%)","Comissão (R$)"].join(","),...d.services.map(M=>[M.serviceName,M.appointmentCount.toString(),M.totalRevenue.toString(),M.commissionRate.toString(),M.commissionAmount.toString()].join(","))].join(`
`),w=new Blob([N],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),A=URL.createObjectURL(w);C.setAttribute("href",A),C.setAttribute("download",`comissoes-${d.professionalName}-${o.start}-${o.end}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)}},u=()=>d?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Receita Total"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:j(d.totalRevenue)})]}),t.jsx("div",{className:"bg-green-50 p-3 rounded-xl",children:t.jsx(ge,{className:"w-6 h-6 text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Comissão Total"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:j(d.totalCommission)})]}),t.jsx("div",{className:"bg-blue-50 p-3 rounded-xl",children:t.jsx(ne,{className:"w-6 h-6 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Comissão Líquida"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:j(d.netCommission)}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Status: ",t.jsx("span",{className:`font-medium ${d.paymentStatus==="paid"?"text-green-600":d.paymentStatus==="partial"?"text-yellow-600":"text-red-600"}`,children:d.paymentStatus==="paid"?"Pago":d.paymentStatus==="partial"?"Parcial":"Pendente"})]})]}),t.jsx("div",{className:"bg-amber-50 p-3 rounded-xl",children:t.jsx(xt,{className:"w-6 h-6 text-amber-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Detalhamento por Serviço"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Serviço"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Atendimentos"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Receita Total"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Taxa (%)"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Comissão"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:d.services.map(N=>t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-slate-900",children:N.serviceName}),t.jsx("td",{className:"py-3 px-4 text-slate-600",children:N.appointmentCount}),t.jsx("td",{className:"py-3 px-4 text-slate-600",children:j(N.totalRevenue)}),t.jsxs("td",{className:"py-3 px-4 text-slate-600",children:[N.commissionRate,"%"]}),t.jsx("td",{className:"py-3 px-4 font-semibold text-green-600",children:j(N.commissionAmount)})]},N.serviceId))})]})})]})]}):null,y=()=>p?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Atendimentos"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:p.metrics.totalAppointments}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(ne,{className:"w-4 h-4 text-green-500 mr-1"}),t.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",p.comparison.growth.appointments,"%"]})]})]}),t.jsx("div",{className:"bg-blue-50 p-3 rounded-xl",children:t.jsx(Y,{className:"w-6 h-6 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Receita"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:j(p.metrics.totalRevenue)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(ne,{className:"w-4 h-4 text-green-500 mr-1"}),t.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",p.comparison.growth.revenue,"%"]})]})]}),t.jsx("div",{className:"bg-green-50 p-3 rounded-xl",children:t.jsx(ge,{className:"w-6 h-6 text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Avaliação Média"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:p.metrics.averageRating.toFixed(1)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(ne,{className:"w-4 h-4 text-green-500 mr-1"}),t.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",p.comparison.growth.rating,"%"]})]})]}),t.jsx("div",{className:"bg-yellow-50 p-3 rounded-xl",children:t.jsx(le,{className:"w-6 h-6 text-yellow-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Taxa de Conclusão"}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[p.metrics.completionRate.toFixed(1),"%"]}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[p.metrics.completedAppointments," de ",p.metrics.totalAppointments]})]}),t.jsx("div",{className:"bg-purple-50 p-3 rounded-xl",children:t.jsx(xt,{className:"w-6 h-6 text-purple-600"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Métricas de Qualidade"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Taxa de Pontualidade"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:[p.metrics.punctualityRate,"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Taxa de Reagendamento"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:[p.metrics.rebookingRate,"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Taxa de Não Comparecimento"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:[p.metrics.noShowRate.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Taxa de Cancelamento"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:[p.metrics.cancellationRate.toFixed(1),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Ranking"}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-6xl font-bold text-amber-600 mb-2",children:["#",p.ranking.position]}),t.jsxs("p",{className:"text-slate-600 mb-4",children:["de ",p.ranking.totalProfessionals," profissionais"]}),t.jsx("span",{className:"inline-flex items-center px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-sm font-medium",children:p.ranking.category==="revenue"?"Por Receita":p.ranking.category==="appointments"?"Por Atendimentos":"Por Avaliação"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Comparação com Período Anterior"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Atendimentos"}),t.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-slate-900",children:p.comparison.previousPeriod.totalAppointments}),t.jsx("p",{className:"text-xs text-slate-500",children:"Anterior"})]}),t.jsx("div",{className:"text-2xl text-slate-400",children:"→"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-slate-900",children:p.metrics.totalAppointments}),t.jsx("p",{className:"text-xs text-slate-500",children:"Atual"})]})]}),t.jsx("div",{className:"mt-2",children:t.jsxs("span",{className:`text-sm font-medium ${p.comparison.growth.appointments>0?"text-green-600":"text-red-600"}`,children:[p.comparison.growth.appointments>0?"+":"",p.comparison.growth.appointments,"%"]})})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Receita"}),t.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-slate-900",children:j(p.comparison.previousPeriod.totalRevenue)}),t.jsx("p",{className:"text-xs text-slate-500",children:"Anterior"})]}),t.jsx("div",{className:"text-2xl text-slate-400",children:"→"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-slate-900",children:j(p.metrics.totalRevenue)}),t.jsx("p",{className:"text-xs text-slate-500",children:"Atual"})]})]}),t.jsx("div",{className:"mt-2",children:t.jsxs("span",{className:`text-sm font-medium ${p.comparison.growth.revenue>0?"text-green-600":"text-red-600"}`,children:[p.comparison.growth.revenue>0?"+":"",p.comparison.growth.revenue,"%"]})})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Avaliação"}),t.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-slate-900",children:p.comparison.previousPeriod.averageRating.toFixed(1)}),t.jsx("p",{className:"text-xs text-slate-500",children:"Anterior"})]}),t.jsx("div",{className:"text-2xl text-slate-400",children:"→"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-slate-900",children:p.metrics.averageRating.toFixed(1)}),t.jsx("p",{className:"text-xs text-slate-500",children:"Atual"})]})]}),t.jsx("div",{className:"mt-2",children:t.jsxs("span",{className:`text-sm font-medium ${p.comparison.growth.rating>0?"text-green-600":"text-red-600"}`,children:[p.comparison.growth.rating>0?"+":"",p.comparison.growth.rating,"%"]})})]})]})]})]}):null,k=()=>{const N=[...s.professionals].sort((w,C)=>C.metrics.totalRevenue-w.metrics.totalRevenue);return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Ranking de Profissionais"}),t.jsx("div",{className:"space-y-4",children:N.map((w,C)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${C===0?"bg-yellow-500":C===1?"bg-slate-400":C===2?"bg-orange-600":"bg-slate-300"}`,children:C+1}),w.photo?t.jsx("img",{src:w.photo,alt:w.fullName,className:"w-10 h-10 rounded-full object-cover"}):t.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:t.jsx(Ve,{className:"w-5 h-5 text-slate-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:w.fullName}),t.jsx("p",{className:"text-sm text-slate-600",children:w.specialties.join(", ")})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-bold text-slate-900",children:j(w.metrics.totalRevenue)}),t.jsxs("p",{className:"text-sm text-slate-600",children:[w.metrics.totalAppointments," atendimentos"]}),t.jsxs("div",{className:"flex items-center justify-end space-x-1 mt-1",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"text-sm font-medium",children:w.metrics.averageRating.toFixed(1)})]})]})]},w.id))})]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Relatórios e Métricas"}),(d||p)&&t.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[t.jsx(qt,{className:"w-4 h-4 mr-2"}),"Exportar"]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[!e&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Profissional"}),t.jsxs("select",{value:n,onChange:N=>l(N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Selecione um profissional"}),s.professionals.map(N=>t.jsx("option",{value:N.id,children:N.fullName},N.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de Relatório"}),t.jsxs("select",{value:i,onChange:N=>c(N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"commission",children:"Comissões"}),t.jsx("option",{value:"performance",children:"Performance"}),t.jsx("option",{value:"ranking",children:"Ranking"})]})]}),i!=="ranking"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data Início"}),t.jsx("input",{type:"date",value:o.start,onChange:N=>x(w=>({...w,start:N.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data Fim"}),t.jsx("input",{type:"date",value:o.end,onChange:N=>x(w=>({...w,end:N.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})]}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsxs("button",{onClick:f,disabled:m||!n&&!e||i==="ranking",className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(er,{className:"w-4 h-4 mr-2"}),m?"Gerando...":"Gerar Relatório"]})})]}),i==="commission"&&u(),i==="performance"&&y(),i==="ranking"&&k()]})}function Eg(){var N,w;const{state:e,dispatch:s,searchProfessionals:a}=Mn(),[r,n]=S.useState("list"),[l,i]=S.useState(null),[c,o]=S.useState(null),[x,d]=S.useState({}),h=a(x),p=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),b=C=>C.toLocaleDateString("pt-BR"),m=C=>{switch(C){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"vacation":return"bg-blue-100 text-blue-800";case"medical_leave":return"bg-orange-100 text-orange-800";default:return"bg-slate-100 text-slate-800"}},g=C=>{switch(C){case"employee":return"CLT";case"freelancer":return"Freelancer";case"partner":return"Sócio";default:return C}},j=C=>{s(c?{type:"UPDATE_PROFESSIONAL",payload:C}:{type:"ADD_PROFESSIONAL",payload:C}),n("list"),o(null)},f=C=>{o(C),n("registration")},v=C=>{i(C),n("schedule")},u=C=>{i(C),n("reports")},y=C=>{confirm("Tem certeza que deseja excluir este profissional? Esta ação não pode ser desfeita.")&&s({type:"DELETE_PROFESSIONAL",payload:C})},k=C=>{const A=new Date(Date.now()+2592e6);return C.documents.some(M=>M.expiresAt&&M.expiresAt<=A)};return r==="registration"?t.jsx(Cg,{professional:c||void 0,onSave:j,onCancel:()=>{n("list"),o(null)}}):r==="schedule"&&l?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("button",{onClick:()=>n("list"),className:"text-slate-600 hover:text-slate-900 transition-colors",children:"← Voltar"})}),t.jsx(kg,{professional:l})]}):r==="reports"&&l?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("button",{onClick:()=>n("list"),className:"text-slate-600 hover:text-slate-900 transition-colors",children:"← Voltar"})}),t.jsx(Pg,{professional:l})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Gerenciamento de Profissionais"}),t.jsxs("button",{onClick:()=>n("registration"),className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Novo Profissional"]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome"}),t.jsx("input",{type:"text",value:x.name||"",onChange:C=>d(A=>({...A,name:C.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Buscar por nome"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Especialidade"}),t.jsx("input",{type:"text",value:x.specialty||"",onChange:C=>d(A=>({...A,specialty:C.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Buscar por especialidade"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:((N=x.status)==null?void 0:N[0])||"",onChange:C=>d(A=>({...A,status:C.target.value?[C.target.value]:void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"active",children:"Ativo"}),t.jsx("option",{value:"inactive",children:"Inativo"}),t.jsx("option",{value:"vacation",children:"Férias"}),t.jsx("option",{value:"medical_leave",children:"Licença Médica"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de Contrato"}),t.jsxs("select",{value:((w=x.contractType)==null?void 0:w[0])||"",onChange:C=>d(A=>({...A,contractType:C.target.value?[C.target.value]:void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"employee",children:"CLT"}),t.jsx("option",{value:"freelancer",children:"Freelancer"}),t.jsx("option",{value:"partner",children:"Sócio"})]})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Ve,{className:"w-4 h-4 text-blue-600"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total de Profissionais"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.professionals.length})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(st,{className:"w-4 h-4 text-green-600"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Ativos"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.professionals.filter(C=>C.status==="active").length})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:t.jsx(le,{className:"w-4 h-4 text-amber-600"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Avaliação Média"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:(e.professionals.reduce((C,A)=>C+A.metrics.averageRating,0)/e.professionals.length).toFixed(1)})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsx(ms,{className:"w-4 h-4 text-red-600"})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Documentos Vencendo"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.professionals.filter(k).length})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:["Lista de Profissionais (",h.length,")"]})}),h.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Profissional"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Especialidades"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Contrato"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Performance"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-6 font-medium text-slate-600",children:"Ações"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:h.map(C=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[C.photo?t.jsx("img",{src:C.photo,alt:C.fullName,className:"w-10 h-10 rounded-full object-cover"}):t.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-slate-600 font-medium",children:C.fullName.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:C.fullName}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Desde ",b(C.admissionDate)]}),k(C)&&t.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[t.jsx(ms,{className:"w-3 h-3 text-red-500"}),t.jsx("span",{className:"text-xs text-red-600",children:"Documentos vencendo"})]})]})]})}),t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[C.specialties.slice(0,2).map(A=>t.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 rounded-full text-xs",children:A},A)),C.specialties.length>2&&t.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded-full text-xs",children:["+",C.specialties.length-2]})]})}),t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-slate-900",children:g(C.contractType)}),t.jsxs("p",{className:"text-sm text-slate-600",children:[C.services.length," serviços"]})]})}),t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"text-sm font-medium text-slate-900",children:C.metrics.averageRating.toFixed(1)})]}),t.jsx("p",{className:"text-sm text-slate-600",children:p(C.metrics.totalRevenue)}),t.jsxs("p",{className:"text-xs text-slate-500",children:[C.metrics.totalAppointments," atendimentos"]})]})}),t.jsx("td",{className:"py-4 px-6",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(C.status)}`,children:C.status==="active"?"Ativo":C.status==="inactive"?"Inativo":C.status==="vacation"?"Férias":"Licença Médica"})}),t.jsx("td",{className:"py-4 px-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>v(C),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Ver agenda",children:t.jsx(Y,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>u(C),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Ver relatórios",children:t.jsx(xt,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>f(C),className:"p-1 text-amber-600 hover:bg-amber-100 rounded transition-colors",title:"Editar",children:t.jsx(Va,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>y(C.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Excluir",children:t.jsx(Qs,{className:"w-4 h-4"})})]})})]},C.id))})]})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ve,{className:"w-8 h-8 text-slate-500"})}),t.jsx("p",{className:"text-slate-600 mb-4",children:Object.keys(x).length>0?"Nenhum profissional encontrado com os filtros aplicados":"Nenhum profissional cadastrado ainda"}),t.jsxs("button",{onClick:()=>n("registration"),className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Cadastrar Primeiro Profissional"]})]})]})]})}function Tg({service:e,onSave:s,onCancel:a}){const{validateService:r}=_n(),{state:n}=Mn(),[l,i]=S.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",price:(e==null?void 0:e.price)||0,duration:(e==null?void 0:e.duration)||30,category:(e==null?void 0:e.category)||"corte",isActive:(e==null?void 0:e.isActive)??!0,image:(e==null?void 0:e.image)||"",enabledProfessionals:(e==null?void 0:e.enabledProfessionals)||[],requirements:(e==null?void 0:e.requirements)||[],contraindications:(e==null?void 0:e.contraindications)||[],afterCareInstructions:(e==null?void 0:e.afterCareInstructions)||""}),[c,o]=S.useState({name:{isValid:!0},description:{isValid:!0},price:{isValid:!0},duration:{isValid:!0},category:{isValid:!0},enabledProfessionals:{isValid:!0}}),[x,d]=S.useState(""),[h,p]=S.useState("");S.useEffect(()=>{const u=r(l);o(u)},[l,r]);const b=u=>{u.preventDefault();const y=r(l);if(o(y),!Object.values(y).every(w=>w.isValid))return;const N={id:(e==null?void 0:e.id)||`s_${Date.now()}`,name:l.name,description:l.description,price:l.price,duration:l.duration,category:l.category,isActive:l.isActive,image:l.image||void 0,enabledProfessionals:l.enabledProfessionals,requirements:l.requirements,contraindications:l.contraindications,afterCareInstructions:l.afterCareInstructions,createdAt:(e==null?void 0:e.createdAt)||new Date,updatedAt:new Date,createdBy:(e==null?void 0:e.createdBy)||"admin",priceHistory:(e==null?void 0:e.priceHistory)||[],metrics:(e==null?void 0:e.metrics)||{totalBookings:0,totalRevenue:0,averageRating:0,totalReviews:0,popularityRank:0,monthlyBookings:0,monthlyRevenue:0,conversionRate:0}};s(N)},m=()=>{x.trim()&&!l.requirements.includes(x.trim())&&(i(u=>({...u,requirements:[...u.requirements,x.trim()]})),d(""))},g=u=>{i(y=>({...y,requirements:y.requirements.filter((k,N)=>N!==u)}))},j=()=>{h.trim()&&!l.contraindications.includes(h.trim())&&(i(u=>({...u,contraindications:[...u.contraindications,h.trim()]})),p(""))},f=u=>{i(y=>({...y,contraindications:y.contraindications.filter((k,N)=>N!==u)}))},v=u=>{i(y=>({...y,enabledProfessionals:y.enabledProfessionals.includes(u)?y.enabledProfessionals.filter(k=>k!==u):[...y.enabledProfessionals,u]}))};return t.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-sm border border-slate-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:e?"Editar Serviço":"Cadastro de Serviço"}),t.jsx("p",{className:"text-slate-600 mt-1",children:"Preencha as informações do serviço seguindo as especificações"})]}),t.jsxs("form",{onSubmit:b,className:"p-6 space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Informações Básicas"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Nome do Serviço *",t.jsx("span",{className:"text-xs text-slate-500 ml-1",children:"(máximo 50 caracteres)"})]}),t.jsx("input",{type:"text",value:l.name,onChange:u=>i(y=>({...y,name:u.target.value})),maxLength:50,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${c.name.isValid?"border-slate-300":"border-red-500"}`,placeholder:"Ex: Corte Masculino Tradicional"}),t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[!c.name.isValid&&t.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.name.message]}),t.jsxs("span",{className:"text-xs text-slate-500 ml-auto",children:[l.name.length,"/50"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Preço (R$) *"}),t.jsx("input",{type:"number",step:"0.01",min:"0",max:"9999.99",value:l.price,onChange:u=>i(y=>({...y,price:parseFloat(u.target.value)||0})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${c.price.isValid?"border-slate-300":"border-red-500"}`,placeholder:"35,00"}),!c.price.isValid&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.price.message]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Duração (minutos) *"}),t.jsx("input",{type:"number",min:"5",max:"480",value:l.duration,onChange:u=>i(y=>({...y,duration:parseInt(u.target.value)||30})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${c.duration.isValid?"border-slate-300":"border-red-500"}`,placeholder:"30"}),!c.duration.isValid&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.duration.message]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Categoria *"}),t.jsxs("select",{value:l.category,onChange:u=>i(y=>({...y,category:u.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${c.category.isValid?"border-slate-300":"border-red-500"}`,children:[t.jsx("option",{value:"corte",children:"Corte"}),t.jsx("option",{value:"barba",children:"Barba"}),t.jsx("option",{value:"quimica",children:"Química"}),t.jsx("option",{value:"estetica",children:"Estética"}),t.jsx("option",{value:"tratamento",children:"Tratamento"})]}),!c.category.isValid&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.category.message]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Imagem do Serviço"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"url",value:l.image,onChange:u=>i(y=>({...y,image:u.target.value})),className:"flex-1 px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"URL da imagem"}),t.jsx("button",{type:"button",className:"px-4 py-3 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors",children:t.jsx(co,{className:"w-5 h-5"})})]})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Descrição Detalhada *",t.jsx("span",{className:"text-xs text-slate-500 ml-1",children:"(máximo 1000 caracteres)"})]}),t.jsx("textarea",{value:l.description,onChange:u=>i(y=>({...y,description:u.target.value})),maxLength:1e3,rows:4,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${c.description.isValid?"border-slate-300":"border-red-500"}`,placeholder:"Descreva detalhadamente o procedimento, técnicas utilizadas e resultado esperado..."}),t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[!c.description.isValid&&t.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.description.message]}),t.jsxs("span",{className:"text-xs text-slate-500 ml-auto",children:[l.description.length,"/1000"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Profissionais Habilitados *"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.professionals.map(u=>t.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:l.enabledProfessionals.includes(u.id),onChange:()=>v(u.id),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),u.photo?t.jsx("img",{src:u.photo,alt:u.fullName,className:"w-8 h-8 rounded-full object-cover"}):t.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-slate-600 text-sm font-medium",children:u.fullName.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:u.fullName}),t.jsx("p",{className:"text-sm text-slate-600",children:u.specialties.join(", ")})]})]},u.id))}),!c.enabledProfessionals.isValid&&t.jsxs("p",{className:"text-red-600 text-sm mt-2 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.enabledProfessionals.message]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Requisitos"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("input",{type:"text",value:x,onChange:u=>d(u.target.value),className:"flex-1 px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Cabelo limpo",onKeyPress:u=>u.key==="Enter"&&(u.preventDefault(),m())}),t.jsx("button",{type:"button",onClick:m,className:"px-4 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),l.requirements.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:l.requirements.map((u,y)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[u,t.jsx("button",{type:"button",onClick:()=>g(y),className:"ml-2 text-blue-600 hover:text-blue-800",children:t.jsx(De,{className:"w-3 h-3"})})]},y))})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Contraindicações"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("input",{type:"text",value:h,onChange:u=>p(u.target.value),className:"flex-1 px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Feridas no couro cabeludo",onKeyPress:u=>u.key==="Enter"&&(u.preventDefault(),j())}),t.jsx("button",{type:"button",onClick:j,className:"px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),l.contraindications.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:l.contraindications.map((u,y)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:[u,t.jsx("button",{type:"button",onClick:()=>f(y),className:"ml-2 text-red-600 hover:text-red-800",children:t.jsx(De,{className:"w-3 h-3"})})]},y))})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Cuidados Pós-Atendimento"}),t.jsx("textarea",{value:l.afterCareInstructions,onChange:u=>i(y=>({...y,afterCareInstructions:u.target.value})),rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Instruções de cuidados que o cliente deve seguir após o atendimento..."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Status"}),t.jsxs("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",checked:l.isActive,onChange:u=>i(y=>({...y,isActive:u.target.checked})),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-slate-900",children:"Serviço ativo e disponível para agendamento"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:a,className:"px-6 py-3 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancelar"}),t.jsxs("button",{type:"submit",className:"px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors flex items-center",children:[t.jsx(qs,{className:"w-4 h-4 mr-2"}),e?"Atualizar Serviço":"Cadastrar Serviço"]})]})]})]})}function Dg({package:e,onSave:s,onCancel:a}){const{state:r,validatePackage:n}=_n(),[l,i]=S.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",services:(e==null?void 0:e.services)||[],discountPercentage:(e==null?void 0:e.discountPercentage)||10,validityPeriod:(e==null?void 0:e.validityPeriod)||30,usageLimit:(e==null?void 0:e.usageLimit)||1,isActive:(e==null?void 0:e.isActive)??!0,startDate:e!=null&&e.startDate?e.startDate.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],endDate:e!=null&&e.endDate?e.endDate.toISOString().split("T")[0]:"",minimumAdvanceBooking:(e==null?void 0:e.minimumAdvanceBooking)||2,allowedDays:(e==null?void 0:e.allowedDays)||[1,2,3,4,5,6],allowedTimeSlots:(e==null?void 0:e.allowedTimeSlots)||[]}),[c,o]=S.useState({name:{isValid:!0},services:{isValid:!0},discountPercentage:{isValid:!0},validityPeriod:{isValid:!0},usageLimit:{isValid:!0}}),[x,d]=S.useState("");S.useEffect(()=>{const u=n(l);o(u)},[l,n]);const h=l.services.reduce((u,y)=>u+y.servicePrice,0),p=h*(1-l.discountPercentage/100),b=u=>{u.preventDefault();const y=n(l);if(o(y),!Object.values(y).every(w=>w.isValid))return;const N={id:(e==null?void 0:e.id)||`pkg_${Date.now()}`,name:l.name,description:l.description,services:l.services,originalPrice:h,discountPercentage:l.discountPercentage,finalPrice:p,validityPeriod:l.validityPeriod,usageLimit:l.usageLimit,isActive:l.isActive,startDate:new Date(l.startDate),endDate:l.endDate?new Date(l.endDate):void 0,minimumAdvanceBooking:l.minimumAdvanceBooking,allowedDays:l.allowedDays,allowedTimeSlots:l.allowedTimeSlots,createdAt:(e==null?void 0:e.createdAt)||new Date,updatedAt:new Date,createdBy:(e==null?void 0:e.createdBy)||"admin",metrics:(e==null?void 0:e.metrics)||{totalSales:0,totalRevenue:0,averageRating:0,conversionRate:0,popularityRank:0,monthlySales:0,monthlyRevenue:0}};s(N)},m=()=>{if(!x)return;const u=r.services.find(N=>N.id===x);if(!u||l.services.some(N=>N.serviceId===x))return;const k={serviceId:u.id,serviceName:u.name,servicePrice:u.price,serviceDuration:u.duration,isRequired:!0,canBeReplaced:!1};i(N=>({...N,services:[...N.services,k]})),d("")},g=u=>{i(y=>({...y,services:y.services.filter((k,N)=>N!==u)}))},j=(u,y,k)=>{i(N=>({...N,services:N.services.map((w,C)=>C===u?{...w,[y]:k}:w)}))},f=u=>{i(y=>({...y,allowedDays:y.allowedDays.includes(u)?y.allowedDays.filter(k=>k!==u):[...y.allowedDays,u].sort()}))},v=[{value:1,label:"Segunda"},{value:2,label:"Terça"},{value:3,label:"Quarta"},{value:4,label:"Quinta"},{value:5,label:"Sexta"},{value:6,label:"Sábado"},{value:0,label:"Domingo"}];return t.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-sm border border-slate-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:e?"Editar Pacote":"Criar Pacote Promocional"}),t.jsx("p",{className:"text-slate-600 mt-1",children:"Configure um pacote com 2 a 5 serviços e defina o desconto aplicado"})]}),t.jsxs("form",{onSubmit:b,className:"p-6 space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Informações Básicas"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome do Pacote *"}),t.jsx("input",{type:"text",value:l.name,onChange:u=>i(y=>({...y,name:u.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${c.name.isValid?"border-slate-300":"border-red-500"}`,placeholder:"Ex: Combo Completo"}),!c.name.isValid&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.name.message]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descrição"}),t.jsx("textarea",{value:l.description,onChange:u=>i(y=>({...y,description:u.target.value})),rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Descreva o pacote e seus benefícios..."})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Serviços do Pacote *",t.jsx("span",{className:"text-sm font-normal text-slate-600 ml-2",children:"(2 a 5 serviços)"})]}),t.jsxs("div",{className:"flex space-x-2 mb-4",children:[t.jsxs("select",{value:x,onChange:u=>d(u.target.value),className:"flex-1 px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Selecione um serviço"}),r.services.filter(u=>!l.services.some(y=>y.serviceId===u.id)).map(u=>t.jsxs("option",{value:u.id,children:[u.name," - R$ ",u.price.toFixed(2)," (",u.duration,"min)"]},u.id))]}),t.jsx("button",{type:"button",onClick:m,disabled:!x,className:"px-4 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),l.services.length>0&&t.jsx("div",{className:"space-y-3",children:l.services.map((u,y)=>t.jsx("div",{className:"border border-slate-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-slate-900",children:u.serviceName}),t.jsxs("p",{className:"text-sm text-slate-600",children:["R$ ",u.servicePrice.toFixed(2)," • ",u.serviceDuration," minutos"]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:u.isRequired,onChange:k=>j(y,"isRequired",k.target.checked),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Obrigatório"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:u.canBeReplaced,onChange:k=>j(y,"canBeReplaced",k.target.checked),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Substituível"})]}),t.jsx("button",{type:"button",onClick:()=>g(y),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:t.jsx(Qs,{className:"w-4 h-4"})})]})]})},u.serviceId))}),!c.services.isValid&&t.jsxs("p",{className:"text-red-600 text-sm mt-2 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.services.message]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Configurações de Preço"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Desconto (%) *",t.jsx("span",{className:"text-xs text-slate-500 ml-1",children:"(máximo 70%)"})]}),t.jsx("input",{type:"number",min:"1",max:"70",value:l.discountPercentage,onChange:u=>i(y=>({...y,discountPercentage:parseFloat(u.target.value)||0})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${c.discountPercentage.isValid?"border-slate-300":"border-red-500"}`,placeholder:"15"}),!c.discountPercentage.isValid&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.discountPercentage.message]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Resumo de Preços"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Preço Original:"}),t.jsxs("span",{className:"font-medium",children:["R$ ",h.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-slate-600",children:["Desconto (",l.discountPercentage,"%):"]}),t.jsxs("span",{className:"text-red-600 font-medium",children:["-R$ ",(h*l.discountPercentage/100).toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between border-t border-slate-200 pt-2",children:[t.jsx("span",{className:"font-semibold text-slate-900",children:"Preço Final:"}),t.jsxs("span",{className:"text-lg font-bold text-amber-600",children:["R$ ",p.toFixed(2)]})]}),t.jsxs("div",{className:"text-xs text-slate-500",children:["Economia de R$ ",(h-p).toFixed(2)]})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Configurações de Validade"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Período de Validade (dias) *",t.jsx("span",{className:"text-xs text-slate-500 ml-1",children:"(15 a 90 dias)"})]}),t.jsx("input",{type:"number",min:"15",max:"90",value:l.validityPeriod,onChange:u=>i(y=>({...y,validityPeriod:parseInt(u.target.value)||30})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${c.validityPeriod.isValid?"border-slate-300":"border-red-500"}`,placeholder:"30"}),!c.validityPeriod.isValid&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.validityPeriod.message]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Limite de Uso por Cliente *"}),t.jsx("input",{type:"number",min:"1",max:"10",value:l.usageLimit,onChange:u=>i(y=>({...y,usageLimit:parseInt(u.target.value)||1})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${c.usageLimit.isValid?"border-slate-300":"border-red-500"}`,placeholder:"1"}),!c.usageLimit.isValid&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[t.jsx(q,{className:"w-4 h-4 mr-1"}),c.usageLimit.message]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Antecedência Mínima (horas)"}),t.jsx("input",{type:"number",min:"0",max:"168",value:l.minimumAdvanceBooking,onChange:u=>i(y=>({...y,minimumAdvanceBooking:parseInt(u.target.value)||0})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"2"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data de Início"}),t.jsx("input",{type:"date",value:l.startDate,onChange:u=>i(y=>({...y,startDate:u.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data de Fim (opcional)"}),t.jsx("input",{type:"date",value:l.endDate,onChange:u=>i(y=>({...y,endDate:u.target.value})),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Restrições de Agendamento"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Dias Permitidos"}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:v.map(u=>t.jsxs("label",{className:"flex flex-col items-center space-y-2",children:[t.jsx("input",{type:"checkbox",checked:l.allowedDays.includes(u.value),onChange:()=>f(u.value),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-xs text-slate-700",children:u.label})]},u.value))})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Status"}),t.jsxs("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",checked:l.isActive,onChange:u=>i(y=>({...y,isActive:u.target.checked})),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("span",{className:"text-slate-900",children:"Pacote ativo e disponível para venda"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:a,className:"px-6 py-3 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancelar"}),t.jsxs("button",{type:"submit",className:"px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors flex items-center",children:[t.jsx(qs,{className:"w-4 h-4 mr-2"}),e?"Atualizar Pacote":"Criar Pacote"]})]})]})]})}function Rg(){const{generateServiceReport:e,generatePackageReport:s}=_n(),[a,r]=S.useState("services"),[n,l]=S.useState({start:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[i,c]=S.useState(null),[o,x]=S.useState(null),[d,h]=S.useState(!1),p=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),b=async()=>{h(!0);try{const f=new Date(n.start),v=new Date(n.end);if(a==="services"){const u=await e(f,v);c(u)}else{const u=await s(f,v);x(u)}}catch(f){console.error("Error generating report:",f)}finally{h(!1)}},m=()=>{if(a==="services"&&i){const f=[["Serviço","Agendamentos","Receita","Avaliação Média","Crescimento (%)"].join(","),...i.topServices.map(k=>[k.serviceName,k.bookings.toString(),k.revenue.toString(),k.averageRating.toString(),k.growthRate.toString()].join(","))].join(`
`),v=new Blob([f],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),y=URL.createObjectURL(v);u.setAttribute("href",y),u.setAttribute("download",`relatorio-servicos-${n.start}-${n.end}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)}},g=()=>i?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Receita Total"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:p(i.revenueAnalysis.totalRevenue)})]}),t.jsx("div",{className:"bg-green-50 p-3 rounded-xl",children:t.jsx(ge,{className:"w-6 h-6 text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Total de Agendamentos"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:i.revenueAnalysis.totalBookings})]}),t.jsx("div",{className:"bg-blue-50 p-3 rounded-xl",children:t.jsx(Y,{className:"w-6 h-6 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Ticket Médio"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:p(i.revenueAnalysis.averageTicket)})]}),t.jsx("div",{className:"bg-amber-50 p-3 rounded-xl",children:t.jsx(ne,{className:"w-6 h-6 text-amber-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Taxa de Conversão"}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[i.revenueAnalysis.conversionRate.toFixed(1),"%"]})]}),t.jsx("div",{className:"bg-purple-50 p-3 rounded-xl",children:t.jsx(xt,{className:"w-6 h-6 text-purple-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Serviços Mais Vendidos"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Posição"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Serviço"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Agendamentos"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Receita"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Avaliação"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Crescimento"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:i.topServices.map((f,v)=>t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${v===0?"bg-yellow-500":v===1?"bg-slate-400":v===2?"bg-orange-600":"bg-slate-300"}`,children:v+1})}),t.jsx("td",{className:"py-3 px-4 font-medium text-slate-900",children:f.serviceName}),t.jsx("td",{className:"py-3 px-4 text-slate-600",children:f.bookings}),t.jsx("td",{className:"py-3 px-4 font-semibold text-green-600",children:p(f.revenue)}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"font-medium",children:f.averageRating.toFixed(1)})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:`flex items-center space-x-1 ${f.growthRate>0?"text-green-600":"text-red-600"}`,children:[f.growthRate>0?t.jsx(ne,{className:"w-4 h-4"}):t.jsx(pt,{className:"w-4 h-4"}),t.jsxs("span",{className:"font-medium",children:[f.growthRate>0?"+":"",f.growthRate.toFixed(1),"%"]})]})})]},f.serviceId))})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Performance por Categoria"}),t.jsx("div",{className:"space-y-4",children:i.categoryPerformance.map(f=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium text-slate-900 capitalize",children:f.category}),t.jsxs("span",{className:"text-sm font-medium text-amber-600",children:[f.marketShare,"% do mercado"]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Agendamentos"}),t.jsx("p",{className:"font-semibold text-slate-900",children:f.totalBookings})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Receita"}),t.jsx("p",{className:"font-semibold text-slate-900",children:p(f.totalRevenue)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Preço Médio"}),t.jsx("p",{className:"font-semibold text-slate-900",children:p(f.averagePrice)})]})]})]},f.category))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Tendências Sazonais"}),t.jsx("div",{className:"space-y-3",children:i.trends.seasonalTrends.map(f=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsx("span",{className:"font-medium text-slate-900",children:f.month}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-slate-900",children:p(f.revenue)}),t.jsxs("p",{className:"text-sm text-slate-600",children:[f.bookings," agendamentos"]})]})]},f.month))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Análise de Tendências"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ne,{className:"w-5 h-5 text-green-600"}),t.jsx("h4",{className:"font-medium text-green-900",children:"Maior Crescimento"})]}),t.jsx("p",{className:"text-green-800 font-semibold",children:i.trends.mostGrowingService})]}),t.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(pt,{className:"w-5 h-5 text-red-600"}),t.jsx("h4",{className:"font-medium text-red-900",children:"Maior Declínio"})]}),t.jsx("p",{className:"text-red-800 font-semibold",children:i.trends.mostDecliningService})]})]})]})]}):null,j=()=>o?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Desconto Médio"}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[o.discountAnalysis.averageDiscount.toFixed(1),"%"]})]}),t.jsx("div",{className:"bg-blue-50 p-3 rounded-xl",children:t.jsx(pt,{className:"w-6 h-6 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Economia Oferecida"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:p(o.discountAnalysis.totalSavingsOffered)})]}),t.jsx("div",{className:"bg-green-50 p-3 rounded-xl",children:t.jsx(ge,{className:"w-6 h-6 text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Taxa de Uso"}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[o.usagePatterns.averageUsageRate.toFixed(1),"%"]})]}),t.jsx("div",{className:"bg-purple-50 p-3 rounded-xl",children:t.jsx(xt,{className:"w-6 h-6 text-purple-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Satisfação"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:o.discountAnalysis.customerSatisfaction.toFixed(1)})]}),t.jsx("div",{className:"bg-amber-50 p-3 rounded-xl",children:t.jsx(le,{className:"w-6 h-6 text-amber-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Pacotes Mais Vendidos"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Posição"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Pacote"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Vendas"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Receita"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Conversão"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Avaliação"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:o.topPackages.map((f,v)=>t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${v===0?"bg-yellow-500":v===1?"bg-slate-400":v===2?"bg-orange-600":"bg-slate-300"}`,children:v+1})}),t.jsx("td",{className:"py-3 px-4 font-medium text-slate-900",children:f.packageName}),t.jsx("td",{className:"py-3 px-4 text-slate-600",children:f.sales}),t.jsx("td",{className:"py-3 px-4 font-semibold text-green-600",children:p(f.revenue)}),t.jsxs("td",{className:"py-3 px-4 text-slate-600",children:[f.conversionRate.toFixed(1),"%"]}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"font-medium",children:f.averageRating.toFixed(1)})]})})]},f.packageId))})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Padrões de Uso"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Pacote Mais Usado"}),t.jsx("p",{className:"text-green-800 font-semibold",children:o.usagePatterns.mostUsedPackage})]}),t.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Pacote Menos Usado"}),t.jsx("p",{className:"text-red-800 font-semibold",children:o.usagePatterns.leastUsedPackage})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"Taxa de Expiração"}),t.jsxs("p",{className:"text-amber-800 font-semibold",children:[o.usagePatterns.expirationRate.toFixed(1),"%"]}),t.jsx("p",{className:"text-amber-700 text-sm mt-1",children:"Pacotes que expiraram sem uso"})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Impacto na Receita"}),t.jsxs("p",{className:"text-blue-800 font-semibold",children:[o.discountAnalysis.revenueImpact.toFixed(1),"%"]}),t.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Aumento na receita com pacotes"})]})]})]})]})]}):null;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Relatórios de Serviços"}),(i||o)&&t.jsxs("button",{onClick:m,className:"inline-flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[t.jsx(qt,{className:"w-4 h-4 mr-2"}),"Exportar"]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de Relatório"}),t.jsxs("select",{value:a,onChange:f=>r(f.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"services",children:"Serviços"}),t.jsx("option",{value:"packages",children:"Pacotes"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data Início"}),t.jsx("input",{type:"date",value:n.start,onChange:f=>l(v=>({...v,start:f.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data Fim"}),t.jsx("input",{type:"date",value:n.end,onChange:f=>l(v=>({...v,end:f.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("button",{onClick:b,disabled:d,className:"w-full inline-flex items-center justify-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(er,{className:"w-4 h-4 mr-2"}),d?"Gerando...":"Gerar Relatório"]})})]})}),a==="services"&&g(),a==="packages"&&j(),!i&&!o&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(xt,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:'Selecione o período e clique em "Gerar Relatório" para visualizar os dados'})]})]})}function Ag(){const{state:e,dispatch:s,searchServices:a,searchPackages:r,duplicateService:n,duplicatePackage:l}=_n(),[i,c]=S.useState("services"),[o,x]=S.useState(!1),[d,h]=S.useState(!1),[p,b]=S.useState(null),[m,g]=S.useState(null),[j,f]=S.useState({}),[v,u]=S.useState({}),[y,k]=S.useState(!1),N=a(j),w=r(v),C=_=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_),A=_=>({corte:"Corte",barba:"Barba",quimica:"Química",estetica:"Estética",tratamento:"Tratamento"})[_]||_,M=_=>({corte:"bg-blue-100 text-blue-800",barba:"bg-green-100 text-green-800",quimica:"bg-purple-100 text-purple-800",estetica:"bg-pink-100 text-pink-800",tratamento:"bg-amber-100 text-amber-800"})[_]||"bg-slate-100 text-slate-800",T=_=>{s(p?{type:"UPDATE_SERVICE",payload:_}:{type:"ADD_SERVICE",payload:_}),x(!1),b(null)},$=_=>{s(m?{type:"UPDATE_PACKAGE",payload:_}:{type:"ADD_PACKAGE",payload:_}),h(!1),g(null)},E=_=>{b(_),x(!0)},O=_=>{g(_),h(!0)},H=_=>{confirm("Tem certeza que deseja excluir este serviço? Esta ação não pode ser desfeita.")&&s({type:"DELETE_SERVICE",payload:_})},oe=_=>{confirm("Tem certeza que deseja excluir este pacote? Esta ação não pode ser desfeita.")&&s({type:"DELETE_PACKAGE",payload:_})},D=async _=>{try{await n(_)}catch(I){console.error("Error duplicating service:",I)}},P=async _=>{try{await l(_)}catch(I){console.error("Error duplicating package:",I)}};if(o)return t.jsx(Tg,{service:p||void 0,onSave:T,onCancel:()=>{x(!1),b(null)}});if(d)return t.jsx(Dg,{package:m||void 0,onSave:$,onCancel:()=>{h(!1),g(null)}});const L=()=>{var _;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4 mb-4",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-500"}),t.jsx("input",{type:"text",placeholder:"Buscar serviços...",value:j.name||"",onChange:I=>f(ce=>({...ce,name:I.target.value})),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:()=>k(!y),className:`inline-flex items-center px-4 py-2 border rounded-lg transition-colors ${y?"border-amber-500 text-amber-600 bg-amber-50":"border-slate-300 text-slate-600 hover:bg-slate-50"}`,children:[t.jsx(er,{className:"w-4 h-4 mr-2"}),"Filtros"]}),t.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Novo Serviço"]})]})]}),y&&t.jsx("div",{className:"border-t border-slate-200 pt-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Categoria"}),t.jsxs("select",{value:((_=j.category)==null?void 0:_[0])||"",onChange:I=>f(ce=>({...ce,category:I.target.value?[I.target.value]:void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Todas"}),t.jsx("option",{value:"corte",children:"Corte"}),t.jsx("option",{value:"barba",children:"Barba"}),t.jsx("option",{value:"quimica",children:"Química"}),t.jsx("option",{value:"estetica",children:"Estética"}),t.jsx("option",{value:"tratamento",children:"Tratamento"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Preço Mínimo"}),t.jsx("input",{type:"number",value:j.priceMin||"",onChange:I=>f(ce=>({...ce,priceMin:I.target.value?parseFloat(I.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"R$ 0,00"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Preço Máximo"}),t.jsx("input",{type:"number",value:j.priceMax||"",onChange:I=>f(ce=>({...ce,priceMax:I.target.value?parseFloat(I.target.value):void 0})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"R$ 999,99"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:j.isActive!==void 0?j.isActive.toString():"",onChange:I=>f(ce=>({...ce,isActive:I.target.value===""?void 0:I.target.value==="true"})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Todos"}),t.jsx("option",{value:"true",children:"Ativo"}),t.jsx("option",{value:"false",children:"Inativo"})]})]})]})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(I=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition-shadow flex flex-col h-full",children:[I.image&&t.jsx("img",{src:I.image,alt:I.name,className:"w-full h-52 object-cover"}),t.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-900 text-lg mb-1",children:I.name}),t.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${M(I.category)}`,children:A(I.category)})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>E(I),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Editar",children:t.jsx(Va,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>D(I.id),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Duplicar",children:t.jsx(Lc,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>H(I.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Excluir",children:t.jsx(Qs,{className:"w-4 h-4"})})]})]}),t.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-3 flex-grow",children:I.description}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 bg-slate-50 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Preço"}),t.jsx("p",{className:"font-bold text-amber-600 text-lg",children:C(I.price)})]}),t.jsxs("div",{className:"flex flex-col items-center justify-center border-l border-slate-200",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Duração"}),t.jsxs("p",{className:"font-semibold text-slate-900 flex items-center",children:[t.jsx(Clock,{className:"w-4 h-4 mr-1 text-slate-500"}),I.duration," min"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"font-medium",children:I.metrics.averageRating.toFixed(1)}),t.jsxs("span",{className:"text-slate-500",children:["(",I.metrics.totalReviews,")"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ne,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{className:"text-green-600 font-medium",children:I.metrics.monthlyBookings})]})]}),t.jsx("div",{className:`mt-3 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${I.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I.isActive?"Ativo":"Inativo"})]})]},I.id))}),N.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Fc,{className:"w-8 h-8 text-slate-500"})}),t.jsx("p",{className:"text-slate-600 mb-4",children:Object.keys(j).length>0?"Nenhum serviço encontrado com os filtros aplicados":"Nenhum serviço cadastrado ainda"}),t.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Cadastrar Primeiro Serviço"]})]})]})},z=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-500"}),t.jsx("input",{type:"text",placeholder:"Buscar pacotes...",value:v.name||"",onChange:_=>u(I=>({...I,name:_.target.value})),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Novo Pacote"]})]})}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:w.map(_=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4 pb-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-900 text-lg mb-2",children:_.name}),t.jsx("p",{className:"text-sm text-slate-600 mb-3",children:_.description})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>O(_),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Editar",children:t.jsx(Va,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>P(_.id),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Duplicar",children:t.jsx(Lc,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>oe(_.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Excluir",children:t.jsx(Qs,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"mb-4 bg-slate-50 p-4 rounded-lg",children:[t.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[t.jsx(Scissors,{className:"w-4 h-4 mr-2 text-amber-600"}),"Serviços Inclusos:"]}),t.jsx("div",{className:"space-y-3",children:_.services.map(I=>t.jsxs("div",{className:"flex items-center justify-between text-sm bg-white p-2 rounded border border-slate-200",children:[t.jsx("span",{className:"text-slate-700 font-medium",children:I.serviceName}),t.jsx("span",{className:"font-medium text-amber-600",children:C(I.servicePrice)})]},I.serviceId))})]}),t.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg p-4 mb-4 border border-amber-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Preço Original:"}),t.jsx("span",{className:"text-sm line-through text-slate-500",children:C(_.originalPrice)})]}),t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Desconto:"}),t.jsxs("span",{className:"text-sm font-medium text-green-600",children:[_.discountPercentage,"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-semibold text-slate-900",children:"Preço Final:"}),t.jsx("span",{className:"text-xl font-bold text-amber-600",children:C(_.finalPrice)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 border-t border-slate-100 pt-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Calendar,{className:"w-5 h-5 text-slate-400 mr-2"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Validade"}),t.jsxs("p",{className:"font-medium text-slate-900",children:[_.validityPeriod," dias"]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Users,{className:"w-5 h-5 text-slate-400 mr-2"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Limite de Uso"}),t.jsxs("p",{className:"font-medium text-slate-900",children:[_.usageLimit,"x por cliente"]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"font-medium",children:_.metrics.averageRating.toFixed(1)})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ge,{className:"w-4 h-4 text-green-500"}),t.jsxs("span",{className:"text-green-600 font-medium",children:[_.metrics.monthlySales," vendas"]})]})]}),t.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.isActive?"Ativo":"Inativo"})]},_.id))}),w.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Fc,{className:"w-8 h-8 text-slate-500"})}),t.jsx("p",{className:"text-slate-600 mb-4",children:Object.keys(v).length>0?"Nenhum pacote encontrado com os filtros aplicados":"Nenhum pacote cadastrado ainda"}),t.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Criar Primeiro Pacote"]})]})]});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Gerenciamento de Serviços"}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-1",children:t.jsx("div",{className:"grid grid-cols-3 gap-1",children:[{id:"services",label:"Serviços",count:e.services.length},{id:"packages",label:"Pacotes",count:e.packages.length},{id:"reports",label:"Relatórios",count:null}].map(_=>t.jsxs("button",{onClick:()=>c(_.id),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${i===_.id?"bg-amber-500 text-white":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"}`,children:[_.label,_.count!==null&&t.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${i===_.id?"bg-amber-600":"bg-slate-200 text-slate-600"}`,children:_.count})]},_.id))})})})]}),i==="services"&&L(),i==="packages"&&z(),i==="reports"&&t.jsx(Rg,{})]})}function Mg({dateRange:e,selectedProfessional:s,selectedService:a}){const[r,n]=S.useState("monthly"),l=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),i={current:{total:45680,services:38200,products:7480,growth:12.5},previous:{total:40600,services:34100,products:6500},byPeriod:[{period:"Jan",revenue:38500,target:35e3},{period:"Fev",revenue:42300,target:38e3},{period:"Mar",revenue:45680,target:42e3},{period:"Abr",revenue:41200,target:4e4},{period:"Mai",revenue:47800,target:45e3},{period:"Jun",revenue:52100,target:48e3}],byService:[{name:"Corte + Barba",revenue:18500,percentage:40.5},{name:"Corte Simples",revenue:12300,percentage:26.9},{name:"Barba",revenue:8900,percentage:19.5},{name:"Sobrancelha",revenue:3200,percentage:7},{name:"Outros",revenue:2780,percentage:6.1}],byPaymentMethod:[{method:"PIX",amount:18500,percentage:40.5},{method:"Cartão Débito",amount:15200,percentage:33.3},{method:"Cartão Crédito",amount:8900,percentage:19.5},{method:"Dinheiro",amount:3080,percentage:6.7}]},c=Math.max(...i.byPeriod.map(o=>Math.max(o.revenue,o.target)));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Faturamento Total"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:l(i.current.total)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(ne,{className:"w-4 h-4 text-green-500 mr-1"}),t.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",i.current.growth,"%"]}),t.jsx("span",{className:"text-slate-500 text-sm ml-1",children:"vs período anterior"})]})]}),t.jsx("div",{className:"bg-green-50 p-3 rounded-xl",children:t.jsx(ge,{className:"w-6 h-6 text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Receita de Serviços"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:l(i.current.services)}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[(i.current.services/i.current.total*100).toFixed(1),"% do total"]})]}),t.jsx("div",{className:"bg-blue-50 p-3 rounded-xl",children:t.jsx(xt,{className:"w-6 h-6 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Receita de Produtos"}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:l(i.current.products)}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[(i.current.products/i.current.total*100).toFixed(1),"% do total"]})]}),t.jsx("div",{className:"bg-purple-50 p-3 rounded-xl",children:t.jsx(Am,{className:"w-6 h-6 text-purple-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Evolução do Faturamento"}),t.jsx("div",{className:"flex bg-slate-100 rounded-lg p-1",children:["daily","weekly","monthly","yearly"].map(o=>t.jsx("button",{onClick:()=>n(o),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${r===o?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:o==="daily"?"Diário":o==="weekly"?"Semanal":o==="monthly"?"Mensal":"Anual"},o))})]}),t.jsx("div",{className:"h-80 flex items-end justify-between space-x-2",children:i.byPeriod.map((o,x)=>t.jsxs("div",{className:"flex-1 flex flex-col items-center space-y-2",children:[t.jsxs("div",{className:"w-full flex flex-col items-center space-y-1",children:[t.jsx("div",{className:"w-full bg-slate-200 rounded-t-lg opacity-50",style:{height:`${o.target/c*250}px`},title:`Meta: ${l(o.target)}`}),t.jsx("div",{className:`w-full rounded-t-lg transition-all duration-300 hover:opacity-80 ${o.revenue>=o.target?"bg-green-500":"bg-amber-500"}`,style:{height:`${o.revenue/c*250}px`},title:`Faturamento: ${l(o.revenue)}`})]}),t.jsx("span",{className:"text-xs text-slate-600 font-medium",children:o.period})]},x))}),t.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-slate-600",children:"Faturamento Real"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-slate-200 rounded-full"}),t.jsx("span",{className:"text-slate-600",children:"Meta"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Faturamento por Serviço"}),t.jsx("div",{className:"space-y-4",children:i.byService.map((o,x)=>t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-sm font-medium text-slate-900",children:o.name}),t.jsx("span",{className:"text-sm font-bold text-slate-900",children:l(o.revenue)})]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:t.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all duration-300",style:{width:`${o.percentage}%`}})}),t.jsxs("span",{className:"text-xs text-slate-500 mt-1",children:[o.percentage,"% do total"]})]})},x))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Faturamento por Forma de Pagamento"}),t.jsx("div",{className:"space-y-4",children:i.byPaymentMethod.map((o,x)=>t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-sm font-medium text-slate-900",children:o.method}),t.jsx("span",{className:"text-sm font-bold text-slate-900",children:l(o.amount)})]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${o.percentage}%`}})}),t.jsxs("span",{className:"text-xs text-slate-500 mt-1",children:[o.percentage,"% do total"]})]})},x))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Análise Comparativa"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-slate-900",children:"Período Atual"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Faturamento Total:"}),t.jsx("span",{className:"font-semibold text-slate-900",children:l(i.current.total)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Serviços:"}),t.jsx("span",{className:"font-semibold text-slate-900",children:l(i.current.services)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Produtos:"}),t.jsx("span",{className:"font-semibold text-slate-900",children:l(i.current.products)})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-slate-900",children:"Período Anterior"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Faturamento Total:"}),t.jsx("span",{className:"font-semibold text-slate-900",children:l(i.previous.total)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Serviços:"}),t.jsx("span",{className:"font-semibold text-slate-900",children:l(i.previous.services)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Produtos:"}),t.jsx("span",{className:"font-semibold text-slate-900",children:l(i.previous.products)})]})]})]})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Variação"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Total"}),t.jsxs("p",{className:"text-xl font-bold text-green-600",children:["+",i.current.growth,"%"]}),t.jsxs("p",{className:"text-xs text-slate-500",children:["+",l(i.current.total-i.previous.total)]})]}),t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Serviços"}),t.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["+",((i.current.services-i.previous.services)/i.previous.services*100).toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-slate-500",children:["+",l(i.current.services-i.previous.services)]})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Produtos"}),t.jsxs("p",{className:"text-xl font-bold text-purple-600",children:["+",((i.current.products-i.previous.products)/i.previous.products*100).toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-slate-500",children:["+",l(i.current.products-i.previous.products)]})]})]})]})]})]})}function _g({dateRange:e,selectedProfessional:s}){const[a,r]=S.useState("volume"),n=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),i=[...[{id:1,name:"Corte + Barba",category:"Combo",volume:285,revenue:15675,averagePrice:55,rating:4.9,growth:15.2,duration:50,professionals:["João Silva","Pedro Santos"]},{id:2,name:"Corte Tradicional",category:"Corte",volume:420,revenue:14700,averagePrice:35,rating:4.8,growth:8.5,duration:30,professionals:["João Silva","Pedro Santos","Carlos Lima"]},{id:3,name:"Barba Completa",category:"Barba",volume:180,revenue:4500,averagePrice:25,rating:4.7,growth:-2.1,duration:25,professionals:["João Silva","Pedro Santos"]},{id:4,name:"Sobrancelha Masculina",category:"Estética",volume:95,revenue:1425,averagePrice:15,rating:4.6,growth:22.8,duration:15,professionals:["Pedro Santos"]},{id:5,name:"Corte Moderno",category:"Corte",volume:150,revenue:7500,averagePrice:50,rating:4.8,growth:18.7,duration:40,professionals:["Pedro Santos","Carlos Lima"]},{id:6,name:"Hidratação Capilar",category:"Tratamento",volume:65,revenue:1950,averagePrice:30,rating:4.9,growth:35.2,duration:45,professionals:["Carlos Lima"]},{id:7,name:"Coloração",category:"Química",volume:45,revenue:3600,averagePrice:80,rating:4.7,growth:12.5,duration:90,professionals:["Carlos Lima"]},{id:8,name:"Relaxamento",category:"Química",volume:30,revenue:2100,averagePrice:70,rating:4.6,growth:-5.8,duration:75,professionals:["Carlos Lima"]},{id:9,name:"Lavagem + Escova",category:"Tratamento",volume:85,revenue:1700,averagePrice:20,rating:4.5,growth:6.2,duration:30,professionals:["João Silva","Pedro Santos"]},{id:10,name:"Bigode",category:"Barba",volume:40,revenue:600,averagePrice:15,rating:4.4,growth:-8.3,duration:15,professionals:["João Silva"]}]].sort((d,h)=>{switch(a){case"volume":return h.volume-d.volume;case"revenue":return h.revenue-d.revenue;case"rating":return h.rating-d.rating;default:return 0}}),c=[{name:"Combo",volume:285,revenue:15675,growth:15.2,color:"bg-purple-500"},{name:"Corte",volume:570,revenue:22200,growth:12.1,color:"bg-blue-500"},{name:"Barba",volume:220,revenue:5100,growth:-4.2,color:"bg-green-500"},{name:"Estética",volume:95,revenue:1425,growth:22.8,color:"bg-pink-500"},{name:"Tratamento",volume:150,revenue:3650,growth:18.5,color:"bg-amber-500"},{name:"Química",volume:75,revenue:5700,growth:4.8,color:"bg-red-500"}],o=c.reduce((d,h)=>d+h.volume,0),x=c.reduce((d,h)=>d+h.revenue,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:"Análise por Categoria"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((d,h)=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${d.color}`}),t.jsx("h4",{className:"font-medium text-slate-900",children:d.name})]}),t.jsxs("div",{className:`flex items-center space-x-1 ${d.growth>0?"text-green-600":"text-red-600"}`,children:[d.growth>0?t.jsx(ne,{className:"w-4 h-4"}):t.jsx(pt,{className:"w-4 h-4"}),t.jsxs("span",{className:"text-sm font-medium",children:[d.growth>0?"+":"",d.growth.toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Volume:"}),t.jsx("span",{className:"text-sm font-semibold text-slate-900",children:d.volume})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Receita:"}),t.jsx("span",{className:"text-sm font-semibold text-slate-900",children:n(d.revenue)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Participação:"}),t.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:[(d.volume/o*100).toFixed(1),"%"]})]})]})]},h))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Top 10 Serviços Mais Solicitados"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Ordenar por:"}),t.jsxs("select",{value:a,onChange:d=>r(d.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:[t.jsx("option",{value:"volume",children:"Volume"}),t.jsx("option",{value:"revenue",children:"Receita"}),t.jsx("option",{value:"rating",children:"Avaliação"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Posição"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Serviço"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Volume"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Receita"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Preço Médio"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Avaliação"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Crescimento"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Duração"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:i.map((d,h)=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${h===0?"bg-yellow-500":h===1?"bg-slate-400":h===2?"bg-orange-600":"bg-slate-300"}`,children:h+1})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:d.name}),t.jsx("p",{className:"text-sm text-slate-600",children:d.category})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:"font-semibold text-slate-900",children:d.volume})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:"font-semibold text-green-600",children:n(d.revenue)})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:"font-medium text-slate-900",children:n(d.averagePrice)})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"font-medium text-slate-900",children:d.rating})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:`flex items-center space-x-1 ${d.growth>0?"text-green-600":"text-red-600"}`,children:[d.growth>0?t.jsx(ne,{className:"w-4 h-4"}):t.jsx(pt,{className:"w-4 h-4"}),t.jsxs("span",{className:"font-medium",children:[d.growth>0?"+":"",d.growth,"%"]})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(be,{className:"w-4 h-4 text-slate-500"}),t.jsxs("span",{className:"text-sm text-slate-900",children:[d.duration,"min"]})]})})]},d.id))})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center",children:[t.jsx(ne,{className:"w-5 h-5 text-green-500 mr-2"}),"Serviços em Maior Crescimento"]}),t.jsx("div",{className:"space-y-3",children:i.filter(d=>d.growth>0).sort((d,h)=>h.growth-d.growth).slice(0,5).map((d,h)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:d.name}),t.jsx("p",{className:"text-sm text-slate-600",children:d.category})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-green-600",children:["+",d.growth,"%"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[d.volume," atendimentos"]})]})]},d.id))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center",children:[t.jsx(pt,{className:"w-5 h-5 text-red-500 mr-2"}),"Serviços em Declínio"]}),t.jsx("div",{className:"space-y-3",children:i.filter(d=>d.growth<0).sort((d,h)=>d.growth-h.growth).slice(0,5).map((d,h)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:d.name}),t.jsx("p",{className:"text-sm text-slate-600",children:d.category})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-red-600",children:[d.growth,"%"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[d.volume," atendimentos"]})]})]},d.id))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Métricas de Serviços"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full mx-auto mb-2",children:t.jsx(Ve,{className:"w-5 h-5 text-blue-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:o}),t.jsx("p",{className:"text-sm text-slate-600",children:"Total de Atendimentos"})]}),t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-green-100 rounded-full mx-auto mb-2",children:t.jsx(ge,{className:"w-5 h-5 text-green-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n(x)}),t.jsx("p",{className:"text-sm text-slate-600",children:"Receita Total"})]}),t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-amber-100 rounded-full mx-auto mb-2",children:t.jsx(xn,{className:"w-5 h-5 text-amber-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n(x/o)}),t.jsx("p",{className:"text-sm text-slate-600",children:"Ticket Médio"})]}),t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-purple-100 rounded-full mx-auto mb-2",children:t.jsx(Tm,{className:"w-5 h-5 text-purple-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:(i.reduce((d,h)=>d+h.rating,0)/i.length).toFixed(1)}),t.jsx("p",{className:"text-sm text-slate-600",children:"Avaliação Média"})]})]})]})]})}function Og({dateRange:e,selectedService:s}){const[a,r]=S.useState("revenue"),[n,l]=S.useState(null),i=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),c=[{id:"p1",name:"João Silva",photo:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=150",metrics:{revenue:18750,appointments:425,rating:4.8,retentionRate:78,cancellationRate:3.2,punctualityRate:98,averageTicket:44.12,topService:"Corte + Barba",growth:15.2},specialties:["Corte Tradicional","Barba","Bigode","Sobrancelha"],performance:{lastMonth:16200,thisMonth:18750,growth:15.7,target:18e3,targetAchievement:104.2}},{id:"p2",name:"Pedro Santos",photo:"https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=150",metrics:{revenue:16800,appointments:305,rating:4.6,retentionRate:72,cancellationRate:4.8,punctualityRate:95,averageTicket:55.08,topService:"Corte Moderno",growth:8.3},specialties:["Corte Moderno","Fade","Desenho","Coloração"],performance:{lastMonth:15500,thisMonth:16800,growth:8.4,target:17e3,targetAchievement:98.8}},{id:"p3",name:"Carlos Lima",photo:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=150",metrics:{revenue:12500,appointments:280,rating:4.7,retentionRate:75,cancellationRate:3.8,punctualityRate:97,averageTicket:44.64,topService:"Corte Tradicional",growth:22.5},specialties:["Corte Tradicional","Barba","Tratamento Capilar"],performance:{lastMonth:10200,thisMonth:12500,growth:22.5,target:12e3,targetAchievement:104.2}},{id:"p4",name:"André Costa",photo:"https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=150",metrics:{revenue:9800,appointments:210,rating:4.5,retentionRate:68,cancellationRate:5.2,punctualityRate:92,averageTicket:46.67,topService:"Corte Moderno",growth:-3.8},specialties:["Corte Moderno","Coloração","Relaxamento"],performance:{lastMonth:10200,thisMonth:9800,growth:-3.9,target:11e3,targetAchievement:89.1}},{id:"p5",name:"Marcos Oliveira",photo:"https://images.pexels.com/photos/1300402/pexels-photo-1300402.jpeg?auto=compress&cs=tinysrgb&w=150",metrics:{revenue:8500,appointments:195,rating:4.4,retentionRate:65,cancellationRate:6.5,punctualityRate:90,averageTicket:43.59,topService:"Corte Tradicional",growth:5.2},specialties:["Corte Tradicional","Barba","Sobrancelha"],performance:{lastMonth:8080,thisMonth:8500,growth:5.2,target:9e3,targetAchievement:94.4}}],o=[...c].sort((d,h)=>{switch(a){case"revenue":return h.metrics.revenue-d.metrics.revenue;case"appointments":return h.metrics.appointments-d.metrics.appointments;case"rating":return h.metrics.rating-d.metrics.rating;case"retention":return h.metrics.retentionRate-d.metrics.retentionRate;default:return 0}}),x=d=>{l(n===d?null:d)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Critérios de Ranking"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("button",{onClick:()=>r("revenue"),className:`p-4 rounded-lg border-2 transition-colors ${a==="revenue"?"border-green-500 bg-green-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-green-100 rounded-full mx-auto mb-2",children:t.jsx(ge,{className:"w-5 h-5 text-green-600"})}),t.jsx("p",{className:"font-medium text-center text-slate-900",children:"Faturamento"}),t.jsx("p",{className:"text-xs text-center text-slate-600 mt-1",children:"Ranking por receita gerada"})]}),t.jsxs("button",{onClick:()=>r("appointments"),className:`p-4 rounded-lg border-2 transition-colors ${a==="appointments"?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full mx-auto mb-2",children:t.jsx(Y,{className:"w-5 h-5 text-blue-600"})}),t.jsx("p",{className:"font-medium text-center text-slate-900",children:"Atendimentos"}),t.jsx("p",{className:"text-xs text-center text-slate-600 mt-1",children:"Ranking por volume"})]}),t.jsxs("button",{onClick:()=>r("rating"),className:`p-4 rounded-lg border-2 transition-colors ${a==="rating"?"border-amber-500 bg-amber-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-amber-100 rounded-full mx-auto mb-2",children:t.jsx(le,{className:"w-5 h-5 text-amber-600"})}),t.jsx("p",{className:"font-medium text-center text-slate-900",children:"Avaliação"}),t.jsx("p",{className:"text-xs text-center text-slate-600 mt-1",children:"Ranking por satisfação"})]}),t.jsxs("button",{onClick:()=>r("retention"),className:`p-4 rounded-lg border-2 transition-colors ${a==="retention"?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-purple-100 rounded-full mx-auto mb-2",children:t.jsx(xn,{className:"w-5 h-5 text-purple-600"})}),t.jsx("p",{className:"font-medium text-center text-slate-900",children:"Retenção"}),t.jsx("p",{className:"text-xs text-center text-slate-600 mt-1",children:"Ranking por fidelização"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:["Ranking de Profissionais por ",a==="revenue"?"Faturamento":a==="appointments"?"Atendimentos":a==="rating"?"Avaliação":"Retenção"]}),t.jsx("div",{className:"space-y-4",children:o.map((d,h)=>t.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>x(d.id),children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${h===0?"bg-yellow-500":h===1?"bg-slate-400":h===2?"bg-orange-600":"bg-slate-300"}`,children:h+1}),t.jsx("img",{src:d.photo,alt:d.name,className:"w-10 h-10 rounded-full object-cover"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:d.name}),t.jsxs("p",{className:"text-sm text-slate-600",children:[d.specialties.slice(0,2).join(", "),d.specialties.length>2&&"..."]})]})]}),t.jsxs("div",{className:"flex items-center space-x-8",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Faturamento"}),t.jsx("p",{className:"font-semibold text-slate-900",children:i(d.metrics.revenue)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Atendimentos"}),t.jsx("p",{className:"font-semibold text-slate-900",children:d.metrics.appointments})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Avaliação"}),t.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("p",{className:"font-semibold text-slate-900",children:d.metrics.rating})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Retenção"}),t.jsxs("p",{className:"font-semibold text-slate-900",children:[d.metrics.retentionRate,"%"]})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:`flex items-center space-x-1 ${d.metrics.growth>0?"text-green-600":"text-red-600"}`,children:[d.metrics.growth>0?t.jsx(ne,{className:"w-4 h-4"}):t.jsx(pt,{className:"w-4 h-4"}),t.jsxs("span",{className:"font-medium",children:[d.metrics.growth>0?"+":"",d.metrics.growth,"%"]})]})})]})]}),n===d.id&&t.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Métricas de Performance"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Ticket Médio:"}),t.jsx("span",{className:"text-sm font-medium text-slate-900",children:i(d.metrics.averageTicket)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Taxa de Cancelamento:"}),t.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[d.metrics.cancellationRate,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Taxa de Pontualidade:"}),t.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[d.metrics.punctualityRate,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Serviço Mais Realizado:"}),t.jsx("span",{className:"text-sm font-medium text-slate-900",children:d.metrics.topService})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Atingimento de Metas"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Meta do Mês:"}),t.jsx("span",{className:"text-sm font-medium text-slate-900",children:i(d.performance.target)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Realizado:"}),t.jsx("span",{className:"text-sm font-medium text-slate-900",children:i(d.performance.thisMonth)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Atingimento:"}),t.jsxs("span",{className:`text-sm font-medium ${d.performance.targetAchievement>=100?"text-green-600":"text-amber-600"}`,children:[d.performance.targetAchievement,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:`h-2 rounded-full ${d.performance.targetAchievement>=100?"bg-green-500":"bg-amber-500"}`,style:{width:`${Math.min(d.performance.targetAchievement,100)}%`}})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Comparativo de Crescimento"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Mês Anterior:"}),t.jsx("span",{className:"text-sm font-medium text-slate-900",children:i(d.performance.lastMonth)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Mês Atual:"}),t.jsx("span",{className:"text-sm font-medium text-slate-900",children:i(d.performance.thisMonth)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:"Crescimento:"}),t.jsxs("span",{className:`text-sm font-medium ${d.performance.growth>0?"text-green-600":"text-red-600"}`,children:[d.performance.growth>0?"+":"",d.performance.growth,"%"]})]})]})]})]})})]},d.id))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resumo de Performance da Equipe"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-green-100 rounded-full mx-auto mb-2",children:t.jsx(ge,{className:"w-5 h-5 text-green-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:i(c.reduce((d,h)=>d+h.metrics.revenue,0))}),t.jsx("p",{className:"text-sm text-slate-600",children:"Faturamento Total"})]}),t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full mx-auto mb-2",children:t.jsx(Y,{className:"w-5 h-5 text-blue-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:c.reduce((d,h)=>d+h.metrics.appointments,0)}),t.jsx("p",{className:"text-sm text-slate-600",children:"Total de Atendimentos"})]}),t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-amber-100 rounded-full mx-auto mb-2",children:t.jsx(le,{className:"w-5 h-5 text-amber-600"})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:(c.reduce((d,h)=>d+h.metrics.rating,0)/c.length).toFixed(1)}),t.jsx("p",{className:"text-sm text-slate-600",children:"Avaliação Média"})]}),t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-purple-100 rounded-full mx-auto mb-2",children:t.jsx(xn,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[(c.reduce((d,h)=>d+h.metrics.retentionRate,0)/c.length).toFixed(1),"%"]}),t.jsx("p",{className:"text-sm text-slate-600",children:"Taxa de Retenção"})]})]})]})]})}function Lg({dateRange:e}){const[s,a]=S.useState("week"),[r,n]=S.useState(1),[l,i]=S.useState("all"),c=[{id:"all",name:"Todos os Profissionais"},{id:"p1",name:"João Silva"},{id:"p2",name:"Pedro Santos"},{id:"p3",name:"Carlos Lima"},{id:"p4",name:"André Costa"},{id:"p5",name:"Marcos Oliveira"}],x=(()=>{const m=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],g=[];for(let f=8;f<=20;f++)for(let v=0;v<60;v+=30)g.push(`${f.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`);return m.map((f,v)=>({day:f,dayIndex:v,slots:g.map(u=>{const y=parseInt(u.split(":")[0]),k=Math.random()*.4+.3;let N=1;y>=12&&y<=13&&(N=1.3),y>=17&&y<=19&&(N=1.4),(v===0||v===6)&&(N*=.8),v===6&&(N*=1.2),v===0&&(N*=.6);const w=Math.min(k*N,1);return{time:u,occupancy:w,appointments:Math.floor(w*5)}})}))})(),d=m=>m>=.8?"bg-red-500":m>=.6?"bg-orange-500":m>=.4?"bg-yellow-500":m>=.2?"bg-green-500":"bg-blue-500",h=m=>m>=.8?"Muito Alto":m>=.6?"Alto":m>=.4?"Médio":m>=.2?"Baixo":"Muito Baixo",p=m=>["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"][m],b=m=>{n(m==="prev"?g=>g===0?6:g-1:g=>g===6?0:g+1)};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>a("week"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="week"?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Semana"}),t.jsx("button",{onClick:()=>a("day"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="day"?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Dia"})]}),s==="day"&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>b("prev"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(io,{className:"w-4 h-4"})}),t.jsx("span",{className:"font-medium text-slate-900",children:p(r)}),t.jsx("button",{onClick:()=>b("next"),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(oo,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ve,{className:"w-4 h-4 text-slate-500"}),t.jsx("select",{value:l,onChange:m=>i(m.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm",children:c.map(m=>t.jsx("option",{value:m.id,children:m.name},m.id))})]})})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Legenda do Mapa de Calor"}),t.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Muito Alto (80-100%)"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Alto (60-80%)"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Médio (40-60%)"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Baixo (20-40%)"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Muito Baixo (0-20%)"})]})]})]}),s==="week"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:"Mapa de Calor Semanal"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-left font-medium text-slate-600",children:"Horário"}),x.map(m=>t.jsx("th",{className:"px-4 py-2 text-center font-medium text-slate-600",children:m.day},m.day))]})}),t.jsx("tbody",{children:x[0].slots.map((m,g)=>t.jsxs("tr",{className:"border-t border-slate-200",children:[t.jsx("td",{className:"px-4 py-2 text-sm font-medium text-slate-900",children:m.time}),x.map(j=>{const f=j.slots[g];return t.jsx("td",{className:"px-4 py-2",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:`w-full h-8 ${d(f.occupancy)} rounded transition-opacity hover:opacity-80`,title:`${h(f.occupancy)} - ${Math.round(f.occupancy*100)}% de ocupação`}),t.jsxs("span",{className:"text-xs text-slate-600 mt-1",children:[f.appointments," agend."]})]})},`${j.day}-${m.time}`)})]},m.time))})]})})]}),s==="day"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:["Mapa de Calor - ",p(r)]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx("div",{children:t.jsx("div",{className:"space-y-2",children:x[r].slots.map(m=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:"text-sm font-medium text-slate-900 w-12",children:m.time}),t.jsx("div",{className:"flex-1 h-8 bg-slate-100 rounded-lg overflow-hidden",children:t.jsx("div",{className:`h-full ${d(m.occupancy)} transition-all duration-300`,style:{width:`${m.occupancy*100}%`}})}),t.jsxs("span",{className:"text-sm text-slate-600 w-20",children:[Math.round(m.occupancy*100),"% (",m.appointments,")"]})]},m.time))})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Horários de Pico"}),t.jsx("div",{className:"space-y-2",children:x[r].slots.filter(m=>m.occupancy>=.7).sort((m,g)=>g.occupancy-m.occupancy).slice(0,3).map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(be,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"font-medium text-slate-900",children:m.time})]}),t.jsxs("div",{children:[t.jsxs("span",{className:"font-semibold text-red-600",children:[Math.round(m.occupancy*100),"%"]}),t.jsxs("span",{className:"text-sm text-slate-600 ml-2",children:["(",m.appointments," agendamentos)"]})]})]},m.time))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Horários de Baixa Ocupação"}),t.jsx("div",{className:"space-y-2",children:x[r].slots.filter(m=>m.occupancy<=.3).sort((m,g)=>m.occupancy-g.occupancy).slice(0,3).map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(be,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"font-medium text-slate-900",children:m.time})]}),t.jsxs("div",{children:[t.jsxs("span",{className:"font-semibold text-blue-600",children:[Math.round(m.occupancy*100),"%"]}),t.jsxs("span",{className:"text-sm text-slate-600 ml-2",children:["(",m.appointments," agendamentos)"]})]})]},m.time))})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Resumo do Dia"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Ocupação Média"}),t.jsxs("p",{className:"text-xl font-bold text-slate-900",children:[Math.round(x[r].slots.reduce((m,g)=>m+g.occupancy,0)/x[r].slots.length*100),"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Total de Agendamentos"}),t.jsx("p",{className:"text-xl font-bold text-slate-900",children:x[r].slots.reduce((m,g)=>m+g.appointments,0)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Horário Mais Ocupado"}),t.jsx("p",{className:"text-xl font-bold text-slate-900",children:x[r].slots.reduce((m,g)=>g.occupancy>m.occupancy?g:m,{time:"",occupancy:0}).time})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Horário Menos Ocupado"}),t.jsx("p",{className:"text-xl font-bold text-slate-900",children:x[r].slots.reduce((m,g)=>g.occupancy<m.occupancy?g:m,{time:"",occupancy:1}).time})]})]})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Recomendações Baseadas em Dados"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-green-50 border-l-4 border-green-500 rounded-r-lg",children:[t.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"Oportunidade de Promoção"}),t.jsx("p",{className:"text-sm text-green-700",children:"Considere oferecer descontos ou promoções especiais para os horários de baixa ocupação: Segunda-feira das 14h às 16h e Quinta-feira das 9h às 11h."})]}),t.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Otimização de Agenda"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Distribua os profissionais de forma mais eficiente, concentrando mais profissionais nos horários de pico: Terça e Quinta das 18h às 20h e Sábado das 10h às 14h."})]}),t.jsxs("div",{className:"p-4 bg-amber-50 border-l-4 border-amber-500 rounded-r-lg",children:[t.jsx("h4",{className:"font-medium text-amber-900 mb-1",children:"Serviços Especiais"}),t.jsx("p",{className:"text-sm text-amber-700",children:"Ofereça serviços que demandam mais tempo nos horários de menor movimento, como tratamentos capilares e pacotes completos nas Segundas e Quartas pela manhã."})]})]})]})]})}function Ig({dateRange:e,selectedProfessional:s}){const[a,r]=S.useState("occupancy"),n={overall:{rate:78.5,trend:2.3,totalSlots:1250,bookedSlots:981,idleTime:42,idleTimeCost:4200,cancellationRate:8.2,noShowRate:3.5,utilization:{morning:72.3,afternoon:85.1,evening:92.8}},byDay:[{day:"Segunda",occupancy:65.2,idle:6.8,cancellation:9.5},{day:"Terça",occupancy:78.5,idle:4.2,cancellation:7.2},{day:"Quarta",occupancy:72.8,idle:5.4,cancellation:8.1},{day:"Quinta",occupancy:81.3,idle:3.7,cancellation:6.5},{day:"Sexta",occupancy:89.7,idle:2.1,cancellation:5.8},{day:"Sábado",occupancy:95.2,idle:1,cancellation:4.2},{day:"Domingo",occupancy:45.8,idle:10.8,cancellation:12.5}],byProfessional:[{name:"João Silva",occupancy:85.2,idle:3,cancellation:6.8},{name:"Pedro Santos",occupancy:82.5,idle:3.5,cancellation:7.2},{name:"Carlos Lima",occupancy:75.8,idle:4.8,cancellation:8.5},{name:"André Costa",occupancy:68.3,idle:6.3,cancellation:10.2},{name:"Marcos Oliveira",occupancy:72.1,idle:5.6,cancellation:9.1}],cancellationReasons:[{reason:"Cliente desmarcou",percentage:65.2},{reason:"Profissional indisponível",percentage:18.5},{reason:"Reagendamento",percentage:12.3},{reason:"Outros",percentage:4}]},l=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),i=(o,x)=>x==="occupancy"?o>=85?"text-green-600":o>=70?"text-amber-600":"text-red-600":x==="idle"||x==="cancellation"?o<=5?"text-green-600":o<=10?"text-amber-600":"text-red-600":"text-slate-900",c=(o,x)=>x==="occupancy"?o>=85?"bg-green-100":o>=70?"bg-amber-100":"bg-red-100":x==="idle"||x==="cancellation"?o<=5?"bg-green-100":o<=10?"bg-amber-100":"bg-red-100":"bg-slate-100";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Taxa de Ocupação"}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[n.overall.rate,"%"]}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(ne,{className:"w-4 h-4 text-green-500 mr-1"}),t.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",n.overall.trend,"%"]}),t.jsx("span",{className:"text-slate-500 text-sm ml-1",children:"vs mês anterior"})]})]}),t.jsx("div",{className:"bg-blue-50 p-3 rounded-xl",children:t.jsx(Y,{className:"w-6 h-6 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Tempo Ocioso"}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[n.overall.idleTime,"h"]}),t.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Custo estimado: ",l(n.overall.idleTimeCost)]})]}),t.jsx("div",{className:"bg-red-50 p-3 rounded-xl",children:t.jsx(be,{className:"w-6 h-6 text-red-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Taxa de Cancelamento"}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[n.overall.cancellationRate,"%"]}),t.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["No-shows: ",n.overall.noShowRate,"%"]})]}),t.jsx("div",{className:"bg-amber-50 p-3 rounded-xl",children:t.jsx(De,{className:"w-6 h-6 text-amber-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Análise por Métrica"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>r("occupancy"),className:`p-4 rounded-lg border-2 transition-colors ${a==="occupancy"?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full mx-auto mb-2",children:t.jsx(Y,{className:"w-5 h-5 text-blue-600"})}),t.jsx("p",{className:"font-medium text-center text-slate-900",children:"Taxa de Ocupação"}),t.jsx("p",{className:"text-xs text-center text-slate-600 mt-1",children:"Percentual de horários ocupados"})]}),t.jsxs("button",{onClick:()=>r("idle"),className:`p-4 rounded-lg border-2 transition-colors ${a==="idle"?"border-red-500 bg-red-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-red-100 rounded-full mx-auto mb-2",children:t.jsx(be,{className:"w-5 h-5 text-red-600"})}),t.jsx("p",{className:"font-medium text-center text-slate-900",children:"Tempo Ocioso"}),t.jsx("p",{className:"text-xs text-center text-slate-600 mt-1",children:"Horas sem agendamentos"})]}),t.jsxs("button",{onClick:()=>r("cancellation"),className:`p-4 rounded-lg border-2 transition-colors ${a==="cancellation"?"border-amber-500 bg-amber-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-amber-100 rounded-full mx-auto mb-2",children:t.jsx(De,{className:"w-5 h-5 text-amber-600"})}),t.jsx("p",{className:"font-medium text-center text-slate-900",children:"Taxa de Cancelamento"}),t.jsx("p",{className:"text-xs text-center text-slate-600 mt-1",children:"Percentual de agendamentos cancelados"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:"Análise por Dia da Semana"}),t.jsx("div",{className:"grid grid-cols-7 gap-4",children:n.byDay.map(o=>t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"font-medium text-slate-900 mb-2",children:o.day}),t.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center ${c(a==="occupancy"?o.occupancy:a==="idle"?o.idle:o.cancellation,a)}`,children:t.jsxs("span",{className:`text-lg font-bold ${i(a==="occupancy"?o.occupancy:a==="idle"?o.idle:o.cancellation,a)}`,children:[a==="occupancy"?o.occupancy:a==="idle"?o.idle:o.cancellation,"%"]})})]},o.day))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-6",children:"Análise por Profissional"}),t.jsx("div",{className:"space-y-4",children:n.byProfessional.map(o=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-slate-600 font-medium",children:o.name.charAt(0)})}),t.jsx("span",{className:"font-medium text-slate-900",children:o.name})]}),t.jsxs("div",{className:"flex items-center space-x-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-slate-600",children:"Ocupação"}),t.jsxs("p",{className:`font-semibold ${i(o.occupancy,"occupancy")}`,children:[o.occupancy,"%"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-slate-600",children:"Tempo Ocioso"}),t.jsxs("p",{className:`font-semibold ${i(o.idle,"idle")}`,children:[o.idle,"h"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-slate-600",children:"Cancelamentos"}),t.jsxs("p",{className:`font-semibold ${i(o.cancellation,"cancellation")}`,children:[o.cancellation,"%"]})]})]})]},o.name))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Distribuição por Período"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-amber-100 rounded-full mx-auto mb-2",children:t.jsx(be,{className:"w-5 h-5 text-amber-600"})}),t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Manhã (8h-12h)"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[n.overall.utilization.morning,"%"]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"h-2 rounded-full bg-amber-500",style:{width:`${n.overall.utilization.morning}%`}})})]}),t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full mx-auto mb-2",children:t.jsx(be,{className:"w-5 h-5 text-blue-600"})}),t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Tarde (12h-18h)"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[n.overall.utilization.afternoon,"%"]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${n.overall.utilization.afternoon}%`}})})]}),t.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-purple-100 rounded-full mx-auto mb-2",children:t.jsx(be,{className:"w-5 h-5 text-purple-600"})}),t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Noite (18h-22h)"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[n.overall.utilization.evening,"%"]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${n.overall.utilization.evening}%`}})})]})]})]}),a==="cancellation"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Análise de Cancelamentos"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Motivos de Cancelamento"}),t.jsx("div",{className:"space-y-3",children:n.cancellationReasons.map(o=>t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600",children:o.reason}),t.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[o.percentage,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:t.jsx("div",{className:"bg-amber-500 h-2 rounded-full",style:{width:`${o.percentage}%`}})})]},o.reason))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Recomendações"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"p-3 bg-green-50 border-l-4 border-green-500 rounded-r-lg",children:t.jsx("p",{className:"text-sm text-green-800",children:"Implemente um sistema de confirmação automática 24h antes do agendamento para reduzir no-shows."})}),t.jsx("div",{className:"p-3 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg",children:t.jsx("p",{className:"text-sm text-blue-800",children:"Considere uma política de cancelamento com pelo menos 4h de antecedência para permitir reagendamentos."})}),t.jsx("div",{className:"p-3 bg-amber-50 border-l-4 border-amber-500 rounded-r-lg",children:t.jsx("p",{className:"text-sm text-amber-800",children:"Ofereça incentivos para clientes que mantêm seus agendamentos, como pontos extras no programa de fidelidade."})})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Sugestões de Otimização"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(st,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"Ajuste de Escala de Profissionais"}),t.jsx("p",{className:"text-sm text-green-700",children:"Aumente o número de profissionais disponíveis nos horários de pico (Sexta 18h-20h e Sábado 10h-14h) e reduza nos períodos de baixa demanda (Segunda e Quarta 14h-16h)."})]})]}),t.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(st,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Promoções Estratégicas"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Crie promoções específicas para os dias e horários com menor ocupação, como descontos de 15% para agendamentos nas Segundas e Quartas à tarde."})]})]}),t.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-amber-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(st,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-amber-900 mb-1",children:"Redução de Tempo Ocioso"}),t.jsx("p",{className:"text-sm text-amber-700",children:"Implemente um sistema de agendamento mais eficiente que minimize os intervalos entre atendimentos, reduzindo o tempo ocioso em até 35%."})]})]}),t.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-purple-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(st,{className:"w-6 h-6 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-purple-900 mb-1",children:"Política de Cancelamento"}),t.jsx("p",{className:"text-sm text-purple-700",children:"Revise a política de cancelamento para reduzir a taxa atual de 8.2%. Considere implementar uma taxa simbólica para cancelamentos com menos de 4 horas de antecedência."})]})]})]})]})]})}function Fg({dateRange:e}){const[s,a]=S.useState("revenue"),[r,n]=S.useState("monthly"),l=p=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p),i=[{period:"Jan",value:38500},{period:"Fev",value:42300},{period:"Mar",value:45680},{period:"Abr",value:41200},{period:"Mai",value:47800},{period:"Jun",value:52100}],c=[{name:"Corte + Barba",value:285},{name:"Corte Tradicional",value:420},{name:"Barba Completa",value:180},{name:"Sobrancelha",value:95},{name:"Corte Moderno",value:150}],o=[{name:"João Silva",value:18750},{name:"Pedro Santos",value:16800},{name:"Carlos Lima",value:12500},{name:"André Costa",value:9800},{name:"Marcos Oliveira",value:8500}],x=()=>{const p=s==="revenue"?i:s==="services"?c:o,b=Math.max(...p.map(m=>m.value));return t.jsx("div",{className:"h-80 flex items-end justify-between space-x-2",children:p.map((m,g)=>t.jsxs("div",{className:"flex-1 flex flex-col items-center space-y-2",children:[t.jsx("div",{className:`w-full rounded-t-lg transition-all duration-300 hover:opacity-80 ${s==="revenue"?"bg-green-500":s==="services"?"bg-blue-500":"bg-purple-500"}`,style:{height:`${m.value/b*250}px`},title:`${m.name||m.period}: ${s==="revenue"?l(m.value):m.value}`}),t.jsx("span",{className:"text-xs text-slate-600 font-medium",children:m.name||m.period})]},g))})},d=()=>{const p=s==="revenue"?i:s==="services"?c:o,b=p.reduce((m,g)=>m+g.value,0);return t.jsx("div",{className:"h-80 flex items-center justify-center",children:t.jsx("div",{className:"w-64 h-64 rounded-full border-8 border-slate-200 relative",children:p.map((m,g)=>{const j=m.value/b*100;return t.jsx("div",{className:"absolute inset-0",children:t.jsx("div",{className:"absolute top-1/2 left-1/2 w-1 h-1 bg-white",style:{transform:`rotate(${g*72}deg) translateY(-32px)`,width:"64px",height:"64px",marginLeft:"-32px",marginTop:"-32px",background:`conic-gradient(transparent ${g*72}deg, ${s==="revenue"?"#10B981":s==="services"?"#3B82F6":"#8B5CF6"} ${g*72}deg ${g*72+j*3.6}deg, transparent ${g*72+j*3.6}deg)`,borderRadius:"50%"}})},g)})})})},h=()=>{const p=s==="revenue"?i:s==="services"?c:o,b=Math.max(...p.map(m=>m.value));return t.jsx("div",{className:"h-80 relative",children:t.jsx("div",{className:"absolute inset-0 flex items-end",children:p.map((m,g)=>{const j=m.value/b*250,f=g>0?p[g-1].value/b*250:j;return t.jsxs("div",{className:"flex-1 h-full flex flex-col justify-end items-center",children:[g>0&&t.jsx("div",{className:`absolute h-0.5 ${s==="revenue"?"bg-green-500":s==="services"?"bg-blue-500":"bg-purple-500"}`,style:{width:`${100/p.length}%`,bottom:`${f}px`,left:`${(g-.5)*(100/p.length)}%`,transform:`rotate(${Math.atan2(j-f,100/p.length)}rad)`,transformOrigin:"0 50%"}}),t.jsx("div",{className:`w-3 h-3 rounded-full ${s==="revenue"?"bg-green-500":s==="services"?"bg-blue-500":"bg-purple-500"}`,style:{marginBottom:`${j-1.5}px`},title:`${m.name||m.period}: ${s==="revenue"?l(m.value):m.value}`}),t.jsx("span",{className:"text-xs text-slate-600 font-medium absolute bottom-0",children:m.name||m.period})]},g)})})})};return t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dashboard Interativo"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>a("revenue"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${s==="revenue"?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Faturamento"}),t.jsx("button",{onClick:()=>a("services"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${s==="services"?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Serviços"}),t.jsx("button",{onClick:()=>a("professionals"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${s==="professionals"?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Profissionais"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>n("daily"),className:`p-2 rounded-lg transition-colors ${r==="daily"?"bg-slate-200":"hover:bg-slate-100"}`,title:"Visualização Diária",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})}),t.jsx("button",{onClick:()=>n("weekly"),className:`p-2 rounded-lg transition-colors ${r==="weekly"?"bg-slate-200":"hover:bg-slate-100"}`,title:"Visualização Semanal",children:t.jsx(Am,{className:"w-5 h-5 text-slate-600"})}),t.jsx("button",{onClick:()=>n("monthly"),className:`p-2 rounded-lg transition-colors ${r==="monthly"?"bg-slate-200":"hover:bg-slate-100"}`,title:"Visualização Mensal",children:t.jsx(rg,{className:"w-5 h-5 text-slate-600"})})]})]})]}),t.jsxs("div",{className:"mb-6 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[t.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-4 text-center",children:[s==="revenue"?"Análise de Faturamento":s==="services"?"Análise de Serviços":"Análise de Profissionais"," -",r==="daily"?" Visão Diária":r==="weekly"?" Visão Semanal":" Visão Mensal"]}),r==="daily"&&x(),r==="weekly"&&d(),r==="monthly"&&h()]}),t.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-6 gap-y-2 text-sm bg-white p-3 rounded-lg border border-slate-200",children:[s==="revenue"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-slate-600",children:"Faturamento"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Y,{className:"w-4 h-4 text-slate-500"}),t.jsxs("span",{className:"text-slate-600",children:["Período: ",r==="daily"?"Diário":r==="weekly"?"Semanal":"Mensal"]})]})]}),s==="services"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),t.jsx("span",{className:"text-slate-600",children:"Volume de Serviços"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Y,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-600",children:"Top 5 Serviços"})]})]}),s==="professionals"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),t.jsx("span",{className:"text-slate-600",children:"Faturamento por Profissional"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Y,{className:"w-4 h-4 text-slate-500"}),t.jsx("span",{className:"text-slate-600",children:"Top 5 Profissionais"})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-6 pt-6 border-t border-slate-200",children:[t.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors",children:[t.jsx(er,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Filtrar"})]}),t.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",children:[t.jsx(qt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Exportar"})]}),t.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",children:[t.jsx(mn,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Personalizar"})]})]})]})})}function $g({dateRange:e,selectedProfessional:s,selectedService:a}){const[r,n]=S.useState([]),[l,i]=S.useState("pdf"),[c,o]=S.useState(!1),[x,d]=S.useState("weekly"),[h,p]=S.useState(""),[b,m]=S.useState(!1),[g,j]=S.useState(!1),f=[{id:"revenue",name:"Relatório de Faturamento",icon:ge,description:"Análise detalhada de receitas por período, serviço e profissional"},{id:"services",name:"Análise de Serviços",icon:Gs,description:"Métricas de desempenho dos serviços, incluindo volume e receita"},{id:"professionals",name:"Ranking de Profissionais",icon:Ve,description:"Comparativo de performance entre profissionais"},{id:"occupancy",name:"Métricas de Ocupação",icon:be,description:"Análise de ocupação, tempo ocioso e cancelamentos"},{id:"heatmap",name:"Mapa de Calor",icon:Y,description:"Visualização de horários mais movimentados"},{id:"clients",name:"Análise de Clientes",icon:Ve,description:"Perfil de clientes, frequência e ticket médio"},{id:"financial",name:"Relatório Financeiro",icon:ge,description:"DRE, fluxo de caixa e análise de custos"}],v=y=>{r.includes(y)?n(r.filter(k=>k!==y)):n([...r,y])},u=()=>{r.length!==0&&(m(!0),setTimeout(()=>{m(!1),j(!0),setTimeout(()=>{j(!1)},3e3)},2e3))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Selecione os Relatórios"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(y=>{const k=y.icon;return t.jsx("div",{onClick:()=>v(y.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${r.includes(y.id)?"border-amber-500 bg-amber-50":"border-slate-200 hover:border-slate-300"}`,children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${r.includes(y.id)?"bg-amber-100":"bg-slate-100"}`,children:t.jsx(k,{className:`w-5 h-5 ${r.includes(y.id)?"text-amber-600":"text-slate-600"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:y.name}),t.jsx("p",{className:"text-sm text-slate-600",children:y.description})]})]})},y.id)})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Opções de Exportação"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Formato"}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsxs("label",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-colors ${l==="pdf"?"border-amber-500 bg-amber-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("input",{type:"radio",name:"format",value:"pdf",checked:l==="pdf",onChange:()=>i("pdf"),className:"sr-only"}),t.jsx(Fs,{className:`w-8 h-8 mb-2 ${l==="pdf"?"text-amber-600":"text-slate-600"}`}),t.jsx("span",{className:"font-medium text-slate-900",children:"PDF"}),t.jsx("span",{className:"text-xs text-slate-600 mt-1",children:"Relatório formatado"})]}),t.jsxs("label",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-colors ${l==="excel"?"border-amber-500 bg-amber-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("input",{type:"radio",name:"format",value:"excel",checked:l==="excel",onChange:()=>i("excel"),className:"sr-only"}),t.jsx(Fs,{className:`w-8 h-8 mb-2 ${l==="excel"?"text-amber-600":"text-slate-600"}`}),t.jsx("span",{className:"font-medium text-slate-900",children:"Excel"}),t.jsx("span",{className:"text-xs text-slate-600 mt-1",children:"Planilha dinâmica"})]}),t.jsxs("label",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-colors ${l==="csv"?"border-amber-500 bg-amber-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("input",{type:"radio",name:"format",value:"csv",checked:l==="csv",onChange:()=>i("csv"),className:"sr-only"}),t.jsx(Fs,{className:`w-8 h-8 mb-2 ${l==="csv"?"text-amber-600":"text-slate-600"}`}),t.jsx("span",{className:"font-medium text-slate-900",children:"CSV"}),t.jsx("span",{className:"text-xs text-slate-600 mt-1",children:"Dados brutos"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Entrega"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",id:"schedule-export",checked:c,onChange:y=>o(y.target.checked),className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsx("label",{htmlFor:"schedule-export",className:"text-slate-900",children:"Agendar envio automático"})]}),c&&t.jsxs("div",{className:"pl-7 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Frequência"}),t.jsxs("select",{value:x,onChange:y=>d(y.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"daily",children:"Diário"}),t.jsx("option",{value:"weekly",children:"Semanal"}),t.jsx("option",{value:"monthly",children:"Mensal"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Destinatários (separados por vírgula)"}),t.jsx("input",{type:"text",value:h,onChange:y=>p(y.target.value),placeholder:"email@exemplo.com, outro@exemplo.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Personalização"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Opções de Relatório"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500",defaultChecked:!0}),t.jsx("span",{className:"text-slate-900",children:"Incluir gráficos e visualizações"})]}),t.jsxs("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500",defaultChecked:!0}),t.jsx("span",{className:"text-slate-900",children:"Incluir tabelas de dados"})]}),t.jsxs("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500",defaultChecked:!0}),t.jsx("span",{className:"text-slate-900",children:"Incluir análises e recomendações"})]}),t.jsxs("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500",defaultChecked:!0}),t.jsx("span",{className:"text-slate-900",children:"Incluir comparativo com período anterior"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Aparência"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",className:"rounded border-slate-300 text-amber-500 focus:ring-amber-500",defaultChecked:!0}),t.jsx("span",{className:"text-slate-900",children:"Incluir logo da barbearia"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Esquema de Cores"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",defaultValue:"amber",children:[t.jsx("option",{value:"amber",children:"Âmbar (Padrão)"}),t.jsx("option",{value:"blue",children:"Azul"}),t.jsx("option",{value:"green",children:"Verde"}),t.jsx("option",{value:"purple",children:"Roxo"}),t.jsx("option",{value:"custom",children:"Personalizado"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Formato de Página"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",defaultValue:"a4",children:[t.jsx("option",{value:"a4",children:"A4"}),t.jsx("option",{value:"letter",children:"Carta"}),t.jsx("option",{value:"legal",children:"Ofício"})]})]})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Pronto para Exportar"}),t.jsxs("p",{className:"text-slate-600 mt-1",children:[r.length," ",r.length===1?"relatório selecionado":"relatórios selecionados"]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[c?t.jsxs("button",{onClick:u,disabled:r.length===0||b||!h,className:"inline-flex items-center px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Y,{className:"w-5 h-5 mr-2"}),b?"Agendando...":"Agendar Envio"]}):t.jsxs("button",{onClick:u,disabled:r.length===0||b,className:"inline-flex items-center px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(qt,{className:"w-5 h-5 mr-2"}),b?"Exportando...":"Exportar Agora"]}),t.jsx("button",{onClick:()=>n([]),disabled:r.length===0||b,className:"inline-flex items-center px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Limpar Seleção"})]})]}),g&&t.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[t.jsx(st,{className:"w-5 h-5 text-green-600 mr-2"}),t.jsx("span",{className:"text-green-800",children:c?"Envio agendado com sucesso! Os relatórios serão enviados conforme programado.":"Relatórios exportados com sucesso!"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Exportações Recentes"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Data"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Relatórios"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Formato"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Usuário"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-600",children:"Ações"})]})}),t.jsxs("tbody",{className:"divide-y divide-slate-200",children:[t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"15/06/2024 14:32"}),t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"Faturamento, Serviços"}),t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"PDF"}),t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"Admin"}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Download"})})]}),t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"10/06/2024 09:15"}),t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"Ranking de Profissionais"}),t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"Excel"}),t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"Admin"}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Download"})})]}),t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"01/06/2024 18:05"}),t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"Relatório Completo"}),t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"PDF"}),t.jsx("td",{className:"py-3 px-4 text-slate-900",children:"Admin"}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Download"})})]})]})]})})]})]})}function Bg(){const[e,s]=S.useState("dashboard"),[a,r]=S.useState({start:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[n,l]=S.useState(""),[i,c]=S.useState("");S.useState(!1);const o={totalRevenue:45680,revenueGrowth:12.5,totalAppointments:1250,appointmentGrowth:8.3,averageTicket:36.54,ticketGrowth:4.2,occupancyRate:78.5,occupancyGrowth:-2.1,customerSatisfaction:4.8,satisfactionGrowth:.3,cancellationRate:8.2,cancellationChange:-1.5},x=[{id:1,type:"warning",title:"Taxa de Ocupação Baixa",message:"Quinta-feira das 14h às 16h com apenas 45% de ocupação",priority:"medium"},{id:2,type:"success",title:"Meta de Faturamento Atingida",message:"Faturamento mensal superou a meta em 15%",priority:"high"},{id:3,type:"info",title:"Novo Recorde de Avaliações",message:"João Silva atingiu 4.9 de média nas avaliações",priority:"low"}],d=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),h=f=>`${f>0?"+":""}${f.toFixed(1)}%`,p=f=>f>0?"text-green-600":f<0?"text-red-600":"text-slate-600",b=f=>f>0?ne:f<0?pt:Oc,m=(f,v,u,y,k)=>{const N=y,w=b(u);return t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:f}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:v}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(w,{className:`w-4 h-4 mr-1 ${p(u)}`}),t.jsx("span",{className:`text-sm font-medium ${p(u)}`,children:h(u)}),t.jsx("span",{className:"text-slate-500 text-sm ml-1",children:"vs mês anterior"})]})]}),t.jsx("div",{className:`${k} p-3 rounded-xl`,children:t.jsx(N,{className:"w-6 h-6 text-white"})})]})})},g=()=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center",children:[t.jsx(ms,{className:"w-5 h-5 mr-2 text-amber-500"}),"Alertas e Notificações"]}),t.jsx("div",{className:"space-y-3",children:x.map(f=>t.jsx("div",{className:`p-4 rounded-lg border-l-4 ${f.type==="warning"?"bg-amber-50 border-amber-400":f.type==="success"?"bg-green-50 border-green-400":"bg-blue-50 border-blue-400"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:`font-medium ${f.type==="warning"?"text-amber-900":f.type==="success"?"text-green-900":"text-blue-900"}`,children:f.title}),t.jsx("p",{className:`text-sm mt-1 ${f.type==="warning"?"text-amber-700":f.type==="success"?"text-green-700":"text-blue-700"}`,children:f.message})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.priority==="high"?"bg-red-100 text-red-800":f.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-slate-100 text-slate-800"}`,children:f.priority==="high"?"Alta":f.priority==="medium"?"Média":"Baixa"})]})},f.id))})]}),j=()=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Ações Rápidas"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{className:"flex items-center justify-center space-x-2 p-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[t.jsx(qt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Exportar Relatório"})]}),t.jsxs("button",{className:"flex items-center justify-center space-x-2 p-3 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[t.jsx(ht,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Enviar por Email"})]}),t.jsxs("button",{className:"flex items-center justify-center space-x-2 p-3 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors",children:[t.jsx(mn,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Configurar Alertas"})]}),t.jsxs("button",{className:"flex items-center justify-center space-x-2 p-3 bg-amber-50 text-amber-700 rounded-lg hover:bg-amber-100 transition-colors",children:[t.jsx(xn,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Definir Metas"})]})]})]});return t.jsxs("div",{className:"space-y-6 pb-10",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Relatórios e Análises"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Y,{className:"w-4 h-4 text-slate-500"}),t.jsx("input",{type:"date",value:a.start,onChange:f=>r(v=>({...v,start:f.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm"}),t.jsx("span",{className:"text-slate-500",children:"até"}),t.jsx("input",{type:"date",value:a.end,onChange:f=>r(v=>({...v,end:f.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm"})]}),t.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(qt,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),t.jsx("div",{className:"border-b border-slate-200 overflow-x-auto",children:t.jsx("nav",{className:"flex space-x-8 min-w-max",children:[{id:"dashboard",label:"Dashboard",icon:xt},{id:"revenue",label:"Faturamento",icon:ge},{id:"services",label:"Serviços",icon:le},{id:"professionals",label:"Profissionais",icon:Ve},{id:"heatmap",label:"Mapa de Calor",icon:Oc},{id:"occupancy",label:"Ocupação",icon:be},{id:"export",label:"Exportação",icon:Fs}].map(f=>{const v=f.icon;return t.jsxs("button",{onClick:()=>s(f.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center space-x-2 ${e===f.id?"border-amber-500 text-amber-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[t.jsx(v,{className:"w-4 h-4"}),t.jsx("span",{children:f.label})]},f.id)})})}),t.jsxs("div",{className:"overflow-x-auto",children:[e==="dashboard"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m("Faturamento Total",d(o.totalRevenue),o.revenueGrowth,ge,"bg-green-500"),m("Total de Atendimentos",o.totalAppointments.toString(),o.appointmentGrowth,Ve,"bg-blue-500"),m("Ticket Médio",d(o.averageTicket),o.ticketGrowth,ne,"bg-purple-500"),m("Taxa de Ocupação",`${o.occupancyRate}%`,o.occupancyGrowth,be,"bg-amber-500"),m("Satisfação do Cliente",o.customerSatisfaction.toString(),o.satisfactionGrowth,le,"bg-pink-500"),m("Taxa de Cancelamento",`${o.cancellationRate}%`,o.cancellationChange,ms,"bg-red-500")]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g(),j()]}),t.jsx(Fg,{dateRange:a})]}),e==="revenue"&&t.jsx(Mg,{dateRange:a,selectedProfessional:n,selectedService:i}),e==="services"&&t.jsx(_g,{dateRange:a,selectedProfessional:n}),e==="professionals"&&t.jsx(Og,{dateRange:a,selectedService:i}),e==="heatmap"&&t.jsx(Lg,{dateRange:a}),e==="occupancy"&&t.jsx(Ig,{dateRange:a,selectedProfessional:n}),e==="export"&&t.jsx($g,{dateRange:a,selectedProfessional:n,selectedService:i})]})]})}function bs({children:e,requiredRole:s}){const{isAuthenticated:a,hasPermission:r,isLoading:n}=Fe(),l=Ka();return n?t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-amber-500"})}):a?s&&!r(s)?t.jsx(ri,{to:"/unauthorized",replace:!0}):t.jsx(t.Fragment,{children:e}):t.jsx(ri,{to:"/",state:{from:l},replace:!0})}function zg({isOpen:e,onClose:s}){return e?t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity",children:t.jsxs("div",{className:"bg-[#303030] rounded-lg p-6 max-w-md w-full border border-[#444444] text-white",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold",children:"Agendar Horário"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white",children:t.jsx(De,{className:"w-6 h-6"})})]}),t.jsxs("form",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Serviço"}),t.jsxs("select",{className:"w-full px-4 py-2 bg-[#333333] border border-[#444444] rounded focus:outline-none focus:ring-2 focus:ring-[#C4A747] text-white",children:[t.jsx("option",{value:"",children:"Selecione um serviço"}),t.jsx("option",{value:"corte",children:"Corte de Cabelo"}),t.jsx("option",{value:"barba",children:"Barba"}),t.jsx("option",{value:"combo",children:"Corte + Barba"}),t.jsx("option",{value:"outros",children:"Outros serviços"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Data"}),t.jsx("input",{type:"date",className:"w-full px-4 py-2 bg-[#333333] border border-[#444444] rounded focus:outline-none focus:ring-2 focus:ring-[#C4A747] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Horário"}),t.jsxs("select",{className:"w-full px-4 py-2 bg-[#333333] border border-[#444444] rounded focus:outline-none focus:ring-2 focus:ring-[#C4A747] text-white",children:[t.jsx("option",{value:"",children:"Selecione"}),t.jsx("option",{value:"09:00",children:"09:00"}),t.jsx("option",{value:"10:00",children:"10:00"}),t.jsx("option",{value:"11:00",children:"11:00"}),t.jsx("option",{value:"14:00",children:"14:00"}),t.jsx("option",{value:"15:00",children:"15:00"}),t.jsx("option",{value:"16:00",children:"16:00"}),t.jsx("option",{value:"17:00",children:"17:00"}),t.jsx("option",{value:"18:00",children:"18:00"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Observações (opcional)"}),t.jsx("textarea",{className:"w-full px-4 py-2 bg-[#333333] border border-[#444444] rounded focus:outline-none focus:ring-2 focus:ring-[#C4A747] text-white",rows:3,placeholder:"Alguma informação adicional?"})]}),t.jsx("button",{type:"submit",className:"w-full bg-[#C4A747] text-black py-3 rounded font-bold hover:bg-[#D4B757] transition-colors",children:"Confirmar Agendamento"})]})]})}):null}function Ug({isOpen:e,onClose:s}){const{user:a}=Fe(),{state:r}=Za();if(!e)return null;const n=[{id:"samp1",date:"10/07/2024",time:"10:00",service:"Corte de Cabelo",barber:"João Silva",status:"confirmado"},{id:"samp2",date:"15/07/2024",time:"14:00",service:"Barba",barber:"Pedro Santos",status:"pendente"},{id:"samp3",date:"20/07/2024",time:"16:00",service:"Corte + Barba",barber:"Carlos Alberto",status:"confirmado"},{id:"samp4",date:"25/07/2024",time:"09:30",service:"Pezinho",barber:"Marcos Paulo",status:"cancelado"},{id:"samp5",date:"30/07/2024",time:"11:00",service:"Tratamento Capilar",barber:"Rafael Costa",status:"confirmado"},{id:"samp6",date:"05/08/2024",time:"15:00",service:"Hidratação",barber:"Lucas Rocha",status:"pendente"},{id:"samp7",date:"10/08/2024",time:"13:30",service:"Coloração",barber:"Fernando Lima",status:"confirmado"},{id:"samp8",date:"15/08/2024",time:"17:00",service:"Alisamento",barber:"Bruno Ferreira",status:"cancelado"}],l=r.appointments.filter(c=>c.clientName===(a==null?void 0:a.name)),i=l.length>0?l.map(c=>({id:c.id,date:c.date,time:c.startTime,service:c.services.map(o=>o.name).join(", "),barber:c.barberName,status:c.status})):n;return t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity",children:t.jsxs("div",{className:"bg-[#303030] rounded-lg p-6 max-w-md w-full border border-[#444444] text-white",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold",children:"Meus Agendamentos"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white",children:t.jsx(De,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"space-y-4",children:i.map(c=>t.jsxs("div",{className:"flex items-center justify-between bg-[#1f1f1f] p-4 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold",children:c.service}),t.jsxs("p",{className:"text-sm text-gray-400",children:[c.date," • ",c.time," • ",c.barber]})]}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="confirmado"?"bg-green-600":"bg-yellow-600"} text-white`,children:c.status})]},c.id))})]})})}function Vg({isOpen:e,onClose:s}){const{user:a,updateUser:r}=Fe(),{state:n,dispatch:l}=fs();if(!e)return null;const i=n.clients.find(m=>m.fullName===(a==null?void 0:a.name)),c={fullName:"Cliente Exemplo",phone:"11999999999",email:"cliente@exemplo.com",password:"123456"},[o,x]=S.useState({fullName:(i==null?void 0:i.fullName)||c.fullName,phone:(i==null?void 0:i.phone)||c.phone,email:(i==null?void 0:i.email)||c.email,password:(a==null?void 0:a.password)||c.password}),[d,h]=S.useState(!1),p=i!=null&&i.address?`${i.address.street}, ${i.address.number} - ${i.address.city}/${i.address.state}`:"Sem endereço cadastrado",b=()=>{if(!i)return;const m={...i,fullName:o.fullName,phone:o.phone,email:o.email};l({type:"UPDATE_CLIENT",payload:m}),r({name:o.fullName,email:o.email,password:o.password}),h(!1),s()};return t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity",children:t.jsxs("div",{className:"bg-[#303030] rounded-lg p-6 max-w-md w-full text-white space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-xl font-bold",children:"Meu Perfil"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white",children:t.jsx(De,{className:"w-6 h-6"})})]}),d?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Nome Completo"}),t.jsx("input",{type:"text",value:o.fullName,onChange:m=>x({...o,fullName:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#333333] border border-[#444444] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Telefone"}),t.jsx("input",{type:"tel",value:o.phone,onChange:m=>x({...o,phone:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#333333] border border-[#444444] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"E-mail"}),t.jsx("input",{type:"email",value:o.email,onChange:m=>x({...o,email:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#333333] border border-[#444444] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Senha"}),t.jsx("input",{type:"password",value:o.password,onChange:m=>x({...o,password:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#333333] border border-[#444444] text-white"})]})]}):t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Nome:"})," ",o.fullName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Telefone:"})," ",o.phone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"E-mail:"})," ",o.email]})]}),t.jsx("div",{className:"flex justify-end gap-2 pt-2",children:d?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded bg-gray-600 text-white",children:"Cancelar"}),t.jsx("button",{onClick:b,className:"px-4 py-2 rounded bg-amber-500 text-black",children:"Salvar"})]}):t.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 rounded bg-amber-500 text-black",children:"Editar"})}),t.jsxs("p",{className:"text-sm text-gray-300",children:["Endereço: ",p]})]})})}function Hg({isOpen:e,onClose:s}){if(!e)return null;const a=[{id:"h1",service:"Corte de Cabelo",date:"01/07/2024",professional:"João Silva",rating:"5.0"},{id:"h2",service:"Corte + Barba",date:"15/06/2024",professional:"Pedro Santos",rating:"4.8"},{id:"h3",service:"Barba",date:"28/05/2024",professional:"Marcos Paulo",rating:"4.7"},{id:"h4",service:"Tratamento Capilar",date:"10/05/2024",professional:"Carlos Alberto",rating:"5.0"},{id:"h5",service:"Selagem",date:"22/04/2024",professional:"Rafael Costa",rating:"4.9"},{id:"h6",service:"Luzes",date:"02/04/2024",professional:"Fernando Lima",rating:"4.8"}];return t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-[#303030] rounded-lg p-6 max-w-md w-full border border-[#444444] text-white",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold",children:"Histórico de Serviços"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white",children:t.jsx(De,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"space-y-4",children:a.map(r=>t.jsxs("div",{className:"flex items-center justify-between bg-[#1f1f1f] p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"bg-slate-500/20 p-3 rounded-full",children:t.jsx(oi,{className:"w-5 h-5 text-slate-300"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold",children:r.service}),t.jsxs("p",{className:"text-sm text-gray-400",children:[r.date," • ",r.professional]})]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"text-sm font-medium",children:r.rating})]})]},r.id))})]})})}const Wg=()=>{const{user:e,logout:s}=Fe(),[a,r]=S.useState(!1),[n,l]=S.useState(!1),[i,c]=S.useState(!1),[o,x]=S.useState(!1),d=[{key:"booking",label:"Agendar",desc:"Marque um novo horário",icon:t.jsx(Y,{className:"w-6 h-6 text-amber-600"}),bg:"bg-amber-100",onClick:()=>r(!0)},{key:"appointments",label:"Meus Agendamentos",desc:"Visualize ou cancele",icon:t.jsx(be,{className:"w-6 h-6 text-blue-600"}),bg:"bg-blue-100",onClick:()=>l(!0)},{key:"profile",label:"Meu Perfil",desc:"Atualize suas informações",icon:t.jsx(yt,{className:"w-6 h-6 text-green-600"}),bg:"bg-green-100",onClick:()=>c(!0)}];return t.jsxs("div",{className:"relative min-h-screen bg-cover bg-center bg-[url('https://images.pexels.com/photos/1813272/pexels-photo-1813272.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-md"}),t.jsxs("div",{className:"relative min-h-screen text-white px-6 lg:px-12 flex flex-col gap-6 max-w-5xl mx-auto",children:[t.jsxs("section",{className:"bg-gray-800 rounded-xl shadow-lg border border-amber-500 p-6",children:[t.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Bem-vindo, ",(e==null?void 0:e.name)||"Cliente","!"]}),t.jsx("p",{className:"text-gray-300",children:"Gerencie seus agendamentos e acompanhe seu histórico de serviços."})]}),t.jsx("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map(h=>t.jsx("button",{onClick:h.onClick,className:"bg-gray-800 rounded-xl shadow-lg border border-amber-500 p-6 hover:bg-gray-700 transition-colors text-left",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`${h.bg} p-3 rounded-full`,children:h.icon}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:h.label}),t.jsx("p",{className:"text-sm text-gray-300",children:h.desc})]})]})},h.key))}),t.jsx("section",{className:"bg-gray-800 rounded-xl shadow-lg border border-amber-500 p-6",children:t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Próximos Agendamentos"})}),t.jsx("section",{className:"bg-gray-800 rounded-xl shadow-lg border border-amber-500 p-6",children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Histórico de Serviços"}),t.jsx("button",{onClick:()=>x(!0),className:"text-sm text-amber-500 hover:text-amber-400",children:"Ver Mais"})]})}),t.jsx("div",{className:"mt-auto flex justify-end",children:t.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-lg shadow hover:from-red-600 hover:to-red-800 transition-colors",children:[t.jsx(Dm,{className:"w-4 h-4"}),"Sair"]})}),t.jsx(zg,{isOpen:a,onClose:()=>r(!1)}),t.jsx(Ug,{isOpen:n,onClose:()=>l(!1)}),t.jsx(Vg,{isOpen:i,onClose:()=>c(!1)}),t.jsx(Hg,{isOpen:o,onClose:()=>x(!1)})]})]})},qg=()=>{var r;const{user:e}=Fe(),{state:s}=Za(),a=((r=s==null?void 0:s.appointments)==null?void 0:r.filter(n=>n.clientName===(e==null?void 0:e.name)))??[];return t.jsxs("div",{className:"relative min-h-screen bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/1813272/pexels-photo-1813272.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')"},children:[t.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-md"}),t.jsxs("div",{className:"relative p-6 space-y-6 max-w-5xl mx-auto text-white",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Meus Agendamentos"}),a.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-900 text-white",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-left",children:"Dia"}),t.jsx("th",{className:"px-4 py-2 text-left",children:"Horário"}),t.jsx("th",{className:"px-4 py-2 text-left",children:"Serviço"}),t.jsx("th",{className:"px-4 py-2 text-left",children:"Profissional"}),t.jsx("th",{className:"px-4 py-2 text-left",children:"Status"})]})}),t.jsx("tbody",{children:a.map(n=>t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("td",{className:"px-4 py-2 text-gray-200",children:n.date}),t.jsx("td",{className:"px-4 py-2 text-gray-200",children:n.startTime}),t.jsx("td",{className:"px-4 py-2 text-gray-200",children:n.services.map(l=>l.name).join(", ")}),t.jsx("td",{className:"px-4 py-2 text-gray-200",children:n.barberName}),t.jsx("td",{className:"px-4 py-2 capitalize text-gray-200",children:n.status})]},n.id))})]})}):t.jsx("p",{className:"text-gray-300",children:"Você ainda não possui agendamentos."})]})]})};function Gg(){var h,p,b;const{user:e,updateUser:s}=Fe(),{state:a,dispatch:r}=fs(),n=a.clients.find(m=>m.fullName===(e==null?void 0:e.name)),l={fullName:"Cliente Exemplo",phone:"11999999999",email:"cliente@exemplo.com",password:"123456",street:"Rua Exemplo",number:"100",city:"São Paulo"},[i,c]=S.useState({fullName:(n==null?void 0:n.fullName)||l.fullName,phone:(n==null?void 0:n.phone)||l.phone,email:(n==null?void 0:n.email)||l.email,password:(e==null?void 0:e.password)||l.password,street:((h=n==null?void 0:n.address)==null?void 0:h.street)||l.street,number:((p=n==null?void 0:n.address)==null?void 0:p.number)||l.number,city:((b=n==null?void 0:n.address)==null?void 0:b.city)||l.city}),[o,x]=S.useState(!1),d=()=>{const m={...n,fullName:i.fullName,phone:i.phone,email:i.email,address:{...n.address||{},street:i.street,number:i.number,city:i.city}};r({type:"UPDATE_CLIENT",payload:m}),s({name:i.fullName,email:i.email,password:i.password}),x(!1)};return t.jsxs("div",{className:"relative min-h-screen bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/1813272/pexels-photo-1813272.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')"},children:[t.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-md"}),t.jsx("div",{className:"relative min-h-screen text-white",children:t.jsxs("div",{className:"p-6 space-y-6 max-w-3xl mx-auto",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Meu Perfil"}),t.jsx("div",{className:"space-y-4",children:o?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Nome Completo"}),t.jsx("input",{type:"text",value:i.fullName,onChange:m=>c({...i,fullName:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#222222] border border-[#444444] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Telefone"}),t.jsx("input",{type:"tel",value:i.phone,onChange:m=>c({...i,phone:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#222222] border border-[#444444] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"E-mail"}),t.jsx("input",{type:"email",value:i.email,onChange:m=>c({...i,email:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#222222] border border-[#444444] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Senha"}),t.jsx("input",{type:"password",value:i.password,onChange:m=>c({...i,password:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#222222] border border-[#444444] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Rua"}),t.jsx("input",{type:"text",value:i.street,onChange:m=>c({...i,street:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#222222] border border-[#444444] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Número"}),t.jsx("input",{type:"text",value:i.number,onChange:m=>c({...i,number:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#222222] border border-[#444444] text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Cidade"}),t.jsx("input",{type:"text",value:i.city,onChange:m=>c({...i,city:m.target.value}),className:"w-full mt-1 px-3 py-2 rounded bg-[#222222] border border-[#444444] text-white"})]})]}):t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Nome:"})," ",i.fullName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Telefone:"})," ",i.phone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"E-mail:"})," ",i.email]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Rua:"})," ",i.street]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Número:"})," ",i.number]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Cidade:"})," ",i.city]})]})}),t.jsx("div",{className:"flex justify-end pt-4 gap-2",children:o?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded bg-gray-600 text-white",children:"Cancelar"}),t.jsx("button",{onClick:d,className:"px-4 py-2 rounded bg-amber-500 text-black",children:"Salvar"})]}):t.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 rounded bg-amber-500 text-black",children:"Editar"})})]})})]})}function Qg(){const{user:e}=Fe(),{state:s}=fs(),a=s.clients.find(r=>r.fullName===(e==null?void 0:e.name));return t.jsxs("div",{className:"relative min-h-screen bg-cover bg-center",style:{backgroundImage:"url('https://images.pexels.com/photos/1813272/pexels-photo-1813272.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')"},children:[t.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-md"}),t.jsxs("div",{className:"relative min-h-screen text-white p-6 space-y-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Histórico de Serviços"}),a&&a.serviceHistory.length>0?t.jsx("div",{className:"space-y-4",children:a.serviceHistory.map(r=>t.jsxs("div",{className:"bg-[#222222] border border-[#333333] rounded-lg p-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:r.serviceName}),t.jsxs("p",{className:"text-sm text-gray-400",children:[r.date.toLocaleDateString("pt-BR")," • ",r.professionalName]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(le,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"text-sm font-medium",children:r.pointsEarned})]})]},r.id))}):t.jsx("p",{children:"Nenhum serviço encontrado."})]})]})}const Yg=[{time:"09:00",service:"Corte de Cabelo",client:"Carlos Almeida"},{time:"10:30",service:"Barba",client:"Marcos Lima"},{time:"13:00",service:"Corte + Barba",client:"Roberto Silva"}];function Xg(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Próximos Agendamentos"}),t.jsx("div",{className:"space-y-4",children:Yg.map((e,s)=>t.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Gs,{className:"w-5 h-5 text-amber-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-900",children:e.service}),t.jsxs("div",{className:"flex items-center text-sm text-slate-600 gap-1",children:[t.jsx(be,{className:"w-4 h-4"}),t.jsx("span",{children:e.time})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[t.jsx(yt,{className:"w-4 h-4"}),t.jsx("span",{children:e.client})]})]},s))}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsx(mo,{})})]})}function Kg(){const e=Rn(),{user:s}=Fe(),a=()=>{(s==null?void 0:s.role)==="admin"?e("/admin"):(s==null?void 0:s.role)==="employee"?e("/employee"):(s==null?void 0:s.role)==="client"?e("/client"):e("/")};return t.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full p-8 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(lg,{className:"w-10 h-10 text-red-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Acesso Negado"}),t.jsx("p",{className:"text-slate-600 mb-6",children:"Você não tem permissão para acessar esta página. Esta área requer privilégios adicionais."}),t.jsxs("button",{onClick:a,className:"inline-flex items-center px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[t.jsx(io,{className:"w-4 h-4 mr-2"}),"Voltar para área permitida"]})]})})}function Jg(){return t.jsx("footer",{className:"bg-black py-8",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center mb-4",children:t.jsxs("span",{className:"text-xl font-bold tracking-wider text-white",children:["BARBER",t.jsx("span",{className:"text-[#C4A747]",children:"NEX"})]})}),t.jsx("p",{className:"text-gray-400 mb-4",children:"Transformando estilos e elevando a experiência de barbearia desde 2015."}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("a",{href:"#",className:"w-10 h-10 bg-[#333333] rounded-full flex items-center justify-center hover:bg-[#C4A747] transition-colors",children:t.jsx(ag,{className:"w-5 h-5 text-white"})}),t.jsx("a",{href:"#",className:"w-10 h-10 bg-[#333333] rounded-full flex items-center justify-center hover:bg-[#C4A747] transition-colors",children:t.jsx(tg,{className:"w-5 h-5 text-white"})}),t.jsx("a",{href:"#",className:"w-10 h-10 bg-[#333333] rounded-full flex items-center justify-center hover:bg-[#C4A747] transition-colors",children:t.jsx(og,{className:"w-5 h-5 text-white"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold mb-4 uppercase text-white",children:"Serviços"}),t.jsx("ul",{className:"space-y-2",children:["Corte de Cabelo","Barba","Sobrancelha","Tratamentos","Coloração","Combos"].map((e,s)=>t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#C4A747] transition-colors",children:e})},s))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold mb-4 uppercase text-white",children:"Links Úteis"}),t.jsx("ul",{className:"space-y-2",children:["Início","Sobre Nós","Serviços","Galeria","Equipe","Contato"].map((e,s)=>t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#C4A747] transition-colors",children:e})},s))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold mb-4 uppercase text-white",children:"Contato"}),t.jsxs("ul",{className:"space-y-4",children:[t.jsxs("li",{className:"flex items-start",children:[t.jsx(uo,{className:"w-5 h-5 text-[#C4A747] mt-1 flex-shrink-0"}),t.jsx("span",{className:"ml-3 text-gray-400",children:"Av. Paulista, 1000, Bela Vista, São Paulo - SP"})]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx(ls,{className:"w-5 h-5 text-[#C4A747] flex-shrink-0"}),t.jsx("span",{className:"ml-3 text-gray-400",children:"(11) 99999-9999"})]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx(ht,{className:"w-5 h-5 text-[#C4A747] flex-shrink-0"}),t.jsx("span",{className:"ml-3 text-gray-400",children:"contato@barberpro.com.br"})]})]})]})]}),t.jsxs("div",{className:"border-t border-[#333333] mt-8 pt-6 text-center",children:[t.jsx("p",{className:"text-gray-500",children:"© 2025 BarberPro. Todos os direitos reservados."}),t.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:"Desenvolvido por NEXLA"})]})]})})}function Zg(){return t.jsxs("div",{className:"min-h-screen",children:[t.jsx(_m,{}),t.jsx(Jg,{})]})}const ev={dashboard:"Dashboard",appointments:"Agendamentos",calendar:"Agenda",landing:"Landing Page",booking:"Reserva Online",clients:"Clientes",barbers:"Profissionais",finances:"Financeiro",services:"Serviços",reports:"Relatórios",settings:"Configurações"};function tv(){const[e,s]=S.useState("landing"),[a,r]=S.useState(!1),n=Ka(),l=()=>{switch(e){case"dashboard":return t.jsx(zc,{});case"landing":return t.jsx(_m,{});case"appointments":return t.jsx(gg,{});case"calendar":return t.jsx(vg,{});case"booking":return t.jsx(bg,{});case"clients":return t.jsx(wg,{});case"barbers":return t.jsx(Eg,{});case"services":return t.jsx(Ag,{});case"finances":return t.jsx(Sg,{});case"reports":return t.jsx(Bg,{});case"settings":return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 text-center",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Configurações"}),t.jsx("p",{className:"text-slate-600",children:"Módulo em desenvolvimento"})]});default:return t.jsx(zc,{})}};return S.useEffect(()=>{n.pathname==="/admin"&&s("dashboard")},[n.pathname]),t.jsxs("div",{className:"flex h-screen bg-slate-100",children:[t.jsx(dg,{activeTab:e,onTabChange:s,isOpen:a,onToggle:()=>r(!a)}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(ug,{onMenuToggle:()=>r(!a),title:ev[e]}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:l()})]})]})}function sv(){return t.jsx(Gf,{children:t.jsx(rp,{children:t.jsx(Wf,{children:t.jsx(zf,{children:t.jsx(Ff,{children:t.jsx(Of,{children:t.jsx(Af,{children:t.jsxs(Jh,{children:[t.jsx(ot,{path:"/",element:t.jsx(Zg,{})}),t.jsx(ot,{path:"/client",element:t.jsx(bs,{requiredRole:"client",children:t.jsx(Wg,{})})}),t.jsx(ot,{path:"/client/appointments",element:t.jsx(bs,{requiredRole:"client",children:t.jsx(qg,{})})}),t.jsx(ot,{path:"/client/profile",element:t.jsx(bs,{requiredRole:"client",children:t.jsx(Gg,{})})}),t.jsx(ot,{path:"/client/history",element:t.jsx(bs,{requiredRole:"client",children:t.jsx(Qg,{})})}),t.jsx(ot,{path:"/employee",element:t.jsx(bs,{requiredRole:"employee",children:t.jsx(Xg,{})})}),t.jsx(ot,{path:"/admin/*",element:t.jsx(bs,{requiredRole:"admin",children:t.jsx(tv,{})})}),t.jsx(ot,{path:"/unauthorized",element:t.jsx(Kg,{})}),t.jsx(ot,{path:"*",element:t.jsx(ri,{to:"/",replace:!0})})]})})})})})})})})}em(document.getElementById("root")).render(t.jsx(S.StrictMode,{children:t.jsx(tp,{children:t.jsx(sv,{})})}));
